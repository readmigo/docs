## å†³ç­–é—®é¢˜

**æ–¹æ¡ˆ A**ï¼šPipeline å¤„ç† Gutenberg æºæ–‡ä»¶ï¼Œè½¬æ¢ä¸ºæ ‡å‡† EPUB æ ¼å¼
**æ–¹æ¡ˆ B**ï¼šé˜…è¯»å™¨è¿ç§»åˆ° CSS Multi-Column åˆ†é¡µ

**é¢å¤–çº¦æŸ**ï¼šéœ€æ”¯æŒ TTS + æ–‡æœ¬è¿›åº¦æ˜¾ç¤º + åŒå‡»ç¿»è¯‘

---

## ã€‡ã€å·²è®°å½•é—®é¢˜æ¦‚è§ˆ

åŸºäºä¸‰ä»½é—®é¢˜æ–‡æ¡£çš„å®Œæ•´ç»Ÿè®¡ï¼Œå½“å‰ç³»ç»Ÿå·²å‘ç° **26 ä¸ªé—®é¢˜**ï¼ˆæ’é™¤ Dropcap ç›¸å…³é—®é¢˜ï¼‰ï¼š

> **è®¾è®¡å†³ç­–ï¼šä¸æ”¯æŒ Dropcapï¼ˆé¦–å­—ä¸‹æ²‰ï¼‰å¸ƒå±€**
>
> åŸå› ï¼šDropcap å¸ƒå±€å¼•å…¥äº† 7 ä¸ªå¤æ‚é—®é¢˜ï¼Œå¢åŠ äº†å¤§é‡åˆ†é¡µç®—æ³•å¤æ‚åº¦ã€‚
> ç®€åŒ–æ–¹æ¡ˆï¼šPipeline ç›´æ¥ç§»é™¤ Dropcap å›¾ç‰‡ï¼Œä½¿ç”¨æ™®é€šæ®µè½é¦–å­—æ¯æ˜¾ç¤ºã€‚

### é—®é¢˜åˆ†ç±»ç»Ÿè®¡

| é—®é¢˜æ¥æº | æ•°é‡ | å·²ä¿®å¤ | å¾…å¤„ç† |
|---------|------|-------|-------|
| é˜…è¯»å™¨ JS åˆ†é¡µç®—æ³• | 15 | 13 | 2 |
| åç«¯ EPUB è§£æ | 6 | 6 | 0 |
| CSS æ ·å¼ç¼ºå¤± | 5 | 3 | 2 |

### é—®é¢˜ä¸¥é‡ç¨‹åº¦åˆ†å¸ƒ

| ä¸¥é‡ç¨‹åº¦ | æ•°é‡ | ç¤ºä¾‹ |
|---------|------|------|
| ğŸ”´ ä¸¥é‡ | 6 | å†…å®¹æˆªæ–­ã€æ–‡å­—è¢«å‰Šã€ç« èŠ‚ä¸¢å¤± |
| ğŸŸ  ä¸­ç­‰ | 15 | æ ‡é¢˜é‡å¤ã€ç©ºç™½é¡µã€æ ·å¼ä¸¢å¤± |
| ğŸŸ¡ è½»å¾® | 5 | å›¾ç‰‡å°ºå¯¸ã€è¾¹è·ä¸é€‚é… |

### å…³é”®å‘ç°

> **15/26 (58%) çš„é—®é¢˜ç›´æ¥ç”± JS æ‰‹åŠ¨åˆ†é¡µç®—æ³•å¼•èµ·**
>
> è¿™äº›é—®é¢˜å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š
> - æŒç»­æ€§ï¼šæ¯æœ¬æ–°ä¹¦éƒ½å¯èƒ½è§¦å‘æ–° bug
> - å¤æ‚æ€§ï¼šä¿®å¤ä¸€ä¸ªé—®é¢˜å¯èƒ½å¼•å…¥æ–°é—®é¢˜
> - è„†å¼±æ€§ï¼šç®—æ³•é€»è¾‘å¤æ‚ï¼Œéš¾ä»¥è¦†ç›–æ‰€æœ‰è¾¹ç•Œæƒ…å†µ

---

### 3.1 è¡Œä¸šéªŒè¯

| äº§å“ | åˆ†é¡µæ–¹æ¡ˆ | TTS æ”¯æŒ | è¿›åº¦æ˜¾ç¤º | ç¿»è¯‘åŠŸèƒ½ |
|------|----------|---------|---------|---------|
| **Apple Books** | CSS Column | âœ… æœ—è¯»+é«˜äº® | âœ… | âœ… é•¿æŒ‰æŸ¥è¯ |
| **Kindle** | CSS Column | âœ… Whispersync | âœ… | âœ… å†…ç½®è¯å…¸ |
| **Readium** | CSS Column | âœ… Web Speech API | âœ… | éœ€è‡ªè¡Œå®ç° |
| **epub.js** | CSS Column | âœ… å¯é›†æˆ | âœ… | éœ€è‡ªè¡Œå®ç° |
| **Thorium** | CSS Column | âœ… å¥+è¯é«˜äº® | âœ… | âœ… |

**ç»“è®º**ï¼šCSS Column æ–¹æ¡ˆå®Œå…¨å¯ä»¥æ”¯æŒè¿™äº›åŠŸèƒ½ï¼Œè¡Œä¸šå·²æœ‰æˆç†Ÿå®ç°ã€‚

---

### 4.2 CSS Column + TTS

**åˆ†æ**ï¼š
- JS æ‰‹åŠ¨åˆ†é¡µçš„å¤æ‚åº¦é›†ä¸­åœ¨åˆ†é¡µç®—æ³•ï¼Œè€Œä¸”æ˜¯æŒç»­æ€§é—®é¢˜ï¼ˆæ¯ä¸ªæ–°ä¹¦éƒ½å¯èƒ½æš´éœ²æ–° bugï¼‰
- CSS Column çš„å¤æ‚åº¦é›†ä¸­åœ¨äº¤äº’åŠŸèƒ½ï¼Œä½†è¿™æ˜¯ä¸€æ¬¡æ€§æŠ•å…¥ï¼ˆå®ç°åå¯¹æ‰€æœ‰ä¹¦é€šç”¨ï¼‰

---

### 5.1 ç»§ç»­ä½¿ç”¨ JS æ‰‹åŠ¨åˆ†é¡µçš„é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ |
|------|------|------|
| åˆ†é¡µç®—æ³•æŒç»­å‡º bug | é«˜ | é«˜ - ç”¨æˆ·ä½“éªŒå·® |
| æ–°ä¹¦æ ¼å¼è§¦å‘æ–°é—®é¢˜ | é«˜ | ä¸­ - éœ€è¦æŒç»­ä¿®å¤ |
| æ’ç‰ˆè´¨é‡æ— æ³•åª²ç¾ç«å“ | ç¡®å®š | é«˜ - ç«äº‰åŠ›ä¸è¶³ |
| å­¤è¡Œå¯¡è¡Œé—®é¢˜éš¾ä»¥å®Œç¾è§£å†³ | é«˜ | ä¸­ - é˜…è¯»ä½“éªŒå·® |

### 5.2 è¿ç§»åˆ° CSS Column çš„é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ |
|------|------|------|
| è¿ç§»å·¥ä½œé‡ | ç¡®å®š | ä¸­ - ä¸€æ¬¡æ€§æŠ•å…¥ |
| TTS/ç¿»è¯‘å®ç°å¤æ‚ | ä¸­ | ä¸­ - æœ‰è¡Œä¸šå‚è€ƒ |
| æ—§ç‰ˆæµè§ˆå™¨å…¼å®¹ | ä½ | ä½ - ç›®æ ‡æ˜¯ç§»åŠ¨ç«¯ |

---

### 6.2 ä¸ºä»€ä¹ˆä¸åªåš Pipelineï¼Ÿ

```mermaid
graph LR
    A["å®Œç¾ EPUB"] --> B["JS æ‰‹åŠ¨åˆ†é¡µ<br>(é—®é¢˜æ ¹æºåœ¨è¿™é‡Œ)"] --> C["ä»ç„¶æœ‰ bug"]
```

Pipeline è§£å†³çš„æ˜¯è¾“å…¥é—®é¢˜ï¼Œä½†æ¸²æŸ“é—®é¢˜è¿˜åœ¨ã€‚

### 6.3 ä¸ºä»€ä¹ˆä¸åªåš CSS Columnï¼Ÿ

```mermaid
graph LR
    A["è„æ•°æ® EPUB<br>(é—®é¢˜åœ¨è¿™é‡Œ)"] --> B["CSS Column"] --> C["æ˜¾ç¤º boilerplate"]
```

CSS Column è§£å†³çš„æ˜¯æ¸²æŸ“é—®é¢˜ï¼Œä½†æºæ–‡ä»¶é—®é¢˜è¿˜åœ¨ã€‚

---

### 8.3 å¼€æºå‚è€ƒ

| é¡¹ç›® | è¯´æ˜ | é“¾æ¥ |
|------|------|------|
| Readium CSS | è¡Œä¸šæ ‡å‡†æ ·å¼è¡¨ | [GitHub](https://github.com/readium/readium-css) |
| epub.js | JS EPUB æ¸²æŸ“åº“ | [GitHub](https://github.com/futurepress/epub.js) |
| Foliate-js | æµè§ˆå™¨ EPUB æ¸²æŸ“ | [GitHub](https://github.com/johnfactotum/foliate-js) |
| Thorium Reader | å®Œæ•´é˜…è¯»å™¨å®ç° | [GitHub](https://github.com/edrlab/thorium-reader) |

---

### 9.1 å„é—®é¢˜çš„è§£å†³è·¯å¾„

åŸºäº 26 ä¸ªå·²è®°å½•é—®é¢˜ï¼ˆæ’é™¤ Dropcap ç›¸å…³ï¼‰ï¼Œåˆ†æå„é—®é¢˜åœ¨ä¸åŒæ–¹æ¡ˆä¸‹çš„è§£å†³æƒ…å†µï¼š

### 9.2 CSS Multi-Column å¦‚ä½•è§£å†³ JS åˆ†é¡µé—®é¢˜

| JS åˆ†é¡µé—®é¢˜ | CSS Column è§£å†³æœºåˆ¶ |
|------------|-------------------|
| å†…å®¹æˆªæ–­/ä¸¢å¤± | æµè§ˆå™¨åŸç”Ÿåˆ†æ ï¼Œä¸å­˜åœ¨æ‰‹åŠ¨è®¡ç®—é”™è¯¯ |
| ç©ºç™½é¡µé—®é¢˜ | CSS è‡ªåŠ¨å¡«å……ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†ç©ºå…ƒç´  |
| è¶…å¤§å…ƒç´ åˆ†å‰² | `break-inside: avoid` + è‡ªåŠ¨æº¢å‡ºå¤„ç† |
| æ–‡å­—è¢«å‰Š | æ—  overflow:hiddenï¼Œå†…å®¹è‡ªç„¶æµå…¥ä¸‹ä¸€æ  |
| å•è¯æ–­è£‚ | CSS `hyphens: auto` + `word-break` åŸç”Ÿæ§åˆ¶ |
| å­¤è¡Œå¯¡è¡Œ | CSS `orphans: 2; widows: 2` åŸç”Ÿæ”¯æŒ |

### 9.3 Pipeline å¦‚ä½•è§£å†³æºæ–‡ä»¶é—®é¢˜

| æºæ–‡ä»¶é—®é¢˜ | Pipeline è§£å†³æœºåˆ¶ |
|-----------|------------------|
| ç« èŠ‚ä¸¢å¤± | TOC-based è§£æï¼Œå¤„ç†åŒæ–‡ä»¶å¤šç« èŠ‚ |
| Cover ç¼ºå¤± | è‡ªåŠ¨æ£€æµ‹å¹¶æ·»åŠ å°é¢ç« èŠ‚ |
| Boilerplate æ®‹ç•™ | æ­£åˆ™æ¸…ç† Gutenberg ç‰¹å®šå…ƒç´  |
| CSS æ ·å¼ä¸¢å¤± | ä¿ç•™ `<style>` æ ‡ç­¾ï¼Œä¸Šä¼ å¤–éƒ¨ CSS |
| Dropcap å›¾ç‰‡ | ç›´æ¥ç§»é™¤ï¼Œç®€åŒ–æ’ç‰ˆé€»è¾‘ |

### 9.4 ä»…å•ä¸€æ–¹æ¡ˆçš„å±€é™æ€§

**ä»… Pipelineï¼ˆä¸æ”¹åˆ†é¡µç®—æ³•ï¼‰ï¼š**
```mermaid
graph LR
    A["å®Œç¾ EPUB"] --> B["JS æ‰‹åŠ¨åˆ†é¡µ<br>(é—®é¢˜æ ¹æºæœªè§£å†³)"] --> C["ä»æœ‰ 15 ä¸ª bug"]
```
- å³ä½¿æºæ–‡ä»¶å®Œç¾ï¼Œåˆ†é¡µç®—æ³•çš„è¾¹ç•Œæƒ…å†µä»ä¼šå¯¼è‡´é—®é¢˜
- æ¯æœ¬æ–°ä¹¦æ ¼å¼éƒ½å¯èƒ½è§¦å‘æ–°çš„åˆ†é¡µ bug

**ä»… CSS Columnï¼ˆä¸æ¸…æ´—æºæ–‡ä»¶ï¼‰ï¼š**
```mermaid
graph LR
    A["è„æ•°æ® EPUB<br>(æºæ–‡ä»¶é—®é¢˜æœªè§£å†³)"] --> B["CSS Column"] --> C["æ˜¾ç¤º boilerplate"]
```
- Gutenberg ç‰ˆæƒä¿¡æ¯ä¼šæ˜¾ç¤ºåœ¨é˜…è¯»å†…å®¹ä¸­
- ç« èŠ‚ç»“æ„æ··ä¹±ï¼Œç”¨æˆ·ä½“éªŒå·®

---

### 10.1 æ•°æ®é©±åŠ¨çš„å†³ç­–

| æŒ‡æ ‡ | æ•°å€¼ | ç»“è®º |
|------|------|------|
| JS åˆ†é¡µ bug å æ¯” | 58% (15/26) | å¿…é¡»è¿ç§»åˆ° CSS Column |
| Pipeline èƒ½è§£å†³çš„é—®é¢˜ | 23% (6/26) | å¿…é¡»ä¿ç•™ Pipeline æ¸…æ´— |
| ä¸¤è€…ç»“åˆèƒ½è§£å†³çš„é—®é¢˜ | 100% (26/26) | å¿…é¡»ä¸¤è€…ç»“åˆ |

### 10.3 æ€»ç»“

| é—®é¢˜ | ç­”æ¡ˆ |
|------|------|
| **åªåš Pipeline æ˜¯å¦è¶³å¤Ÿï¼Ÿ** | âŒ ä¸å¤Ÿï¼Œ15 ä¸ªåˆ†é¡µ bug ä»åœ¨ |
| **åªåš CSS Column æ˜¯å¦è¶³å¤Ÿï¼Ÿ** | âŒ ä¸å¤Ÿï¼Œ6 ä¸ªæºæ–‡ä»¶é—®é¢˜ä»åœ¨ |
| **æœ€ä½³æ–¹æ¡ˆï¼Ÿ** | âœ… ä¸¤è€…ç»“åˆï¼Œè§£å†³ 100% é—®é¢˜ |
| **TTS/ç¿»è¯‘ä¸ CSS Column å…¼å®¹ï¼Ÿ** | âœ… å…¼å®¹ï¼Œè¡Œä¸šå·²éªŒè¯ |
| **è¿ç§»æˆæœ¬å€¼å¾—ï¼Ÿ** | âœ… å€¼å¾—ï¼Œä¸€æ¬¡æ€§æŠ•å…¥æ¢å–é•¿æœŸæ”¶ç›Š |

---

## é™„å½•ï¼šé—®é¢˜æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | é—®é¢˜æ•°é‡ | ä¸»è¦å†…å®¹ |
|------|---------|---------|
| [epub-reader-mobile-issues.md](./epub-reader-mobile-issues.md) | 15 | ç¬¬ä¸€æ‰¹é—®é¢˜ï¼šå›¾ç‰‡æº¢å‡ºã€Drop Capã€CSSä¸¢å¤±ç­‰ |
| [epub-reader-mobile-issues2.md](./epub-reader-mobile-issues2.md) | 16 | ç¬¬äºŒæ‰¹é—®é¢˜ï¼šåˆ†é¡µç®—æ³•ã€ORPHAN PREVENTIONã€åç«¯è§£æç­‰ |
| [epub-reader-mobile-issues3.md](./epub-reader-mobile-issues3.md) | 2 | ç¬¬ä¸‰æ‰¹é—®é¢˜ï¼šCoverç« èŠ‚ã€åˆ†é¡µæˆªæ–­ |

---

*æ–‡æ¡£æ›´æ–°æ—¥æœŸ: 2026-01-26*

# Standard Ebooks 质量保证与规模化分析

> 分析 SE 如何保证质量，以及如何扩展处理所有 PG 书籍

## 目录

1. [现状分析](#1-现状分析)
2. [SE 质量保证体系](#2-se-质量保证体系)
3. [瓶颈分析](#3-瓶颈分析)
4. [规模化路径](#4-规模化路径)
5. [Readmigo 策略建议](#5-readmigo-策略建议)

---

## 1. 现状分析

### 1.1 数量对比

| 指标 | 数量 | 说明 |
|-----|------|------|
| **SE 书籍** | ~1,373 本 | 115页 × 12本/页 |
| **PG 书籍** | ~76,000 本 | 2026年初数据 |
| **覆盖率** | **1.8%** | SE 仅完成 PG 的极小部分 |
| **SE 年增长** | ~200-300 本 | 志愿者产出 |
| **PG 年增长** | ~2,000 本 | 30-50本/周 |

### 1.2 差距预估

```
按当前速度:
- SE 每年新增: ~250 本
- PG 每年新增: ~2,000 本
- 差距每年扩大: 1,750 本

完成全部 PG 所需时间:
- 当前差距: 76,000 - 1,373 = 74,627 本
- 按 250本/年: 298 年 ❌

即使 10x 提速:
- 按 2,500本/年: 29.8 年
- 考虑 PG 增长: 永远追不上 ❌
```

### 1.3 核心问题

**SE 模式不可规模化** - 高质量需要高人力投入

---

## 2. SE 质量保证体系

### 2.1 27步生产流程

```
┌─────────────────────────────────────────────────────────────┐
│                    SE 生产流程 (27步)                        │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  准备阶段 (4步)                                              │
│  ├── 1. 安装工具集                                          │
│  ├── 2. 选择公版书 (pre-1931)                               │
│  ├── 3. 找到原版扫描件                                       │
│  └── 4. 邮件列表通知社区                                     │
│                                                              │
│  初始化阶段 (3步)                                            │
│  ├── 5. se create-draft 生成骨架                            │
│  ├── 6. 移除 PG 标记，初始提交                               │
│  └── 7. se split-file 分割章节                              │
│                                                              │
│  自动化处理 (4步)                                            │
│  ├── 8. se clean 格式化                                     │
│  ├── 9. se typogrify 智能标点                               │
│  ├── 10. se semanticate 语义标注                            │
│  └── 11. se find-unusual-characters 异常检测                │
│                                                              │
│  手动处理 (9步) ⚠️ 瓶颈                                      │
│  ├── 12. 手动排版修正                                        │
│  ├── 13. 脚注转尾注                                          │
│  ├── 14. 插图列表                                            │
│  ├── 15. se british2american + 手动验证                     │
│  ├── 16. 手动语义标注 (em vs i, xml:lang, 诗歌)             │
│  ├── 17. se modernize-spelling + 手动验证                   │
│  ├── 18. se find-mismatched-diacritics + 手动统一           │
│  ├── 19. se find-mismatched-dashes + 手动统一               │
│  └── 20. 章节标题手动检查                                    │
│                                                              │
│  构建阶段 (4步)                                              │
│  ├── 21. se build-manifest/spine                            │
│  ├── 22. se build-toc                                       │
│  ├── 23. se clean + se lint                                 │
│  └── 24. se build 构建 EPUB/Kindle/Kobo                     │
│                                                              │
│  校对阶段 (1步) ⚠️ 最大瓶颈                                  │
│  └── 25. 封面到封底完整校对 (对照原版扫描)                   │
│                                                              │
│  发布阶段 (2步)                                              │
│  ├── 26. 封面图片 (公版艺术品 + 主编审批)                    │
│  └── 27. 元数据 + Colophon 完成                             │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 Lint 规则体系 (4,305行代码)

SE 的 `se lint` 包含 **200+ 条自动化检查规则**:

#### CSS 规则 (c-001 ~ c-027)

| 规则 | 检查内容 |
|-----|---------|
| c-001 | 非法选择器 |
| c-002 | 未使用的 CSS |
| c-008 | 单次使用的 class |
| c-013 | margin/padding 必须是 0.5em 倍数 |
| c-022 | 禁止 rem 单位 (用 em) |
| c-027 | font-size 不能小于 1 |

#### 文件系统规则 (f-001 ~ f-019)

| 规则 | 检查内容 |
|-----|---------|
| f-001 | 非法文件/目录 |
| f-002 | 缺少必需文件 |
| f-008 | 文件名非 URL-safe |
| f-016 | 图片超过 1.5MB |
| f-017 | cover.jpg 必须 1400×2100 |

#### 元数据规则 (m-001 ~ m-087)

| 规则 | 检查内容 |
|-----|---------|
| m-006 | PG URL 格式必须规范 |
| m-012 | dc:title 必须 typogrify |
| m-018 | 禁止 HTML 实体 |
| m-065 | 字数必须匹配 |
| m-087 | MARC 关系码按字母排序 |

#### 排版规则 (t-001 ~ t-078)

| 规则 | 检查内容 |
|-----|---------|
| t-002 | 标点在引号内 |
| t-047 | US → U.S. |
| t-078 | ly 副词后不加连字符 |

#### 语法规则 (x-001 ~ x-xxx)

| 规则 | 检查内容 |
|-----|---------|
| x-xxx | XHTML 结构验证 |
| x-xxx | epub:type 语义正确性 |
| x-xxx | ID 唯一性 |

#### 拼写规则 (y-001 ~ y-xxx)

| 规则 | 检查内容 |
|-----|---------|
| y-001 | 重复词 (a a, the the) |
| y-002 | 标点后无空格 |

### 2.3 人工审核流程

```
┌─────────────────────────────────────────────────────────────┐
│                    SE 人工审核层                             │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  第1层: 志愿者自检                                           │
│  ├── 运行 se lint 无错误                                    │
│  ├── 对照原版扫描校对                                        │
│  └── 封面到封底完整阅读                                      │
│                                                              │
│  第2层: 邮件列表社区审核                                     │
│  ├── 提交仓库链接                                            │
│  └── 社区成员反馈                                            │
│                                                              │
│  第3层: 主编审批 (Editor-in-Chief)                          │
│  ├── 封面艺术品审批                                          │
│  └── 最终发布决定                                            │
│                                                              │
│  第4层: 持续维护                                             │
│  ├── 读者反馈错误                                            │
│  ├── Git PR 修复                                            │
│  └── 版本更新                                                │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 2.4 质量保证关键原则

| 原则 | 说明 |
|-----|------|
| **原版对照** | 必须对照扫描件验证格式/斜体/拼写 |
| **人工校对** | 封面到封底完整阅读 |
| **Git 溯源** | 每次修改可追溯 |
| **Editorial 标记** | 编辑修改必须单独提交并标记 |
| **lint 零容忍** | 发布前必须 lint 无错误 |
| **禁止 AI** | 元数据描述禁止使用 AI 生成 |

---

## 3. 瓶颈分析

### 3.1 时间瓶颈

| 步骤 | 预估时间 | 自动化可能 |
|-----|---------|-----------|
| 准备工作 | 1-2小时 | 部分 |
| 自动化处理 | 10分钟 | ✅ 已自动化 |
| 手动处理 | 4-8小时 | 部分 |
| **完整校对** | **10-40小时** | ❌ 核心瓶颈 |
| 封面制作 | 2-4小时 | 部分 |
| 元数据 | 1-2小时 | 部分 |
| **总计** | **20-60小时/本** | - |

### 3.2 人力瓶颈

```
SE 志愿者结构:

         ┌──────────────┐
         │ Editor-in-  │  1人 (审批瓶颈)
         │   Chief     │
         └──────┬───────┘
                │
         ┌──────┴───────┐
         │   Editors    │  ~5-10人 (审核瓶颈)
         └──────┬───────┘
                │
         ┌──────┴───────┐
         │  Producers   │  ~50-100人 (产出限制)
         └──────┬───────┘
                │
         ┌──────┴───────┐
         │  Proofreaders│  ~100-200人 (最需要)
         └──────────────┘
```

### 3.3 技术瓶颈

| 瓶颈 | 说明 |
|-----|------|
| 扫描件获取 | 部分书籍无高质量扫描 |
| OCR 质量 | PG 转录有错误 |
| 封面艺术 | 公版艺术品选择有限 |
| 工具依赖 | 需要 Linux/WSL |

### 3.4 质量-速度权衡

```
                质量
                  ↑
                  │     ★ SE 当前位置
                  │       (极高质量,极低速度)
                  │
                  │
                  │           ◆ 目标区域
                  │             (高质量,中速度)
                  │
                  │
                  │                 ○ PG 原始
                  │                   (中等质量,高速度)
                  └─────────────────────────→ 速度
```

---

## 4. 规模化路径

### 4.1 路径对比

| 路径 | 速度提升 | 质量保持 | 可行性 |
|-----|---------|---------|-------|
| A. 更多志愿者 | 2-3x | ✅ | 低 (招募难) |
| B. 降低标准 | 5-10x | ❌ | 中 (违背SE理念) |
| C. AI辅助校对 | 10-50x | ⚠️ | 高 (技术可行) |
| D. 分级质量 | 20-100x | ⚠️ | 高 (新模式) |

### 4.2 推荐: 分级质量模式

```
┌─────────────────────────────────────────────────────────────┐
│                    分级质量体系                              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ⭐⭐⭐⭐⭐ SE Gold (当前 SE 标准)                            │
│  ├── 完整 27 步流程                                         │
│  ├── 人工封面到封底校对                                      │
│  ├── 原版扫描对照                                            │
│  └── 产出: ~250本/年                                        │
│                                                              │
│  ⭐⭐⭐⭐ SE Silver (AI辅助+抽样校对)                        │
│  ├── 自动化流程 + AI 异常检测                               │
│  ├── 人工抽样校对 (10%)                                     │
│  ├── lint 全通过                                            │
│  └── 预计产出: ~2,500本/年 (10x)                            │
│                                                              │
│  ⭐⭐⭐ SE Bronze (全自动+lint)                              │
│  ├── 全自动化流程                                            │
│  ├── lint 全通过                                            │
│  ├── 无人工校对                                              │
│  └── 预计产出: ~10,000本/年 (40x)                           │
│                                                              │
│  ⭐⭐ Clean PG (基础清洗)                                    │
│  ├── Boilerplate 移除                                       │
│  ├── 基础 typogrify                                         │
│  ├── lint 部分通过                                          │
│  └── 预计产出: ~50,000本/年                                 │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 4.3 AI 辅助策略

| AI 应用 | 替代步骤 | 效果 |
|--------|---------|------|
| OCR 错误检测 | 异常字符检测 | 减少 50% 人工 |
| 拼写校对 | 对照词典 | 减少 30% 人工 |
| 格式推断 | 斜体/粗体检测 | 减少 20% 人工 |
| 语义标注 | 自动 epub:type | 减少 40% 人工 |
| 封面生成 | 模板化封面 | 减少 80% 人工 |

### 4.4 自动化优先级

| 优先级 | 自动化项 | 节省时间 |
|-------|---------|---------|
| P0 | PG Boilerplate 清洗 | 1小时 |
| P0 | typogrify + semanticate | 2小时 |
| P0 | lint 自动修复 | 1小时 |
| P1 | AI OCR 错误检测 | 5小时 |
| P1 | 模板封面生成 | 2小时 |
| P2 | AI 格式推断 | 3小时 |
| P2 | 自动元数据填充 | 1小时 |

---

## 5. Readmigo 策略建议

### 5.1 短期策略 (0-6月)

**只使用 SE 已有书籍**

- 现有 ~1,373 本已足够 MVP
- 质量已验证，无需二次处理
- 专注阅读器体验

### 5.2 中期策略 (6-18月)

**实现 SE Bronze 自动化**

```
目标: 每月自动处理 500+ 本 PG 书籍

Pipeline:
1. PG 下载 → Boilerplate 清洗
2. SE typogrify + semanticate
3. SE lint (允许部分警告)
4. 段落/句子 ID 注入
5. 自动封面生成
6. 元数据填充
```

### 5.3 长期策略 (18月+)

**实现 SE Silver 半自动化**

```
目标: 达到接近 SE 的质量，10x 速度

Pipeline:
1. Bronze 基础 + AI 增强
2. AI OCR 错误检测
3. AI 格式推断 (斜体/引用)
4. 人工抽样审核 (10%)
5. 持续反馈改进
```

### 5.4 质量标准移植

**必须移植的 SE 规则:**

| 类别 | 规则数 | 优先级 |
|-----|-------|-------|
| 排版 (typogrify) | 20+ | P0 |
| CSS 基础 | 10+ | P0 |
| 文件结构 | 10+ | P1 |
| 元数据基础 | 15+ | P1 |
| 语义标注 | 30+ | P2 |
| 高级检查 | 100+ | P3 |

**Readmigo 特有规则:**

| 规则 | 说明 |
|-----|------|
| 段落 ID | 每个 `<p>` 必须有唯一 ID |
| 句子标记 | 每个句子必须可定位 |
| 翻译友好 | 无跨段落格式 |
| TTS 友好 | 无复杂嵌套标记 |

### 5.5 实施路线图

```
┌─────────────────────────────────────────────────────────────┐
│                    Readmigo 书籍扩展路线图                   │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  Phase 1 (现在): SE Only                                    │
│  └── 1,373 本 SE 书籍                                       │
│                                                              │
│  Phase 2 (Q2): Bronze Pipeline                              │
│  └── +5,000 本 PG 热门书籍                                  │
│                                                              │
│  Phase 3 (Q3): AI 增强                                      │
│  └── +20,000 本 PG 英文书籍                                 │
│                                                              │
│  Phase 4 (Q4): Silver 标准                                  │
│  └── +30,000 本 全量 PG                                     │
│                                                              │
│  总计: ~56,000 本                                           │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 附录: SE 关键代码位置

| 功能 | 文件 | 行数 |
|-----|------|-----|
| Lint 规则 | `se/se_epub_lint.py` | 4,305 |
| Typography | `se/typography.py` | ~400 |
| Formatting | `se/formatting.py` | ~800 |
| PG 清洗 | `se/commands/create_draft.py` | ~800 |
| CSS 模板 | `se/data/templates/se.css` | ~500 |

---

## 结论

1. **SE 模式不可直接规模化** - 20-60小时/本的人工投入无法扩展
2. **lint 规则可完全复用** - 4,305行自动化检查是核心资产
3. **分级质量是唯一出路** - Bronze/Silver/Gold 分级处理
4. **AI 是加速器** - OCR检测/格式推断/封面生成
5. **Readmigo 应先用 SE 书** - 1,373本已足够 MVP，边用边扩展

---

*报告生成时间: 2026-01-26*
*数据来源: SE 官网 + 代码分析*

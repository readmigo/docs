# Dashboard 组件库

## 组件概览

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         自定义组件                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  布局组件                                                                    │
│  ─────────────────────────────────────────────────────────────────          │
│  CustomLayout          自定义布局容器                                        │
│  CustomAppBar          自定义顶部导航栏                                      │
│  CustomMenu            自定义侧边菜单                                        │
│                                                                             │
│  功能组件                                                                    │
│  ─────────────────────────────────────────────────────────────────          │
│  EnvironmentSelector   环境选择器                                            │
│  ContentLanguageSwitch 内容语言切换                                          │
│  ContentFilterSelector 内容过滤选择器                                        │
│  LanguageSwitcher      UI语言切换                                            │
│  HelpButton            帮助按钮                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## CustomLayout

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         CustomLayout                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  文件: src/components/CustomLayout.tsx                                      │
│                                                                             │
│  功能:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 包装 React Admin 默认 Layout                                             │
│  • 注入自定义 AppBar 和 Menu                                                │
│  • 提供 Context Providers                                                   │
│                                                                             │
│  结构:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                      CustomAppBar                                    │    │
│  ├─────────────┬───────────────────────────────────────────────────────┤    │
│  │             │                                                        │    │
│  │  CustomMenu │              Content Area                             │    │
│  │             │                                                        │    │
│  │             │                                                        │    │
│  │             │                                                        │    │
│  │             │                                                        │    │
│  └─────────────┴───────────────────────────────────────────────────────┘    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## CustomAppBar

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         CustomAppBar                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  文件: src/components/CustomAppBar.tsx                                      │
│                                                                             │
│  功能:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 显示 Logo 和标题                                                         │
│  • 环境选择器                                                                │
│  • 内容语言切换                                                              │
│  • UI 语言切换                                                               │
│  • 用户菜单                                                                  │
│                                                                             │
│  布局:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ [Logo] Readmigo Dashboard    [Env] [Content] [Lang] [Help] [User▼] │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  样式:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 品牌渐变背景 (#8BB9FF → #B9B3F5 → #F6B6E8)                               │
│  • 白色文字                                                                  │
│  • 64px 高度                                                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## CustomMenu

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         CustomMenu                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  文件: src/components/CustomMenu.tsx                                        │
│                                                                             │
│  功能:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 侧边导航菜单                                                              │
│  • 资源链接                                                                  │
│  • 图标和标签                                                                │
│  • 当前路由高亮                                                              │
│                                                                             │
│  菜单结构:                                                                   │
│  ─────────────────────────────────────────────────────────────────          │
│  ┌───────────────────┐                                                      │
│  │ 🏠 Dashboard      │                                                      │
│  │ ─────────────────  │                                                      │
│  │ 📚 Books          │                                                      │
│  │ 👤 Authors        │                                                      │
│  │ 📂 Categories     │                                                      │
│  │ 📋 Book Lists     │                                                      │
│  │ ─────────────────  │                                                      │
│  │ 👥 Users          │                                                      │
│  │ 📝 Feedback       │                                                      │
│  │ 🎫 Tickets        │                                                      │
│  │ ─────────────────  │                                                      │
│  │ 🤖 AI Stats       │                                                      │
│  │ 💳 Orders         │                                                      │
│  │ ⚙️ Feature Flags  │                                                      │
│  └───────────────────┘                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## EnvironmentSelector

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         EnvironmentSelector                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  文件: src/components/EnvironmentSelector.tsx                               │
│                                                                             │
│  功能:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 切换 API 环境                                                            │
│  • 显示当前环境状态                                                          │
│  • 生产环境切换确认                                                          │
│                                                                             │
│  UI:                                                                         │
│  ─────────────────────────────────────────────────────────────────          │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  [Local] [Debug] [Staging] [Production]                             │    │
│  │    🟡      🟡        🔵         🟢                                   │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  环境颜色:                                                                   │
│  ─────────────────────────────────────────────────────────────────          │
│  Local         Warning (黄色)                                               │
│  Debug         Warning (黄色)                                               │
│  Staging       Info (蓝色)                                                  │
│  Production    Success (绿色)                                               │
│                                                                             │
│  生产确认对话框:                                                             │
│  ─────────────────────────────────────────────────────────────────          │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ⚠️ 确认切换到生产环境?                                             │    │
│  │                                                                      │    │
│  │  您即将切换到生产环境，所有操作将直接影响真实数据。                   │    │
│  │                                                                      │    │
│  │                                    [取消] [确认切换]                 │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## ContentLanguageSwitch

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         ContentLanguageSwitch                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  文件: src/components/ContentLanguageSwitch.tsx                             │
│                                                                             │
│  功能:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 切换内容语言过滤                                                          │
│  • 全局应用到所有内容列表                                                    │
│  • 持久化到 localStorage                                                    │
│                                                                             │
│  UI:                                                                         │
│  ─────────────────────────────────────────────────────────────────          │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Content: [All] [EN] [ZH]                                           │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  选项:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  All            显示所有语言内容                                            │
│  EN             仅显示英文内容                                              │
│  ZH             仅显示中文内容                                              │
│                                                                             │
│  影响:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 书籍列表过滤                                                              │
│  • 金句列表过滤                                                              │
│  • 榜单内容过滤                                                              │
│  • 所有内容相关的 API 请求                                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## LanguageSwitcher

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         LanguageSwitcher                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  文件: src/components/LanguageSwitcher.tsx                                  │
│                                                                             │
│  功能:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 切换 Dashboard UI 语言                                                   │
│  • 更新 React Admin locale                                                  │
│  • 持久化到 localStorage                                                    │
│                                                                             │
│  UI:                                                                         │
│  ─────────────────────────────────────────────────────────────────          │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  [🌐 ▼]                                                              │    │
│  │  ├── English                                                         │    │
│  │  ├── 简体中文                                                         │    │
│  │  └── 繁體中文                                                         │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  支持语言:                                                                   │
│  ─────────────────────────────────────────────────────────────────          │
│  en            English                                                      │
│  zh-Hans       简体中文                                                      │
│  zh-Hant       繁體中文                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## HelpButton

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         HelpButton                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  文件: src/components/HelpButton.tsx                                        │
│                                                                             │
│  功能:                                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 帮助/支持入口                                                             │
│  • 链接到帮助文档                                                            │
│  • 联系支持团队                                                              │
│                                                                             │
│  UI:                                                                         │
│  ─────────────────────────────────────────────────────────────────          │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  [❓]                                                                │    │
│  │  ├── 帮助文档                                                         │    │
│  │  ├── 键盘快捷键                                                       │    │
│  │  └── 联系支持                                                         │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## React Admin 常用组件

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         React Admin 组件                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  列表组件:                                                                   │
│  ─────────────────────────────────────────────────────────────────          │
│  List              列表容器                                                  │
│  Datagrid          数据表格                                                  │
│  SimpleList        简单列表                                                  │
│  Filter            筛选器                                                    │
│  Pagination        分页                                                      │
│                                                                             │
│  字段组件:                                                                   │
│  ─────────────────────────────────────────────────────────────────          │
│  TextField         文本字段                                                  │
│  NumberField       数字字段                                                  │
│  DateField         日期字段                                                  │
│  BooleanField      布尔字段                                                  │
│  RichTextField     富文本字段                                                │
│  ImageField        图片字段                                                  │
│  ReferenceField    关联字段                                                  │
│  FunctionField     自定义字段                                                │
│                                                                             │
│  输入组件:                                                                   │
│  ─────────────────────────────────────────────────────────────────          │
│  TextInput         文本输入                                                  │
│  NumberInput       数字输入                                                  │
│  SelectInput       下拉选择                                                  │
│  BooleanInput      开关输入                                                  │
│  DateInput         日期输入                                                  │
│  RichTextInput     富文本输入                                                │
│  ReferenceInput    关联输入                                                  │
│  ImageInput        图片上传                                                  │
│  FileInput         文件上传                                                  │
│                                                                             │
│  操作组件:                                                                   │
│  ─────────────────────────────────────────────────────────────────          │
│  EditButton        编辑按钮                                                  │
│  ShowButton        详情按钮                                                  │
│  DeleteButton      删除按钮                                                  │
│  CreateButton      创建按钮                                                  │
│  ExportButton      导出按钮                                                  │
│  BulkDeleteButton  批量删除                                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

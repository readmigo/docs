# 首页仪表盘

## 概述

首页仪表盘是 Dashboard 的主页面，提供关键业务指标概览和系统状态监控。

## 路由配置

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         路由信息                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  路由路径        /                                                          │
│  组件            Dashboard.tsx                                              │
│  权限            所有角色可访问                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 页面布局

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         仪表盘布局                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                        核心指标卡片区                                │    │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐       │    │
│  │  │ 总用户数│ │活跃用户 │ │ 总书籍数│ │今日阅读 │ │今日AI调用│      │    │
│  │  │ 12,345  │ │ 3,456   │ │  256    │ │ 1,234h  │ │ 45,678  │       │    │
│  │  │ ↑12%    │ │ ↑8%     │ │ ↑5      │ │ ↑15%    │ │ ↓3%     │       │    │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘       │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  ┌──────────────────────────────┐ ┌──────────────────────────────┐         │
│  │      用户增长趋势图表        │ │       阅读活跃度图表         │         │
│  │                              │ │                              │         │
│  │   ╱────────────────         │ │        ╱──────────           │         │
│  │  ╱                          │ │    ╱──╱                      │         │
│  │ ╱                           │ │   ╱                          │         │
│  │                              │ │                              │         │
│  └──────────────────────────────┘ └──────────────────────────────┘         │
│                                                                             │
│  ┌──────────────────────────────┐ ┌──────────────────────────────┐         │
│  │      AI使用量分布饼图        │ │      热门书籍Top10           │         │
│  │                              │ │                              │         │
│  │      ┌───────┐              │ │  Pride & Prejudice   ████    │         │
│  │     /   查词  \             │ │  1984                ███     │         │
│  │    │  翻译    │             │ │  Great Expectations  ██      │         │
│  │     \  简化  /              │ │  ...                         │         │
│  │      └───────┘              │ │                              │         │
│  └──────────────────────────────┘ └──────────────────────────────┘         │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                        最近活动列表                                  │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  📚 新书上架: "The Great Gatsby"              2分钟前               │    │
│  │  👤 新用户注册: alice@example.com             5分钟前               │    │
│  │  💳 订阅升级: Premium Monthly                 10分钟前              │    │
│  │  ⚠️ 告警: AI服务响应延迟                      15分钟前              │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 核心指标

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         指标卡片说明                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  指标名称          数据来源                            更新频率             │
│  ─────────────────────────────────────────────────────────────────          │
│  总用户数          GET /admin/analytics/overview       实时                 │
│  活跃用户(7天)     GET /admin/analytics/overview       每小时               │
│  总书籍数          GET /admin/analytics/overview       实时                 │
│  今日阅读时长      GET /admin/analytics/overview       每5分钟              │
│  今日AI调用        GET /admin/analytics/overview       实时                 │
│  今日新增用户      GET /admin/analytics/overview       实时                 │
│                                                                             │
│  指标变化显示:                                                               │
│  ─────────────────────────────────────────────────────────────────          │
│  • 绿色向上箭头: 相比昨日/上周增长                                          │
│  • 红色向下箭头: 相比昨日/上周下降                                          │
│  • 百分比: 变化幅度                                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 图表组件

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         图表配置                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  用户增长趋势 (折线图)                                                       │
│  ─────────────────────────────────────────────────────────────────          │
│  • 组件: Recharts LineChart                                                 │
│  • X轴: 日期 (最近30天)                                                     │
│  • Y轴: 新增用户数                                                          │
│  • 数据: GET /admin/analytics/user-growth?days=30                           │
│                                                                             │
│  阅读活跃度 (面积图)                                                         │
│  ─────────────────────────────────────────────────────────────────          │
│  • 组件: Recharts AreaChart                                                 │
│  • X轴: 日期 (最近30天)                                                     │
│  • Y轴: 阅读分钟数                                                          │
│  • 数据: GET /admin/analytics/reading-activity?days=30                      │
│                                                                             │
│  AI使用量分布 (饼图)                                                         │
│  ─────────────────────────────────────────────────────────────────          │
│  • 组件: Recharts PieChart                                                  │
│  • 分类: 查词、句子简化、段落翻译、问答                                      │
│  • 数据: GET /admin/analytics/ai-usage                                      │
│                                                                             │
│  热门书籍Top10 (横向条形图)                                                  │
│  ─────────────────────────────────────────────────────────────────          │
│  • 组件: Recharts BarChart                                                  │
│  • Y轴: 书名                                                                │
│  • X轴: 读者数量                                                            │
│  • 数据: GET /admin/analytics/top-books?limit=10                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 活动日志

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         活动类型                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  活动类型          图标     说明                                             │
│  ─────────────────────────────────────────────────────────────────          │
│  book_published    📚      新书上架                                         │
│  user_registered   👤      新用户注册                                       │
│  subscription_new  💳      新订阅                                           │
│  subscription_upgrade 💳   订阅升级                                         │
│  subscription_cancel  💳   取消订阅                                         │
│  alert_triggered   ⚠️      系统告警                                         │
│  import_completed  📥      数据导入完成                                     │
│                                                                             │
│  数据来源: GET /admin/activities?limit=10                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 数据刷新

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         刷新策略                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  自动刷新:                                                                   │
│  ─────────────────────────────────────────────────────────────────          │
│  • 指标卡片: 每60秒自动刷新                                                 │
│  • 图表数据: 每5分钟自动刷新                                                │
│  • 活动日志: 每30秒自动刷新                                                 │
│                                                                             │
│  手动刷新:                                                                   │
│  ─────────────────────────────────────────────────────────────────          │
│  • 页面右上角刷新按钮                                                        │
│  • 浏览器刷新                                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

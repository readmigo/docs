# Readmigo iOS Client æŠ€æœ¯è§„æ ¼æ–‡æ¡£

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 äº§å“å®šä½
Readmigo iOSå®¢æˆ·ç«¯æ˜¯ä¸€æ¬¾AIåŸç”Ÿçš„è‹±è¯­åŸç‰ˆä¹¦é˜…è¯»å­¦ä¹ åº”ç”¨ï¼Œç›®æ ‡ç”¨æˆ·æ˜¯**å…¨çƒèŒƒå›´å†…**å¸Œæœ›é€šè¿‡é˜…è¯»åŸç‰ˆä¹¦ç±æå‡è‹±è¯­èƒ½åŠ›çš„ç”¨æˆ·ã€‚

### 1.2 æ ¸å¿ƒç‰¹æ€§

#### AIåŸç”Ÿæ ¸å¿ƒåŠŸèƒ½ (äº§å“å·®å¼‚åŒ–æ ¸å¿ƒ)
- **AIå³æ—¶åŠ©æ‰‹**: é€‰è¯å³æŸ¥ã€å¥å­ç®€åŒ–ã€æ®µè½ç¿»è¯‘ã€å†…å®¹é—®ç­”
- **AIæ™ºèƒ½æ¨è**: åŸºäºç”¨æˆ·ç”»åƒçš„ä¸ªæ€§åŒ–ä¹¦ç±æ¨è
- **AIéš¾åº¦é€‚é…**: æ ¹æ®ç”¨æˆ·æ°´å¹³åŠ¨æ€è°ƒæ•´å†…å®¹éš¾åº¦
- **AIå­¦ä¹ è§„åˆ’**: æ™ºèƒ½ç”Ÿæˆä¸ªæ€§åŒ–å­¦ä¹ è®¡åˆ’
- **AIå†…å®¹åˆ†æ**: ä¹¦ç±éš¾åº¦è¯„ä¼°ã€å…³é”®è¯æå–ã€ä¸»é¢˜åˆ†æ
- **AIå¤ä¹ ä¼˜åŒ–**: åŸºäºé—å¿˜æ›²çº¿çš„æ™ºèƒ½å¤ä¹ è°ƒåº¦

#### åŸºç¡€åŠŸèƒ½
- **æ™ºèƒ½é˜…è¯»å™¨**: åŸºäºEPUBçš„é«˜å“è´¨é˜…è¯»ä½“éªŒ
- **æœ‰å£°ä¹¦**: æ–‡å­—+éŸ³é¢‘åŒæ­¥é˜…è¯»ä½“éªŒ
- **ç”Ÿè¯æœ¬**: SM-2é—´éš”é‡å¤ç®—æ³•çš„æ™ºèƒ½å¤ä¹ ç³»ç»Ÿ (è‡ªåŠ¨æ·»åŠ )
- **ç¦»çº¿é˜…è¯»**: å®Œæ•´çš„ç¦»çº¿é˜…è¯»æ”¯æŒ
- **ä¹¦ç±å¯¼å…¥**: æ”¯æŒç”¨æˆ·å¯¼å…¥è‡ªæœ‰EPUBä¹¦ç±
- **å‹‹ç« ä½“ç³»**: åŸºäºé˜…è¯»æ•°æ®çš„æˆå°±ç³»ç»Ÿ
- **æ¦œå•ç³»ç»Ÿ**: ç¼–è¾‘ç²¾é€‰ã€AIæ¨èæ¦œå•

### 1.3 æ•°æ®é©±åŠ¨ç†å¿µ
**ç”¨æˆ·è¡Œä¸ºæ•°æ®æ˜¯ä¸ªæ€§åŒ–æœåŠ¡çš„æ ¸å¿ƒåŸºç¡€**ï¼Œæ‰€æœ‰ç”¨æˆ·äº¤äº’éƒ½å°†è¢«åå°é™é»˜é‡‡é›†å’Œåˆ†æï¼š
- é˜…è¯»æ—¶é•¿ã€é˜…è¯»é€Ÿåº¦ã€é˜…è¯»ä¹ æƒ¯
- AIäº¤äº’è®°å½•ã€å¥å­ç†è§£ç¨‹åº¦
- ç”Ÿè¯æŸ¥è¯¢ã€å¤ä¹ æ•ˆæœ
- æ‰€æœ‰æ•°æ®é‡‡é›†å¯¹ç”¨æˆ·ä¸å¯è§ï¼Œåå°è‡ªåŠ¨å¤„ç†

### 1.4 AIé©±åŠ¨æ¶æ„ â­æ ¸å¿ƒå·®å¼‚åŒ–

> **AIä¸æ˜¯åŠŸèƒ½ï¼Œè€Œæ˜¯äº§å“çš„åº•å±‚é©±åŠ¨åŠ›ã€‚** ä¼ ç»Ÿé˜…è¯»Appæ˜¯"å·¥å…·"ï¼ŒReadmigoæ˜¯"AIé˜…è¯»æ•™ç»ƒ"ã€‚

#### 1.4.1 AIé©±åŠ¨ vs AIåŠŸèƒ½

| ç»´åº¦ | ä¼ ç»ŸAIåŠŸèƒ½ (è¢«åŠ¨) | Readmigo AIé©±åŠ¨ (ä¸»åŠ¨) |
|------|------------------|----------------------|
| è§¦å‘æ–¹å¼ | ç”¨æˆ·ä¸»åŠ¨ç‚¹å‡»/é€‰æ‹© | AIä¸»åŠ¨æ„ŸçŸ¥ã€ä¸»åŠ¨å¹²é¢„ |
| ä¸ªæ€§åŒ– | ç»Ÿä¸€çš„åŠŸèƒ½å…¥å£ | æ¯ä¸ªç”¨æˆ·çœ‹åˆ°ä¸åŒçš„å†…å®¹å’Œä½“éªŒ |
| å­¦ä¹ èƒ½åŠ› | é™æ€è§„åˆ™ | è¶Šç”¨è¶Šæ‡‚ä½ ï¼ŒæŒç»­ä¼˜åŒ– |
| å­˜åœ¨æ„Ÿ | æ˜æ˜¾çš„AIæŒ‰é’®/å…¥å£ | æ— æ„Ÿèå…¥ï¼Œåƒæœ‰ä¸ªéšå½¢æ•™ç»ƒ |

#### 1.4.2 AIé©±åŠ¨çš„æ ¸å¿ƒé—­ç¯

```mermaid
flowchart LR
    A["ç”¨æˆ·è¡Œä¸º<br>(é˜…è¯»/AI)"] -->|"é™é»˜é‡‡é›†"| B["æ•°æ®æ¹–"]
    B -->|"AIåˆ†æ"| C["ç”¨æˆ·ç”»åƒ<br>AIæ¨¡å‹"]
    C -->|"æ™ºèƒ½å†³ç­–"| D["ä¸ªæ€§åŒ–<br>ä½“éªŒè¾“å‡º"]
    D -->|"è¶Šç”¨è¶Šå‡†"| A
```

#### 1.4.3 ä¸»åŠ¨AIåœºæ™¯ (åŒºåˆ«äºè¢«åŠ¨AI)

**åœºæ™¯1: é˜…è¯»å›°éš¾ä¸»åŠ¨æ£€æµ‹**
```
è§¦å‘æ¡ä»¶: AIæ£€æµ‹åˆ°ç”¨æˆ·åœ¨æŸæ®µæ–‡å­—åœç•™è¿‡ä¹…/é¢‘ç¹å›ç¿»/é˜…è¯»é€Ÿåº¦éª¤é™
ä¸»åŠ¨è¡Œä¸º: åº•éƒ¨è½»æŸ”å¼¹å‡ºæç¤º "è¿™æ®µæœ‰ç‚¹éš¾ï¼Ÿæˆ‘æ¥å¸®ä½ "
ç”¨æˆ·æ— éœ€: æ‰‹åŠ¨é€‰æ‹©æ–‡å­—ã€ç‚¹å‡»ä»»ä½•æŒ‰é’®
```

**åœºæ™¯2: æ™ºèƒ½éš¾åº¦è‡ªé€‚åº”**
```
è§¦å‘æ¡ä»¶: ç”¨æˆ·è¿ç»­3æœ¬ä¹¦æŸ¥è¯ç‡>15% æˆ– å®Œæˆç‡<50%
ä¸»åŠ¨è¡Œä¸º:
  - è‡ªåŠ¨è°ƒæ•´æ¨èä¹¦ç±éš¾åº¦ç­‰çº§
  - é¦–é¡µæç¤º "ä¸ºä½ æ‰¾åˆ°äº†æ›´é€‚åˆçš„ä¹¦"
  - å½“å‰ä¹¦ç±æä¾›"ç®€åŒ–ç‰ˆ"é€‰é¡¹
ç”¨æˆ·æ— éœ€: æ‰‹åŠ¨è®¾ç½®éš¾åº¦åå¥½
```

**åœºæ™¯3: æœ€ä½³å¤ä¹ æ—¶æœºæ¨é€**
```
è§¦å‘æ¡ä»¶: AIæ ¹æ®é—å¿˜æ›²çº¿é¢„æµ‹ç”¨æˆ·å³å°†é—å¿˜æŸæ‰¹å•è¯
ä¸»åŠ¨è¡Œä¸º:
  - åœ¨ç”¨æˆ·ä¹ æƒ¯çš„é˜…è¯»æ—¶é—´å‘é€Push "5ä¸ªå•è¯å¿«å¿˜äº†ï¼ŒèŠ±2åˆ†é’Ÿå·©å›ºä¸€ä¸‹ï¼Ÿ"
  - æ‰“å¼€Appæ—¶ç”Ÿè¯æœ¬Tabæ˜¾ç¤ºçº¢ç‚¹
ç”¨æˆ·æ— éœ€: è®°ä½è¦å¤ä¹ ã€æ‰‹åŠ¨è®¾ç½®æé†’
```

**åœºæ™¯4: é˜…è¯»çŠ¶æ€æ„ŸçŸ¥**
```
è§¦å‘æ¡ä»¶: ç”¨æˆ·è¿ç»­7å¤©æœªæ‰“å¼€App
ä¸»åŠ¨è¡Œä¸º:
  - Push: "ã€ŠPride and Prejudiceã€‹ç­‰ä½ å›æ¥ï¼Œè¿˜å‰©3ç« å°±è¯»å®Œäº†"
  - å›æ¥åé¦–é¡µæ˜¾ç¤º"æ¬¢è¿å›æ¥"å¡ç‰‡ï¼Œå±•ç¤ºä¹‹å‰çš„è¿›åº¦
è§¦å‘æ¡ä»¶: ç”¨æˆ·æ·±å¤œé˜…è¯»
ä¸»åŠ¨è¡Œä¸º: è‡ªåŠ¨åˆ‡æ¢ä¸ºæ·±è‰²æŠ¤çœ¼æ¨¡å¼ï¼Œé™ä½å±å¹•äº®åº¦
```

**åœºæ™¯5: ä¸ªæ€§åŒ–å­¦ä¹ å»ºè®®**
```
è§¦å‘æ¡ä»¶: æ¯å‘¨æ—¥æ™šä¸Š / å®Œæˆä¸€æœ¬ä¹¦æ—¶
ä¸»åŠ¨è¡Œä¸º:
  - ç”Ÿæˆæœ¬å‘¨å­¦ä¹ æŠ¥å‘Šå¡ç‰‡
  - AIåˆ†æè–„å¼±ç‚¹: "ä½ åœ¨è™šæ‹Ÿè¯­æ°”å¥å‹ä¸ŠæŸ¥è¯¢è¾ƒå¤šï¼Œå»ºè®®..."
  - æ¨èé’ˆå¯¹æ€§ç»ƒä¹ å†…å®¹
ç”¨æˆ·æ— éœ€: ä¸»åŠ¨æŸ¥çœ‹ç»Ÿè®¡ã€åˆ†æè‡ªå·±çš„å¼±ç‚¹
```

**åœºæ™¯6: é˜…è¯»ä¸­æ™ºèƒ½ä¼´è¯»**
```
è§¦å‘æ¡ä»¶: ç”¨æˆ·é˜…è¯»è¿‡ç¨‹ä¸­
ä¸»åŠ¨è¡Œä¸º:
  - é¢„åˆ¤ç”¨æˆ·å¯èƒ½ä¸è®¤è¯†çš„è¯ï¼Œè½»å¾®é«˜äº®æç¤º
  - ç« èŠ‚ç»“æŸæ—¶å¼¹å‡º"æœ¬ç« è¦ç‚¹"AIæ€»ç»“
  - æ£€æµ‹åˆ°ç²¾å½©æ®µè½ï¼Œæç¤º"å€¼å¾—æ”¶è—"
ç”¨æˆ·æ— éœ€: é€è¯æŸ¥è¯¢ã€æ‰‹åŠ¨æ€»ç»“ã€æ‰‹åŠ¨æ ‡è®°
```

#### 1.4.4 ä¸ªæ€§åŒ–ä½“éªŒçŸ©é˜µ

| æ¨¡å— | éAIé©±åŠ¨ | AIé©±åŠ¨å |
|------|---------|---------|
| **é¦–é¡µ** | å›ºå®šçš„æ¨èä½ | æ¯ä¸ªç”¨æˆ·é¦–é¡µå®Œå…¨ä¸åŒï¼ŒåŸºäºç”»åƒåŠ¨æ€ç”Ÿæˆ |
| **ä¹¦ç±è¯¦æƒ…** | ç»Ÿä¸€çš„éš¾åº¦æ ‡ç­¾ | "å¯¹ä½ æ¥è¯´éš¾åº¦é€‚ä¸­" / "å¯èƒ½æœ‰æŒ‘æˆ˜" ä¸ªæ€§åŒ–æç¤º |
| **é˜…è¯»å™¨** | ç­‰ç”¨æˆ·é€‰è¯æ‰å“åº” | ä¸»åŠ¨æ£€æµ‹å›°éš¾ã€ä¸»åŠ¨æä¾›å¸®åŠ© |
| **ç”Ÿè¯æœ¬** | ç”¨æˆ·æ‰‹åŠ¨æ·»åŠ  | è‡ªåŠ¨æ·»åŠ  + æ™ºèƒ½è¿‡æ»¤(å·²æŒæ¡çš„ä¸åŠ ) |
| **å¤ä¹ ** | å›ºå®šæ—¶é—´æé†’ | æ ¹æ®é—å¿˜æ›²çº¿ + ç”¨æˆ·ä¹ æƒ¯çš„æœ€ä½³æ—¶æœºæé†’ |
| **æ¨è** | åŸºäºçƒ­åº¦/åˆ†ç±» | åŸºäºé˜…è¯»å†å²+æ°´å¹³+åå¥½+ç›®æ ‡çš„AIæ¨è |
| **ç»Ÿè®¡** | å±•ç¤ºåŸå§‹æ•°æ® | AIè§£è¯»æ•°æ® + ç»™å‡ºå¯æ‰§è¡Œå»ºè®® |

#### 1.4.5 AIæ•™ç»ƒäººæ ¼åŒ–

Readmigoçš„AIä¸æ˜¯å†·å†°å†°çš„å·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ª**æ‡‚ä½ çš„é˜…è¯»æ•™ç»ƒ**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIæ•™ç»ƒç‰¹å¾                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ ç›®æ ‡å¯¼å‘: å¸®ä½ å®Œæˆé˜…è¯»ç›®æ ‡            â”‚
â”‚  ğŸ“Š æ•°æ®é©±åŠ¨: åŸºäºä½ çš„çœŸå®æ•°æ®ç»™å»ºè®®       â”‚
â”‚  ğŸ¤« å®‰é™é™ªä¼´: ä¸æ‰“æ‰°ï¼Œä½†åœ¨ä½ éœ€è¦æ—¶å‡ºç°     â”‚
â”‚  ğŸ“ˆ æŒç»­è¿›åŒ–: è¶Šç”¨è¶Šæ‡‚ä½                   â”‚
â”‚  ğŸ’¬ ä¸ªæ€§è¡¨è¾¾: ç”¨é¼“åŠ±æ€§çš„è¯­æ°”æ²Ÿé€š           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¤ºä¾‹äº¤äº’è¯­æ°”:
- "è¿™å‘¨è¯»äº†3å°æ—¶ï¼Œæ¯”ä¸Šå‘¨å¤šäº†40%ï¼Œç»§ç»­ä¿æŒï¼"
- "è¿™æœ¬ä¹¦æœ‰ç‚¹éš¾ï¼Œè¦ä¸è¦è¯•è¯•è¿™æœ¬ï¼Ÿ"
- "bench è¿™ä¸ªè¯ä½ æŸ¥è¿‡3æ¬¡äº†ï¼Œä»Šå¤©å¤ä¹ ä¸€ä¸‹ï¼Ÿ"
- "è¿ç»­é˜…è¯»7å¤©äº†ï¼Œé€ä½ ä¸€ä¸ªå‹‹ç« ğŸ…"
```

---

## 2. æŠ€æœ¯æ ˆ

### 2.1 å¼€å‘ç¯å¢ƒ
- **Xcode**: 15.0+
- **iOS Deployment Target**: iOS 16.0+
- **Swift**: 5.9+
- **æ¶æ„æ¨¡å¼**: MVVM + Coordinator

### 2.2 æ ¸å¿ƒæ¡†æ¶
| åŠŸèƒ½ | æ¡†æ¶ | è¯´æ˜ |
|-----|------|-----|
| UI | SwiftUI | ä¸»è¦UIæ¡†æ¶ |
| é˜…è¯»å™¨ | WKWebView | EPUBæ¸²æŸ“ |
| éŸ³é¢‘ | AVFoundation | æœ‰å£°ä¹¦æ’­æ”¾ |
| ç½‘ç»œ | URLSession + async/await | åŸç”Ÿç½‘ç»œå±‚ |
| æœ¬åœ°å­˜å‚¨ | SwiftData | iOS 17+ æ•°æ®æŒä¹…åŒ– |
| è®¤è¯ | AuthenticationServices | Sign in with Apple |
| å†…è´­ | StoreKit 2 | è®¢é˜…ç®¡ç† |
| æ¨é€ | UserNotifications | å¤ä¹ æé†’ |
| æ—¥å¿— | OSLog + è‡ªå®šä¹‰ | æ—¥å¿—æ”¶é›†ç³»ç»Ÿ |

### 2.3 ç¬¬ä¸‰æ–¹ä¾èµ– (æœ€å°åŒ–)
```swift
// Package.swift dependencies
dependencies: [
    .package(url: "https://github.com/kean/Nuke", from: "12.0.0"),     // å›¾ç‰‡åŠ è½½
    .package(url: "https://github.com/nicklockwood/SwiftFormat", from: "0.52.0"), // ä»£ç æ ¼å¼åŒ–
]
```

---

## 3. å®æ–½è®¡åˆ’

> æŒ‰å¼€å‘ä¼˜å…ˆçº§æ’åºï¼Œé˜…è¯»å™¨å’ŒAIæ˜¯æœ€æ ¸å¿ƒåŠŸèƒ½

### Phase 1: åŸºç¡€æ¶æ„
- [ ] Xcodeé¡¹ç›®åˆå§‹åŒ–
- [ ] é¡¹ç›®ç»“æ„æ­å»º
- [ ] ç½‘ç»œå±‚ APIClient å®ç°
- [ ] æœ¬åœ°å­˜å‚¨ SwiftData é…ç½®
- [ ] Tokenç®¡ç†å’ŒKeychainå­˜å‚¨
- [ ] æ—¥å¿—æ”¶é›†ç³»ç»ŸåŸºç¡€
- [ ] åŸºç¡€UIç»„ä»¶å’Œä¸»é¢˜ç³»ç»Ÿ

### Phase 2: è®¤è¯ä¸ç”¨æˆ·
- [ ] Sign in with Apple é›†æˆ
- [ ] ç™»å½•/æ³¨å†Œç•Œé¢
- [ ] ç”¨æˆ·Profileç®¡ç†
- [ ] è‹±è¯­æ°´å¹³è¯„ä¼°ç•Œé¢
- [ ] Onboardingæµç¨‹

### Phase 3: ä¹¦æ¶ä¸å‘ç°
- [ ] ä¹¦æ¶ç•Œé¢ (Grid/List)
- [ ] ä¹¦ç±è¯¦æƒ…é¡µ
- [ ] å‘ç°/ä¹¦åŸç•Œé¢
- [ ] **æ¦œå•åˆ—è¡¨å±•ç¤º** (BookListGridView)
- [ ] **æ¦œå•è¯¦æƒ…é¡µé¢** (BookListDetailView)
- [ ] **AIæ¨èå±•ç¤º** (AIRecommendView)
- [ ] åˆ†ç±»æµè§ˆ (CategoryView)
- [ ] æœç´¢åŠŸèƒ½
- [ ] ä¹¦ç±å¯¼å…¥åŠŸèƒ½

### Phase 4: é˜…è¯»å™¨æ ¸å¿ƒ â­â­â­å…³é”®
- [ ] EPUBè§£æå™¨
- [ ] WKWebViewé˜…è¯»å™¨
- [ ] ç« èŠ‚åŠ è½½å’Œæ¸²æŸ“
- [ ] ç¿»é¡µæ§åˆ¶
- [ ] é˜…è¯»è¿›åº¦ä¿å­˜
- [ ] é˜…è¯»æ—¶é•¿è¿½è¸ª(åå°é™é»˜)
- [ ] é˜…è¯»å™¨è®¾ç½®

### Phase 5: AIé›†æˆ â­â­â­å…³é”®
- [ ] æ–‡æœ¬é€‰æ‹©å¤„ç†
- [ ] AIåŠ©æ‰‹é¢æ¿
- [ ] æŸ¥è¯åŠŸèƒ½ + æµå¼å“åº”
- [ ] å¥å­ç®€åŒ–
- [ ] æ®µè½ç¿»è¯‘
- [ ] è‡ªåŠ¨æ·»åŠ ç”Ÿè¯æœ¬
- [ ] ç†è§£ç¨‹åº¦è¿½è¸ª

### Phase 6: ç”Ÿè¯æœ¬ä¸å¤ä¹ 
- [ ] ç”Ÿè¯åˆ—è¡¨
- [ ] å•è¯è¯¦æƒ…
- [ ] å¤ä¹ ç•Œé¢
- [ ] SM-2ç®—æ³•å¤ä¹ è°ƒåº¦
- [ ] å¤ä¹ ç»Ÿè®¡

### Phase 7: æœ‰å£°ä¹¦
- [ ] éŸ³é¢‘æ’­æ”¾å™¨
- [ ] æ–‡å­—éŸ³é¢‘åŒæ­¥
- [ ] æ’­æ”¾æ§åˆ¶
- [ ] ç¦»çº¿ç¼“å­˜

### Phase 8: å‹‹ç« ä¸è®¢é˜…
- [ ] å‹‹ç« ä½“ç³»
- [ ] StoreKit 2 é›†æˆ
- [ ] è®¢é˜…é¡µé¢
- [ ] ä»˜è´¹å¢™

### Phase 9: ç¦»çº¿ä¸ä¼˜åŒ–
- [ ] ç¦»çº¿é˜…è¯»å®Œå–„
- [ ] æ•°æ®åŒæ­¥
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æµ‹è¯•ä¸å‘å¸ƒ

---

## 4. é¡¹ç›®ç»“æ„

```
ios/Readmigo/
â”œâ”€â”€ App/
â”‚   â”œâ”€â”€ ReadmigoApp.swift           # Appå…¥å£
â”‚   â””â”€â”€ ContentView.swift           # ä¸»è§†å›¾+Tabåˆ‡æ¢
â”‚
â”œâ”€â”€ Features/                        # åŠŸèƒ½æ¨¡å— (æŒ‰ä¸šåŠ¡åˆ’åˆ†)
â”‚   â”œâ”€â”€ Auth/                        # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ AuthView.swift          # ç™»å½•/æ³¨å†Œé¡µé¢
â”‚   â”‚   â”œâ”€â”€ AuthManager.swift       # è®¤è¯çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ AuthError.swift         # è®¤è¯é”™è¯¯ç±»å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ Onboarding/                  # æ–°ç”¨æˆ·å¼•å¯¼æ¨¡å—
â”‚   â”‚   â””â”€â”€ OnboardingView.swift    # æ–°ç”¨æˆ·å¼•å¯¼æµç¨‹
â”‚   â”‚
â”‚   â”œâ”€â”€ Library/                     # ä¹¦æ¶/å‘ç°æ¨¡å— (åˆå¹¶)
â”‚   â”‚   â”œâ”€â”€ LibraryView.swift       # ä¹¦æ¶ä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ LibraryManager.swift    # ä¹¦æ¶æ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ DiscoverView.swift      # å‘ç°é¡µ (7ç§æ˜¾ç¤ºæ ·å¼)
â”‚   â”‚   â”œâ”€â”€ BrowseBooksView.swift   # ä¹¦ç±ç½‘æ ¼æµè§ˆ+ç­›é€‰
â”‚   â”‚   â”œâ”€â”€ BookDetailView.swift    # ä¹¦ç±è¯¦æƒ…é¡µ
â”‚   â”‚   â”œâ”€â”€ AuthorBooksView.swift   # ä½œè€…ä¹¦ç±åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ Components/             # ä¹¦ç±å¡ç‰‡ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ BookCoverView.swift
â”‚   â”‚       â”œâ”€â”€ FeaturedBannerCard.swift
â”‚   â”‚       â”œâ”€â”€ HeroBookCard.swift
â”‚   â”‚       â”œâ”€â”€ StandardBookCard.swift
â”‚   â”‚       â”œâ”€â”€ RankedBookCard.swift
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ Agora/                       # åŸé‚¦ç¤¾åŒºæ¨¡å— â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ AgoraView.swift         # åŸé‚¦ä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ AgoraManager.swift      # åŸé‚¦æ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ AgoraPostCard.swift     # å¸–å­å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â””â”€â”€ AuthorAvatarView.swift  # ä½œè€…å¤´åƒç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ Authors/                     # ä½œè€…æ¨¡å— â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ AuthorProfileView.swift # ä½œè€…ä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ AuthorManager.swift     # ä½œè€…æ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ AuthorChatView.swift    # ä¸ä½œè€…AIå¯¹è¯
â”‚   â”‚   â”œâ”€â”€ VoiceChatView.swift     # è¯­éŸ³å¯¹è¯
â”‚   â”‚   â”œâ”€â”€ VideoChatView.swift     # è§†é¢‘å¯¹è¯
â”‚   â”‚   â””â”€â”€ Components/
â”‚   â”‚       â””â”€â”€ AuthorHeaderView.swift
â”‚   â”‚
â”‚   â”œâ”€â”€ Quotes/                      # é‡‘å¥æ¨¡å— â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ QuotesView.swift        # é‡‘å¥åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ QuoteCardView.swift     # é‡‘å¥å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ QuoteDetailView.swift   # é‡‘å¥è¯¦æƒ…
â”‚   â”‚   â””â”€â”€ QuotesManager.swift     # é‡‘å¥æ•°æ®ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ Postcards/                   # æ˜ä¿¡ç‰‡æ¨¡å— â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ PostcardEditorView.swift    # æ˜ä¿¡ç‰‡ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ PostcardPreviewView.swift   # æ˜ä¿¡ç‰‡é¢„è§ˆ
â”‚   â”‚   â”œâ”€â”€ TemplatePickerView.swift    # æ¨¡æ¿é€‰æ‹©
â”‚   â”‚   â””â”€â”€ PostcardsManager.swift      # æ˜ä¿¡ç‰‡æ•°æ®ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ Reader/                      # é˜…è¯»å™¨æ¨¡å— â­â­â­æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ ReaderView.swift         # é˜…è¯»å™¨ä¸»è§†å›¾
â”‚   â”‚   â”œâ”€â”€ ReaderViewModel.swift    # é˜…è¯»å™¨çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ReaderContentView.swift  # å†…å®¹æ¸²æŸ“
â”‚   â”‚   â”œâ”€â”€ ReaderSettingsView.swift # é˜…è¯»è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ EnhancedReaderView.swift # å¢å¼ºé˜…è¯»æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ UltimateReaderView.swift # ç»ˆæé˜…è¯»ä½“éªŒ
â”‚   â”‚   â”œâ”€â”€ TTSControlView.swift     # TTSè¯­éŸ³æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ CharacterMapView.swift   # äººç‰©å…³ç³»å›¾
â”‚   â”‚   â”œâ”€â”€ StoryTimelineView.swift  # æ•…äº‹æ—¶é—´çº¿
â”‚   â”‚   â””â”€â”€ Components/
â”‚   â”‚       â”œâ”€â”€ PageTurnAnimations.swift   # ç¿»é¡µåŠ¨ç”»
â”‚   â”‚       â”œâ”€â”€ ReadingStatsOverlay.swift  # é˜…è¯»ç»Ÿè®¡è¦†ç›–å±‚
â”‚   â”‚       â”œâ”€â”€ ImmersiveReaderMode.swift  # æ²‰æµ¸å¼é˜…è¯»
â”‚   â”‚       â”œâ”€â”€ ReadingProgressView.swift  # é˜…è¯»è¿›åº¦
â”‚   â”‚       â””â”€â”€ FocusModeView.swift        # ä¸“æ³¨æ¨¡å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ AI/                          # AIäº¤äº’æ¨¡å— â­â­â­æ ¸å¿ƒ (77ä¸ªAIé¡µé¢)
â”‚   â”‚   â”œâ”€â”€ Views/
â”‚   â”‚   â”‚   â”œâ”€â”€ BookDetail/              # ä¹¦ç±è¯¦æƒ…é¡µAI (12ä¸ª)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIAuthorView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIBookSummaryView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AICoverAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIBookQAView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AISimilarBooksView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIDifficultyDetailView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIReadingGuideView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIKeyVocabPreviewView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIThemeAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIHistoricalContextView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIReadingTimeEstimateView.swift
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AIContentWarningView.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ Reader/                  # é˜…è¯»å™¨AI (20ä¸ª)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIWordExplainView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AISentenceSimplifyView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIParagraphTranslateView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIParagraphSummaryView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIHighlightInsightView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIThoughtAssistView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIImageAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIGrammarExplainView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIContextQAView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIChapterSummaryView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AICharacterAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIPlotAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIRealTimeAnnotationView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIVocabHighlightView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIReadingCoachView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIComprehensionCheckView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AICulturalNoteView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIWritingStyleView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIEmotionAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AISmartBookmarkView.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ Vocabulary/              # è¯æ±‡/ç”Ÿè¯æœ¬AI (10ä¸ª)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIWordContextView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIWordAssociationView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIMnemonicView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIWordFamilyView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIUsageExamplesView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIVocabReviewCoachView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIWeakWordAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIVocabProgressView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AICollocationsView.swift
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AIPronunciationGuideView.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile/                 # ä¸ªäººä¸­å¿ƒAI (15ä¸ª)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AILearningReportView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIWeakPointAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AILearningPlanView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIProgressInsightView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIGoalAssistantView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIReadingHabitView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIVocabMasteryView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIWeeklyReportView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIMonthlyReportView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIYearlyReviewView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AICompareProgressView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIPersonalizedTipsView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIStreakAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIReadingSpeedView.swift
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AISkillRadarView.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ Discover/                # å‘ç°/æ¨èAI (8ä¸ª)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIPersonalizedFeedView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIBookListDetailView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AILevelAssessmentView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIDailyRecommendView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIMoodBasedView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIReadingChallengeView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AITrendingAnalysisView.swift
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AIGenreExplorerView.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ Audiobook/               # æœ‰å£°ä¹¦AI (5ä¸ª)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AITranscriptView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIListeningCoachView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIShadowingView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIDictationView.swift
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AIPronunciationView.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ Social/                  # ç¤¾äº¤/åˆ†äº«AI (4ä¸ª)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIShareCardView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIReviewGeneratorView.swift
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIQuoteExtractorView.swift
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AIReadingSummaryShareView.swift
â”‚   â”‚   â”‚   â””â”€â”€ Settings/                # ç³»ç»Ÿ/è®¾ç½®AI (3ä¸ª)
â”‚   â”‚   â”‚       â”œâ”€â”€ AIPreferenceLearningView.swift
â”‚   â”‚   â”‚       â”œâ”€â”€ AIUsageInsightView.swift
â”‚   â”‚   â”‚       â””â”€â”€ AICostOptimizationView.swift
â”‚   â”‚   â”œâ”€â”€ ViewModels/
â”‚   â”‚   â”‚   â”œâ”€â”€ AIAssistantViewModel.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ AIBookAnalysisViewModel.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ AIReaderViewModel.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ AIProfileViewModel.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ AIVocabularyViewModel.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ AIDiscoverViewModel.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ AIAudiobookViewModel.swift
â”‚   â”‚   â”‚   â””â”€â”€ AISocialViewModel.swift
â”‚   â”‚   â”œâ”€â”€ Components/
â”‚   â”‚   â”‚   â”œâ”€â”€ AIStreamingTextView.swift    # æµå¼è¾“å‡ºç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AILoadingView.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ AIErrorView.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ AIActionBar.swift
â”‚   â”‚   â”‚   â”œâ”€â”€ AICoachAvatarView.swift
â”‚   â”‚   â”‚   â””â”€â”€ AIFeedbackView.swift
â”‚   â”‚   â””â”€â”€ Services/
â”‚   â”‚       â”œâ”€â”€ AIService.swift
â”‚   â”‚       â”œâ”€â”€ AIStreamingService.swift
â”‚   â”‚       â””â”€â”€ AICacheService.swift
â”‚   â”‚
â”‚   â”œâ”€â”€ Learning/                    # å­¦ä¹ æ¨¡å— (ç”Ÿè¯æœ¬+å¤ä¹ )
â”‚   â”‚   â”œâ”€â”€ LearningView.swift       # å­¦ä¹ ä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ VocabularyView.swift     # ç”Ÿè¯æœ¬
â”‚   â”‚   â”œâ”€â”€ VocabularyManager.swift  # ç”Ÿè¯æ•°æ®ç®¡ç†
â”‚   â”‚   â””â”€â”€ ReviewSessionView.swift  # å¤ä¹ ä¼šè¯
â”‚   â”‚
â”‚   â”œâ”€â”€ Badges/                      # å‹‹ç« ä½“ç³»æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ BadgesView.swift         # å‹‹ç« åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ BadgeDetailView.swift    # å‹‹ç« è¯¦æƒ…
â”‚   â”‚   â””â”€â”€ BadgesManager.swift      # å‹‹ç« æ•°æ®ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ Me/                          # ä¸ªäººä¸­å¿ƒæ¨¡å— (åŸProfile)
â”‚   â”‚   â””â”€â”€ MeView.swift             # æˆ‘çš„é¡µé¢(ç»Ÿè®¡/è®¾ç½®/è®¢é˜…)
â”‚   â”‚
â”‚   â”œâ”€â”€ Profile/                     # ç”¨æˆ·èµ„æ–™æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ProfileView.swift        # ä¸ªäººèµ„æ–™
â”‚   â”‚   â””â”€â”€ AccountSettingsView.swift # è´¦æˆ·è®¾ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ Settings/                    # è®¾ç½®æ¨¡å—
â”‚   â”‚   â””â”€â”€ LanguageSettingsView.swift # è¯­è¨€è®¾ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ Search/                      # æœç´¢æ¨¡å—
â”‚   â”‚   â””â”€â”€ SearchManager.swift      # æœç´¢ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ Bookmarks/                   # ä¹¦ç­¾æ¨¡å—
â”‚   â”‚   â””â”€â”€ BookmarkManager.swift    # ä¹¦ç­¾ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ Offline/                     # ç¦»çº¿æ¨¡å—
â”‚   â”‚   â””â”€â”€ OfflineView.swift        # ç¦»çº¿å†…å®¹ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ Analytics/                   # åˆ†ææ¨¡å—
â”‚   â”‚   â””â”€â”€ AnalyticsView.swift      # åˆ†æé¡µé¢
â”‚   â”‚
â”‚   â””â”€â”€ Subscriptions/               # è®¢é˜…æ¨¡å—
â”‚       â”œâ”€â”€ SubscriptionView.swift   # è®¢é˜…é¡µé¢
â”‚       â””â”€â”€ PaywallView.swift        # ä»˜è´¹å¢™
â”‚
â”œâ”€â”€ Core/                            # æ ¸å¿ƒåŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ Network/
â”‚   â”‚   â”œâ”€â”€ APIClient.swift          # APIå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ APIEndpoints.swift       # APIç«¯ç‚¹å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ Storage/
â”‚   â”‚   â”œâ”€â”€ KeychainManager.swift    # Keychainå­˜å‚¨
â”‚   â”‚   â””â”€â”€ ContentCache.swift       # å†…å®¹ç¼“å­˜
â”‚   â”‚
â”‚   â”œâ”€â”€ Services/
â”‚   â”‚   â”œâ”€â”€ TTSEngine.swift          # TTSè¯­éŸ³å¼•æ“
â”‚   â”‚   â”œâ”€â”€ TimelineManager.swift    # æ—¶é—´çº¿ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ LoggingService.swift     # æ—¥å¿—æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ CacheManager.swift       # ç¼“å­˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ResponseCacheService.swift # å“åº”ç¼“å­˜
â”‚   â”‚   â”œâ”€â”€ CharacterMapManager.swift  # äººç‰©å…³ç³»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ OfflineManager.swift     # ç¦»çº¿ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ CrashTrackingService.swift # å´©æºƒè¿½è¸ª
â”‚   â”‚   â”œâ”€â”€ BookmarkManager.swift    # ä¹¦ç­¾ç®¡ç†
â”‚   â”‚   â””â”€â”€ SearchManager.swift      # æœç´¢ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ Localization/
â”‚   â”‚   â””â”€â”€ LocalizationManager.swift # æœ¬åœ°åŒ–ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ Models/                      # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ User.swift
â”‚   â”‚   â”œâ”€â”€ Book.swift
â”‚   â”‚   â”œâ”€â”€ Author.swift             # â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ Quote.swift              # â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ Postcard.swift           # â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ AgoraPost.swift          # â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ AuthorChat.swift         # â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ Timeline.swift           # â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ Character.swift          # â­æ–°å¢
â”‚   â”‚   â”œâ”€â”€ Reading.swift
â”‚   â”‚   â”œâ”€â”€ Vocabulary.swift
â”‚   â”‚   â”œâ”€â”€ Subscription.swift
â”‚   â”‚   â”œâ”€â”€ Badge.swift
â”‚   â”‚   â”œâ”€â”€ Bookmark.swift
â”‚   â”‚   â”œâ”€â”€ Offline.swift
â”‚   â”‚   â”œâ”€â”€ BookList.swift
â”‚   â”‚   â”œâ”€â”€ Comment.swift
â”‚   â”‚   â”œâ”€â”€ Log.swift
â”‚   â”‚   â”œâ”€â”€ Analytics.swift
â”‚   â”‚   â”œâ”€â”€ AI.swift
â”‚   â”‚   â”œâ”€â”€ TTS.swift
â”‚   â”‚   â””â”€â”€ Search.swift
â”‚   â”‚
â”‚   â””â”€â”€ UI/
â”‚       â””â”€â”€ FlowLayout.swift         # æµå¼å¸ƒå±€
â”‚
â”œâ”€â”€ UI/
â”‚   â””â”€â”€ Themes/
â”‚       â””â”€â”€ ThemeManager.swift       # ä¸»é¢˜ç®¡ç†(æ·±è‰²/æµ…è‰²)
â”‚
â”œâ”€â”€ Resources/
â”‚   â”œâ”€â”€ Assets.xcassets
â”‚   â””â”€â”€ Localizable.strings
â”‚
â””â”€â”€ Tests/
    â”œâ”€â”€ UnitTests/
    â””â”€â”€ UITests/
```

### 4.2 é¡µé¢ç»Ÿè®¡æ€»è§ˆ

#### 4.2.1 å…¨éƒ¨é¡µé¢ (å…±120+ä¸ª)

| æ¨¡å— | é¡µé¢æ•° | é¡µé¢åˆ—è¡¨ |
|------|--------|----------|
| Auth (è®¤è¯) | 3 | AuthView, OnboardingView, LevelAssessmentView |
| Library (ä¹¦æ¶) | 5 | LibraryView, BookDetailView, BrowseBooksView, AuthorBooksView, DiscoverView |
| **Agora (åŸé‚¦)** | **3** | **AgoraView, AgoraPostCard, AuthorAvatarView** â­æ–°å¢ |
| **Authors (ä½œè€…)** | **5** | **AuthorProfileView, AuthorChatView, VoiceChatView, VideoChatView** â­æ–°å¢ |
| **Quotes (é‡‘å¥)** | **3** | **QuotesView, QuoteCardView, QuoteDetailView** â­æ–°å¢ |
| **Postcards (æ˜ä¿¡ç‰‡)** | **3** | **PostcardEditorView, PostcardPreviewView, TemplatePickerView** â­æ–°å¢ |
| Reader (é˜…è¯»å™¨) | 9 | ReaderView, ReaderContentView, ReaderSettingsView, EnhancedReaderView, UltimateReaderView, TTSControlView, CharacterMapView, StoryTimelineView, + Components |
| **AI (AIäº¤äº’)** | **77** | **è§ä¸‹æ–¹AIé¡µé¢è¯¦ç»†åˆ—è¡¨** â­â­â­ |
| Learning (å­¦ä¹ ) | 3 | LearningView, VocabularyView, ReviewSessionView |
| Badges (å‹‹ç« ) | 2 | BadgesView, BadgeDetailView |
| Me/Profile (ä¸ªäºº) | 4 | MeView, ProfileView, AccountSettingsView, LanguageSettingsView |
| Subscription (è®¢é˜…) | 2 | SubscriptionView, PaywallView |

**é¡µé¢åˆ†å¸ƒ:**
```
åŸºç¡€åŠŸèƒ½é¡µé¢:  42ä¸ª  (35.0%)  â† åŒ…å«æ–°å¢çš„åŸé‚¦/ä½œè€…/é‡‘å¥/æ˜ä¿¡ç‰‡æ¨¡å—
AIåŠŸèƒ½é¡µé¢:   77ä¸ª  (65.0%)  â† AIé©±åŠ¨æ ¸å¿ƒä½“ç° â­
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡:        119ä¸ª  (100%)
```

#### 4.2.2 æ–°å¢æ¨¡å—è¯´æ˜ (2024-12æ›´æ–°)

**A. åŸé‚¦ (Agora) æ¨¡å—** - ç¤¾åŒºäº’åŠ¨åŠŸèƒ½
- æŸ¥çœ‹AIç”Ÿæˆçš„ä½œè€…åŠ¨æ€å¸–å­
- æ¯æ—¥é‡‘å¥å±•ç¤º
- ç”¨æˆ·è¯»ä¹¦å¿ƒå¾—åˆ†äº«

**B. ä½œè€… (Authors) æ¨¡å—** - ä½œè€…äº’åŠ¨åŠŸèƒ½
- ä½œè€…ä¸»é¡µ(å¤´åƒ/ç®€ä»‹/ä½œå“åˆ—è¡¨)
- ä¸ä½œè€…AIå¯¹è¯(æ–‡å­—/è¯­éŸ³/è§†é¢‘)
- ä½œè€…æ¨èä¹¦ç±

**C. é‡‘å¥ (Quotes) æ¨¡å—** - åè¨€é‡‘å¥åŠŸèƒ½
- æ¯æ—¥é‡‘å¥æ¨é€
- é‡‘å¥æ”¶è—å’Œåˆ†äº«
- æŒ‰ä½œè€…/ä¸»é¢˜æµè§ˆ

**D. æ˜ä¿¡ç‰‡ (Postcards) æ¨¡å—** - å†…å®¹åˆ†äº«åŠŸèƒ½
- å°†é‡‘å¥ç”Ÿæˆç²¾ç¾æ˜ä¿¡ç‰‡
- å¤šç§æ¨¡æ¿é€‰æ‹©
- åˆ†äº«åˆ°ç¤¾äº¤åª’ä½“

#### 4.2.2 AIç›¸å…³é¡µé¢ (å…±77ä¸ª)

**A. ä¹¦ç±è¯¦æƒ…é¡µ â†’ AIé¡µé¢ (12ä¸ª)**

| # | é¡µé¢ | è§¦å‘å…¥å£ | åŠŸèƒ½ |
|---|------|----------|------|
| 1 | AIAuthorView | ç‚¹å‡»ä½œè€…å | AIç”Ÿæˆä½œè€…ä»‹ç»ã€ç”Ÿå¹³ã€å†™ä½œé£æ ¼ã€å…¶ä»–ä½œå“æ¨è |
| 2 | AIBookSummaryView | ç‚¹å‡»ä¹¦å/ç®€ä»‹ | AIç”Ÿæˆä¹¦ç±æ·±åº¦è§£è¯»ã€ä¸»é¢˜åˆ†æã€é˜…è¯»ä»·å€¼ |
| 3 | AICoverAnalysisView | é•¿æŒ‰å°é¢ | AIè§£è¯»å°é¢è®¾è®¡ã€è‰ºæœ¯é£æ ¼ã€éšå«å¯“æ„ |
| 4 | AIBookQAView | ç‚¹å‡»"é—®é—®AI" | å…³äºè¿™æœ¬ä¹¦çš„ä»»æ„é—®ç­”(æœªè¯»ä¹Ÿå¯é—®) |
| 5 | AISimilarBooksView | ç‚¹å‡»"ç›¸ä¼¼æ¨è" | AIæ¨èç›¸ä¼¼ä¹¦ç±+æ¨èç†ç”± |
| 6 | AIDifficultyDetailView | ç‚¹å‡»éš¾åº¦æ ‡ç­¾ | AIéš¾åº¦è¯¦ç»†åˆ†æ: è¯æ±‡/å¥æ³•/ä¸»é¢˜å¤æ‚åº¦ |
| 7 | AIReadingGuideView | ç‚¹å‡»"é˜…è¯»æŒ‡å—" | AIç”Ÿæˆé˜…è¯»å»ºè®®ã€èƒŒæ™¯çŸ¥è¯†ã€æ³¨æ„è¦ç‚¹ |
| 8 | AIKeyVocabPreviewView | ç‚¹å‡»"æ ¸å¿ƒè¯æ±‡" | AIæå–çš„æœ¬ä¹¦æ ¸å¿ƒè¯æ±‡é¢„è§ˆ(æå‰å­¦ä¹ ) |
| 9 | AIBookTimelineView | ç‚¹å‡»"æ—¶é—´çº¿" | AIç”Ÿæˆä¹¦ç±äº‹ä»¶æ—¶é—´çº¿/æ•…äº‹è„‰ç»œ |
| 10 | AIBookThemeView | ç‚¹å‡»"ä¸»é¢˜åˆ†æ" | AIæ·±åº¦åˆ†æä¹¦ç±ä¸»é¢˜ã€è±¡å¾ã€éšå–» |
| 11 | AIBookQuotesView | ç‚¹å‡»"ç²¾å½©æ®µè½" | AIæå–ä¹¦ä¸­é‡‘å¥ã€åè¨€ã€ç²¾å½©ç‰‡æ®µ |
| 12 | AIBookCompareView | ç‚¹å‡»"å¯¹æ¯”é˜…è¯»" | AIå¯¹æ¯”ç›¸ä¼¼ä¹¦ç±ã€ä¸åŒè¯‘æœ¬åˆ†æ |

**B. é˜…è¯»é¡µé¢ â†’ AIé¡µé¢ (20ä¸ª)**

| # | é¡µé¢ | è§¦å‘å…¥å£ | åŠŸèƒ½ |
|---|------|----------|------|
| 13 | AIWordExplainView | é€‰ä¸­å•è¯ | å•è¯é‡Šä¹‰ã€å‘éŸ³ã€ä¾‹å¥ã€è¯æ ¹è¯ç¼€ã€è®°å¿†æŠ€å·§ |
| 14 | AISentenceSimplifyView | é€‰ä¸­å¥å­â†’ç®€åŒ– | AIæ”¹å†™ä¸ºç®€å•è¡¨è¾¾ã€æ ‡æ³¨éš¾ç‚¹ |
| 15 | AIParagraphTranslateView | é€‰ä¸­æ®µè½â†’ç¿»è¯‘ | AIæ™ºèƒ½ç¿»è¯‘ã€ä¿ç•™æ–‡å­¦é£æ ¼ |
| 16 | AIParagraphSummaryView | é€‰ä¸­æ®µè½â†’æ€»ç»“ | AIæ€»ç»“æ®µè½è¦ç‚¹ã€æç‚¼æ ¸å¿ƒä¿¡æ¯ |
| 17 | AIHighlightInsightView | ç‚¹å‡»å·²åˆ’çº¿å†…å®¹ | AIåˆ†æåˆ’çº¿å†…å®¹ã€ç”Ÿæˆæ´å¯Ÿã€å…³è”å…¶ä»–åˆ’çº¿ |
| 18 | AIThoughtAssistView | å†™æƒ³æ³•æ—¶ç‚¹å‡»AI | AIå¸®åŠ©ç»„ç»‡æƒ³æ³•ã€æ¶¦è‰²è¡¨è¾¾ã€æä¾›å†™ä½œå»ºè®® |
| 19 | AIImageAnalysisView | ç‚¹å‡»ä¹¦ä¸­å›¾ç‰‡ | AIåˆ†æå›¾ç‰‡å†…å®¹ã€ä¸æ–‡æœ¬å…³è”ã€èƒŒæ™¯è§£è¯» |
| 20 | AIGrammarExplainView | é€‰ä¸­å¥å­â†’è¯­æ³• | AIè§£æå¥å­è¯­æ³•ç»“æ„ã€æ—¶æ€ã€ä»å¥åˆ†æ |
| 21 | AIContextQAView | é˜…è¯»ä¸­ç‚¹å‡»"é—®AI" | åŸºäºå½“å‰é˜…è¯»ä¸Šä¸‹æ–‡çš„é—®ç­” |
| 22 | AIChapterSummaryView | ç« èŠ‚ç»“æŸå¼¹å‡º | AIè‡ªåŠ¨ç”Ÿæˆç« èŠ‚æ€»ç»“ã€å…³é”®æƒ…èŠ‚ã€äººç‰©å‘å±• |
| 23 | AICharacterAnalysisView | ç‚¹å‡»äººç‰©å | AIåˆ†æäººç‰©æ€§æ ¼ã€å…³ç³»å›¾è°±ã€å‘å±•è½¨è¿¹ |
| 24 | AIPlotAnalysisView | ç‚¹å‡»"æƒ…èŠ‚åˆ†æ" | AIåˆ†æå½“å‰æƒ…èŠ‚ã€ä¼ç¬”ã€ä¸ä¸»çº¿å…³è” |
| 25 | AIWordAssociationView | æŸ¥è¯åç‚¹å‡»"è”æƒ³" | AIç”Ÿæˆè¯æ ¹è¯ç¼€ã€åŒä¹‰è¯ã€åä¹‰è¯ç½‘ç»œ |
| 26 | AIWordMemoryView | æŸ¥è¯åç‚¹å‡»"è®°å¿†" | AIç”Ÿæˆè®°å¿†æŠ€å·§ã€è”æƒ³è®°å¿†ã€å›¾åƒè®°å¿† |
| 27 | AISentencePatternView | é€‰ä¸­å¥å­â†’å¥å‹ | AIåˆ†æå¥å‹ç»“æ„ã€æä¾›åŒç±»ä¾‹å¥ |
| 28 | AIWritingStyleView | é€‰ä¸­æ®µè½â†’é£æ ¼ | AIåˆ†æå†™ä½œé£æ ¼ã€ä¿®è¾æ‰‹æ³•ã€æ–‡å­¦æŠ€å·§ |
| 29 | AIContextDictView | é€‰è¯â†’è¯­å¢ƒè¯å…¸ | AIæ ¹æ®ä¸Šä¸‹æ–‡ç»™å‡ºç²¾å‡†é‡Šä¹‰(éé€šç”¨è¯å…¸) |
| 30 | AIPronunciationView | ç‚¹å‡»å‘éŸ³æŒ‰é’® | AIå‘éŸ³æŒ‡å¯¼ã€éŸ³æ ‡åˆ†æã€æ˜“é”™æé†’ |
| 31 | AIReadingCoachView | é˜…è¯»å›°éš¾æ—¶å¼¹å‡º | AIä¸»åŠ¨æ£€æµ‹å›°éš¾ï¼Œæä¾›å³æ—¶å¸®åŠ© |
| 32 | AIBookmarkInsightView | ç‚¹å‡»ä¹¦ç­¾ | AIåˆ†æä¹¦ç­¾å†…å®¹ï¼Œç”Ÿæˆé˜…è¯»å›é¡¾ |

**C. ç”Ÿè¯æœ¬ â†’ AIé¡µé¢ (10ä¸ª)**

| # | é¡µé¢ | è§¦å‘å…¥å£ | åŠŸèƒ½ |
|---|------|----------|------|
| 33 | AIVocabDashboardView | ç”Ÿè¯æœ¬é¦–é¡µ | AIç”Ÿæˆè¯æ±‡æŒæ¡æ€»è§ˆã€å­¦ä¹ å»ºè®® |
| 34 | AIReviewStrategyView | ç‚¹å‡»"å¤ä¹ ç­–ç•¥" | AIæ ¹æ®é—å¿˜æ›²çº¿å®šåˆ¶å¤ä¹ è®¡åˆ’ |
| 35 | AIWordGroupView | ç‚¹å‡»"æ™ºèƒ½åˆ†ç»„" | AIæŒ‰ä¸»é¢˜/éš¾åº¦/è¯æ ¹è‡ªåŠ¨åˆ†ç»„å•è¯ |
| 36 | AISimilarWordsView | ç‚¹å‡»"æ˜“æ··è¯" | AIè¯†åˆ«å¹¶å¯¹æ¯”æ˜“æ··æ·†å•è¯ |
| 37 | AIWordUsageView | ç‚¹å‡»å•è¯â†’ç”¨æ³• | AIå±•ç¤ºå•è¯çœŸå®è¯­å¢ƒç”¨æ³•ã€æ­é… |
| 38 | AIWordQuizView | ç‚¹å‡»"AIæµ‹éªŒ" | AIç”Ÿæˆä¸ªæ€§åŒ–è¯æ±‡æµ‹éªŒ |
| 39 | AIWordStoryView | ç‚¹å‡»"è¯æ±‡æ•…äº‹" | AIç”¨ç”Ÿè¯ç¼–æ•…äº‹å¸®åŠ©è®°å¿† |
| 40 | AIForgettingCurveView | ç‚¹å‡»"è®°å¿†æ›²çº¿" | AIå±•ç¤ºä¸ªäººé—å¿˜æ›²çº¿ã€æœ€ä½³å¤ä¹ æ—¶æœº |
| 41 | AIVocabPredictView | ç‚¹å‡»"é¢„æµ‹" | AIé¢„æµ‹å³å°†é—å¿˜çš„å•è¯ |
| 42 | AIWordOriginView | ç‚¹å‡»"è¯æº" | AIè§£é‡Šå•è¯èµ·æºã€æ¼”å˜å†å² |

**D. æˆ‘çš„/Profile â†’ AIé¡µé¢ (15ä¸ª)**

| # | é¡µé¢ | è§¦å‘å…¥å£ | åŠŸèƒ½ |
|---|------|----------|------|
| 43 | AILearningReportView | ç‚¹å‡»"AIå­¦ä¹ æŠ¥å‘Š" | å‘¨/æœˆåº¦AIç”Ÿæˆçš„ä¸ªæ€§åŒ–å­¦ä¹ æŠ¥å‘Š |
| 44 | AIWeakPointAnalysisView | ç‚¹å‡»"è–„å¼±ç‚¹åˆ†æ" | AIè¯†åˆ«è¯­æ³•/è¯æ±‡/ç†è§£è–„å¼±ç‚¹+æ”¹è¿›å»ºè®® |
| 45 | AILearningPlanView | ç‚¹å‡»"å­¦ä¹ è®¡åˆ’" | AIç”Ÿæˆçš„ä¸ªæ€§åŒ–å­¦ä¹ è®¡åˆ’å’Œç›®æ ‡ |
| 46 | AIProgressInsightView | ç‚¹å‡»"è¿›åº¦æ´å¯Ÿ" | AIè§£è¯»å­¦ä¹ è¿›åº¦ã€è¶‹åŠ¿åˆ†æã€é¢„æµ‹ |
| 47 | AIGoalAssistantView | ç‚¹å‡»"ç›®æ ‡è®¾å®š" | AIå¸®åŠ©è®¾å®šåˆç†ç›®æ ‡ã€åˆ†è§£æ­¥éª¤ |
| 48 | AIReadingHabitView | ç‚¹å‡»"é˜…è¯»ä¹ æƒ¯" | AIåˆ†æé˜…è¯»æ—¶é—´/é¢‘ç‡/ä¸“æ³¨åº¦ç­‰ä¹ æƒ¯ |
| 49 | AIVocabMasteryView | ç‚¹å‡»"è¯æ±‡åˆ†æ" | AIåˆ†æè¯æ±‡æŒæ¡æƒ…å†µã€è®°å¿†æ›²çº¿ã€å»ºè®® |
| 50 | AIGrammarReportView | ç‚¹å‡»"è¯­æ³•åˆ†æ" | AIåˆ†æè¯­æ³•è–„å¼±ç‚¹ã€å¸¸è§é”™è¯¯ |
| 51 | AIReadingSpeedView | ç‚¹å‡»"é˜…è¯»é€Ÿåº¦" | AIåˆ†æé˜…è¯»é€Ÿåº¦å˜åŒ–ã€æå‡å»ºè®® |
| 52 | AIComprehensionView | ç‚¹å‡»"ç†è§£åŠ›åˆ†æ" | AIè¯„ä¼°é˜…è¯»ç†è§£èƒ½åŠ›ã€æ”¹è¿›æ–¹å‘ |
| 53 | AILearningPathView | ç‚¹å‡»"å­¦ä¹ è·¯å¾„" | AIè§„åˆ’ä»å½“å‰æ°´å¹³åˆ°ç›®æ ‡çš„è·¯å¾„ |
| 54 | AIStreakAnalysisView | ç‚¹å‡»"è¿ç»­å¤©æ•°" | AIåˆ†æå­¦ä¹ è¿ç»­æ€§ã€æ¿€åŠ±å»ºè®® |
| 55 | AIMilestoneView | ç‚¹å‡»"é‡Œç¨‹ç¢‘" | AIç”Ÿæˆå­¦ä¹ é‡Œç¨‹ç¢‘å›é¡¾ã€æˆå°± |
| 56 | AIYearReviewView | ç‚¹å‡»"å¹´åº¦æŠ¥å‘Š" | AIç”Ÿæˆå¹´åº¦å­¦ä¹ æ€»ç»“æŠ¥å‘Š |
| 57 | AICompareGrowthView | ç‚¹å‡»"æˆé•¿å¯¹æ¯”" | AIå¯¹æ¯”ä¸åŒæ—¶æœŸçš„å­¦ä¹ æ•°æ® |

**E. å‘ç°/æ¨è â†’ AIé¡µé¢ (8ä¸ª)**

| # | é¡µé¢ | è§¦å‘å…¥å£ | åŠŸèƒ½ |
|---|------|----------|------|
| 58 | AIPersonalizedFeedView | å‘ç°Tabé¦–é¡µ | AIä¸ªæ€§åŒ–æ¨èä¿¡æ¯æµ(æ¯äººä¸åŒ) |
| 59 | AIBookListDetailView | ç‚¹å‡»AIæ¦œå• | AIç”Ÿæˆçš„ä¸ªæ€§åŒ–æ¦œå•è¯¦æƒ…+æ¨èç†ç”± |
| 60 | AIForYouView | ç‚¹å‡»"ä¸ºä½ æ¨è" | AIæ·±åº¦ä¸ªæ€§åŒ–æ¨è+è¯¦ç»†ç†ç”± |
| 61 | AITrendingAnalysisView | ç‚¹å‡»çƒ­é—¨æ¦œå• | AIåˆ†æçƒ­é—¨è¶‹åŠ¿ã€ä¸ºä½•æµè¡Œ |
| 62 | AIGenreExploreView | ç‚¹å‡»"æ¢ç´¢åˆ†ç±»" | AIå¼•å¯¼æ¢ç´¢æ–°åˆ†ç±»ã€æ‰©å±•é˜…è¯»é¢ |
| 63 | AIChallengeBookView | ç‚¹å‡»"æŒ‘æˆ˜æ¨è" | AIæ¨èç•¥é«˜äºå½“å‰æ°´å¹³çš„ä¹¦(è¿›é˜¶) |
| 64 | AIReadingMoodView | ç‚¹å‡»"ä»Šæ—¥å¿ƒæƒ…" | AIæ ¹æ®å¿ƒæƒ…æ¨èåˆé€‚çš„ä¹¦ç± |
| 65 | AISerendipityView | ç‚¹å‡»"éšæœºå‘ç°" | AIæƒŠå–œæ¨èã€è·³å‡ºèˆ’é€‚åŒº |

**F. æœ‰å£°ä¹¦ â†’ AIé¡µé¢ (5ä¸ª)**

| # | é¡µé¢ | è§¦å‘å…¥å£ | åŠŸèƒ½ |
|---|------|----------|------|
| 66 | AIListeningAnalysisView | ç‚¹å‡»"å¬åŠ›åˆ†æ" | AIåˆ†æå¬åŠ›ç†è§£ç¨‹åº¦ã€æ”¹è¿›å»ºè®® |
| 67 | AIPronunciationGuideView | ç‚¹å‡»"è·Ÿè¯»æŒ‡å¯¼" | AIå‘éŸ³å¯¹æ¯”ã€çº æ­£å»ºè®® |
| 68 | AIAudioSpeedView | ç‚¹å‡»"è¯­é€Ÿå»ºè®®" | AIæ ¹æ®ç†è§£åº¦æ¨èåˆé€‚è¯­é€Ÿ |
| 69 | AITranscriptView | ç‚¹å‡»"æ™ºèƒ½å­—å¹•" | AIç”Ÿæˆ/ä¼˜åŒ–éŸ³é¢‘æ–‡å­—å¯¹ç…§ |
| 70 | AIShadowingView | ç‚¹å‡»"å½±å­è·Ÿè¯»" | AIæŒ‡å¯¼å½±å­è·Ÿè¯»ç»ƒä¹  |

**G. ç¤¾äº¤/åˆ†äº« â†’ AIé¡µé¢ (4ä¸ª)**

| # | é¡µé¢ | è§¦å‘å…¥å£ | åŠŸèƒ½ |
|---|------|----------|------|
| 71 | AIShareCardView | ç‚¹å‡»"åˆ†äº«" | AIç”Ÿæˆç²¾ç¾åˆ†äº«å¡ç‰‡ |
| 72 | AIQuoteCardView | é•¿æŒ‰ç²¾å½©å¥å­ | AIç”Ÿæˆé‡‘å¥åˆ†äº«å›¾ |
| 73 | AIReadingSummaryShareView | å®Œæˆä¹¦ç±å | AIç”Ÿæˆè¯»ä¹¦æ€»ç»“åˆ†äº« |
| 74 | AIProgressShareView | ç‚¹å‡»"åˆ†äº«è¿›åº¦" | AIç”Ÿæˆå­¦ä¹ è¿›åº¦åˆ†äº«å¡ |

**H. ç³»ç»Ÿ/è®¾ç½® â†’ AIé¡µé¢ (3ä¸ª)**

| # | é¡µé¢ | è§¦å‘å…¥å£ | åŠŸèƒ½ |
|---|------|----------|------|
| 75 | AILevelAssessmentView | é¦–æ¬¡æ³¨å†Œ/å®šæœŸè¯„ä¼° | AIé©±åŠ¨çš„è‹±è¯­æ°´å¹³è¯„ä¼°æµ‹è¯• |
| 76 | AIPreferenceLearningView | è®¾ç½®â†’AIåå¥½ | AIå­¦ä¹ ç”¨æˆ·åå¥½ã€ä¸ªæ€§åŒ–è°ƒæ•´ |
| 77 | AISmartNotificationView | è®¾ç½®â†’æ™ºèƒ½æé†’ | AIä¼˜åŒ–æ¨é€æ—¶æœºå’Œå†…å®¹ |

**AIé¡µé¢åˆ†å¸ƒç»Ÿè®¡:**
```
A. ä¹¦ç±è¯¦æƒ…é¡µAI:  12ä¸ª  (15.6%)
B. é˜…è¯»é¡µé¢AI:    20ä¸ª  (26.0%)  â† æ ¸å¿ƒåœºæ™¯
C. ç”Ÿè¯æœ¬AI:      10ä¸ª  (13.0%)
D. æˆ‘çš„/ProfileAI: 15ä¸ª (19.5%)
E. å‘ç°/æ¨èAI:    8ä¸ª  (10.4%)
F. æœ‰å£°ä¹¦AI:       5ä¸ª  (6.5%)
G. ç¤¾äº¤/åˆ†äº«AI:    4ä¸ª  (5.2%)
H. ç³»ç»Ÿ/è®¾ç½®AI:    3ä¸ª  (3.9%)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡:             77ä¸ª  (100%)
```

#### 4.2.3 AIåŠŸèƒ½æ¸…å• (6å¤§å­ç³»ç»Ÿ)

| å­ç³»ç»Ÿ | æ ¸å¿ƒåŠŸèƒ½ | iOSäº§å“å½¢æ€ | è§¦å‘åœºæ™¯ |
|--------|----------|-------------|----------|
| **AIå³æ—¶åŠ©æ‰‹** | æŸ¥è¯ã€ç®€åŒ–ã€ç¿»è¯‘ã€é—®ç­” | é˜…è¯»å™¨å†…AIé¢æ¿(æµå¼è¾“å‡º) | ç”¨æˆ·é€‰ä¸­æ–‡æœ¬ |
| **AIæ™ºèƒ½æ¨è** | ä¸ªæ€§åŒ–ä¹¦ç±æ¨è | å‘ç°é¡µ"çŒœä½ å–œæ¬¢"ã€AIæ¦œå• | æ‰“å¼€å‘ç°Tab |
| **AIå­¦ä¹ è§„åˆ’** | æ°´å¹³è¯„ä¼°ã€ç›®æ ‡è®¾å®šã€å­¦ä¹ è®¡åˆ’ | Profileå­¦ä¹ è®¡åˆ’å¡ç‰‡ | Onboarding/Profile |
| **AIå¤ä¹ ä¼˜åŒ–** | é—å¿˜æ›²çº¿ã€SM-2ç®—æ³•è°ƒåº¦ | ç”Ÿè¯æœ¬æ™ºèƒ½å¤ä¹ æé†’ | å¤ä¹ æ—¶é—´åˆ°è¾¾ |
| **AIå†…å®¹åˆ†æ** | éš¾åº¦è¯„ä¼°ã€å…³é”®è¯ã€ä¸»é¢˜åˆ†æ | ä¹¦ç±éš¾åº¦æ ‡ç­¾ã€é¢„è®¡é˜…è¯»æ—¶é—´ | ä¹¦ç±è¯¦æƒ…é¡µ |
| **AIç”¨æˆ·æ´å¯Ÿ** | é˜…è¯»ä¹ æƒ¯ã€å¼±ç‚¹è¯†åˆ«ã€æˆé•¿è½¨è¿¹ | Profileç»Ÿè®¡æŠ¥å‘Šã€å­¦ä¹ å»ºè®® | Profileç»Ÿè®¡é¡µ |

**ç”¨æˆ·ç›´æ¥äº¤äº’çš„AIåŠŸèƒ½:**
1. **é€‰è¯æŸ¥é‡Šä¹‰** - é€‰ä¸­å•è¯åå¼¹å‡ºAIè§£é‡Šå¡ç‰‡ï¼Œæ”¯æŒæµå¼è¾“å‡º
2. **å¥å­ç®€åŒ–** - é€‰ä¸­å¥å­åAIæ”¹å†™ä¸ºç®€å•è¡¨è¾¾
3. **æ®µè½ç¿»è¯‘** - é€‰ä¸­æ®µè½åAIæ™ºèƒ½ç¿»è¯‘
4. **å†…å®¹é—®ç­”** - é’ˆå¯¹å½“å‰é˜…è¯»å†…å®¹çš„å¯¹è¯å¼é—®ç­”
5. **è‡ªåŠ¨æ·»åŠ ç”Ÿè¯** - æŸ¥è¯åè‡ªåŠ¨æ·»åŠ åˆ°ç”Ÿè¯æœ¬(æ— éœ€ç”¨æˆ·ç¡®è®¤)
6. **AIä¸ªæ€§åŒ–æ¨è** - åŸºäºç”¨æˆ·ç”»åƒçš„ä¹¦ç±æ¨è

---

## 5. åç«¯APIå¯¹æ¥

> APIæ˜¯å¼€å‘å¥‘çº¦ï¼ŒiOSå®¢æˆ·ç«¯åŸºäºè¿™äº›ç«¯ç‚¹æ„å»º

### 5.1 è®¤è¯ API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| POST | `/auth/apple` | Sign in with Apple |
| POST | `/auth/google` | Sign in with Google |
| POST | `/auth/refresh` | åˆ·æ–°Token |

### 5.2 ç”¨æˆ· API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/users/me` | è·å–ç”¨æˆ·ä¿¡æ¯ |
| PATCH | `/users/me` | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ |
| POST | `/users/me/assessment` | æäº¤è‹±è¯­æ°´å¹³è¯„ä¼° |
| GET | `/users/me/badges` | è·å–ç”¨æˆ·å‹‹ç«  |
| GET | `/users/me/stats` | è·å–ç”¨æˆ·ç»Ÿè®¡æ•°æ® |

### 5.3 ä¹¦ç± API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/books` | è·å–ä¹¦ç±åˆ—è¡¨ |
| GET | `/books/genres` | è·å–æ‰€æœ‰åˆ†ç±» |
| GET | `/books/recommendations` | è·å–ä¸ªæ€§åŒ–æ¨è |
| GET | `/books/:id` | è·å–ä¹¦ç±è¯¦æƒ… |
| GET | `/books/:id/content/:chapterId` | è·å–ç« èŠ‚å†…å®¹ |
| GET | `/books/:id/audio` | è·å–æœ‰å£°ä¹¦éŸ³é¢‘ |
| POST | `/books/import` | å¯¼å…¥ç”¨æˆ·ä¹¦ç± |

### 5.4 æ¦œå• API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/booklists` | è·å–æ¦œå•åˆ—è¡¨ |
| GET | `/booklists/:id` | è·å–æ¦œå•è¯¦æƒ…(å«ä¹¦ç±) |
| GET | `/booklists/types` | è·å–æ¦œå•ç±»å‹ |
| GET | `/booklists/ai-personalized` | è·å–AIä¸ªæ€§åŒ–æ¦œå• |
| GET | `/categories` | è·å–ä¹¦ç±åˆ†ç±» |
| GET | `/categories/:id/books` | è·å–åˆ†ç±»ä¸‹ä¹¦ç± |

### 5.5 é˜…è¯» API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/reading/library` | è·å–ç”¨æˆ·ä¹¦æ¶ |
| POST | `/reading/library` | æ·»åŠ åˆ°ä¹¦æ¶ |
| DELETE | `/reading/library/:bookId` | ä»ä¹¦æ¶ç§»é™¤ |
| PATCH | `/reading/progress/:bookId` | æ›´æ–°é˜…è¯»è¿›åº¦ |
| POST | `/reading/sessions` | è®°å½•é˜…è¯»ä¼šè¯ |
| GET | `/reading/stats` | è·å–é˜…è¯»ç»Ÿè®¡ |
| POST | `/reading/offline/sync` | åŒæ­¥ç¦»çº¿æ•°æ® |

### 5.6 AI API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| POST | `/ai/explain` | æŸ¥è¯è§£é‡Š |
| POST | `/ai/explain/stream` | æµå¼æŸ¥è¯ |
| POST | `/ai/simplify` | å¥å­ç®€åŒ– |
| POST | `/ai/translate` | æ®µè½ç¿»è¯‘ |
| POST | `/ai/qa` | å†…å®¹é—®ç­” |
| GET | `/ai/usage` | AIä½¿ç”¨ç»Ÿè®¡ |
| POST | `/ai/book/summary` | AIä¹¦ç±æ‘˜è¦ |
| POST | `/ai/book/author` | AIä½œè€…ä»‹ç» |
| POST | `/ai/book/similar` | AIç›¸ä¼¼ä¹¦ç±æ¨è |
| POST | `/ai/book/difficulty` | AIéš¾åº¦åˆ†æ |
| POST | `/ai/book/reading-guide` | AIé˜…è¯»æŒ‡å— |
| POST | `/ai/book/theme` | AIä¸»é¢˜åˆ†æ |
| POST | `/ai/chapter/summary` | AIç« èŠ‚æ‘˜è¦ |
| POST | `/ai/character/analysis` | AIäººç‰©åˆ†æ |
| POST | `/ai/plot/analysis` | AIæƒ…èŠ‚åˆ†æ |
| POST | `/ai/grammar/explain` | AIè¯­æ³•è§£é‡Š |
| POST | `/ai/cultural/note` | AIæ–‡åŒ–æ³¨é‡Š |
| POST | `/ai/writing-style` | AIå†™ä½œé£æ ¼åˆ†æ |
| POST | `/ai/comprehension/check` | AIç†è§£åŠ›æ£€æµ‹ |
| POST | `/ai/vocab/context` | AIè¯æ±‡ä¸Šä¸‹æ–‡ |
| POST | `/ai/vocab/association` | AIè¯æ±‡è”æƒ³ |
| POST | `/ai/vocab/mnemonic` | AIè®°å¿†æŠ€å·§ |
| POST | `/ai/vocab/family` | AIè¯æ—æ‰©å±• |
| POST | `/ai/learning/report` | AIå­¦ä¹ æŠ¥å‘Š |
| POST | `/ai/learning/plan` | AIå­¦ä¹ è®¡åˆ’ |
| POST | `/ai/learning/weakness` | AIå¼±ç‚¹åˆ†æ |
| POST | `/ai/recommendation/daily` | AIæ¯æ—¥æ¨è |
| POST | `/ai/recommendation/mood` | AIå¿ƒæƒ…æ¨è |
| POST | `/ai/share/card` | AIåˆ†äº«å¡ç‰‡ç”Ÿæˆ |
| POST | `/ai/share/review` | AIä¹¦è¯„ç”Ÿæˆ |
| POST | `/ai/audio/transcript` | AIéŸ³é¢‘è½¬å†™ |
| POST | `/ai/audio/shadowing` | AIè·Ÿè¯»è¯„åˆ† |

### 5.7 è¯æ±‡ API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/vocabulary` | è·å–ç”Ÿè¯åˆ—è¡¨ |
| POST | `/vocabulary` | æ·»åŠ ç”Ÿè¯ |
| POST | `/vocabulary/auto-batch` | æ‰¹é‡è‡ªåŠ¨æ·»åŠ  |
| GET | `/vocabulary/review` | è·å–å¤ä¹ å•è¯ |
| POST | `/vocabulary/:id/review` | æäº¤å¤ä¹ ç»“æœ |
| GET | `/vocabulary/stats` | è¯æ±‡ç»Ÿè®¡ |

### 5.8 æ•°æ®è¿½è¸ª API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| POST | `/tracking/reading` | ä¸ŠæŠ¥é˜…è¯»è¡Œä¸ºæ•°æ® |
| POST | `/tracking/ai` | ä¸ŠæŠ¥AIäº¤äº’æ•°æ® |
| POST | `/tracking/comprehension` | ä¸ŠæŠ¥ç†è§£ç¨‹åº¦æ•°æ® |
| POST | `/tracking/batch` | æ‰¹é‡ä¸ŠæŠ¥ |

### 5.9 å‹‹ç«  API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/badges` | è·å–æ‰€æœ‰å‹‹ç«  |
| GET | `/badges/user` | è·å–ç”¨æˆ·å·²è·å¾—å‹‹ç«  |
| GET | `/badges/progress` | è·å–å‹‹ç« è¿›åº¦ |

### 5.10 æ—¥å¿— API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| POST | `/logs/batch` | æ‰¹é‡ä¸Šä¼ æ—¥å¿— |
| POST | `/logs/crash` | ä¸ŠæŠ¥å´©æºƒæ—¥å¿— |

### 5.11 è®¢é˜… API
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/subscriptions/status` | è·å–è®¢é˜…çŠ¶æ€ |
| POST | `/subscriptions/verify` | éªŒè¯App Storeæ”¶æ® |
| POST | `/subscriptions/restore` | æ¢å¤è´­ä¹° |

### 5.12 ä½œè€… API â­æ–°å¢
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/authors` | è·å–ä½œè€…åˆ—è¡¨ |
| GET | `/authors/:id` | è·å–ä½œè€…è¯¦æƒ… |
| GET | `/authors/:id/books` | è·å–ä½œè€…ä¹¦ç± |
| GET | `/authors/:id/quotes` | è·å–ä½œè€…é‡‘å¥ |
| POST | `/authors/:id/chat` | ä¸ä½œè€…AIå¯¹è¯ |
| POST | `/authors/:id/chat/stream` | æµå¼å¯¹è¯ |
| GET | `/authors/featured` | è·å–æ¨èä½œè€… |

### 5.13 é‡‘å¥ API â­æ–°å¢
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/quotes` | è·å–é‡‘å¥åˆ—è¡¨ |
| GET | `/quotes/daily` | è·å–æ¯æ—¥é‡‘å¥ |
| GET | `/quotes/:id` | è·å–é‡‘å¥è¯¦æƒ… |
| POST | `/quotes/:id/favorite` | æ”¶è—é‡‘å¥ |
| DELETE | `/quotes/:id/favorite` | å–æ¶ˆæ”¶è— |
| GET | `/quotes/favorites` | è·å–æ”¶è—çš„é‡‘å¥ |

### 5.14 æ˜ä¿¡ç‰‡ API â­æ–°å¢
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/postcards/templates` | è·å–æ¨¡æ¿åˆ—è¡¨ |
| POST | `/postcards` | åˆ›å»ºæ˜ä¿¡ç‰‡ |
| GET | `/postcards/:id` | è·å–æ˜ä¿¡ç‰‡è¯¦æƒ… |
| GET | `/postcards/my` | è·å–æˆ‘çš„æ˜ä¿¡ç‰‡ |
| DELETE | `/postcards/:id` | åˆ é™¤æ˜ä¿¡ç‰‡ |

### 5.15 åŸé‚¦ API â­æ–°å¢
| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|-----|------|-----|
| GET | `/agora/feed` | è·å–åŸé‚¦åŠ¨æ€æµ |
| GET | `/agora/posts` | è·å–å¸–å­åˆ—è¡¨ |
| GET | `/agora/posts/:id` | è·å–å¸–å­è¯¦æƒ… |
| POST | `/agora/posts/:id/like` | ç‚¹èµå¸–å­ |
| POST | `/agora/posts/:id/comment` | è¯„è®ºå¸–å­ |
| GET | `/agora/posts/:id/comments` | è·å–å¸–å­è¯„è®º |

---

## 6. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è®¾è®¡

> é˜…è¯»å™¨å’ŒAIåŠ©æ‰‹æ˜¯äº§å“æ ¸å¿ƒï¼Œä¼˜å…ˆçº§æœ€é«˜

### 6.1 é˜…è¯»å™¨å¼•æ“ â­â­â­æœ€æ ¸å¿ƒ

#### 6.1.1 EPUBè§£æ
```swift
class EPUBParser {
    /// è§£æEPUBæ–‡ä»¶è¿”å›ä¹¦ç±ç»“æ„
    func parse(url: URL) async throws -> EPUBBook

    /// è§£æç”¨æˆ·å¯¼å…¥çš„EPUB
    func parseImported(fileURL: URL) async throws -> EPUBBook

    /// è·å–ç« èŠ‚HTMLå†…å®¹
    func getChapterContent(chapter: Chapter) async throws -> String

    /// è§£æç›®å½•(TOC)
    func parseTableOfContents() -> [TOCItem]
}
```

#### 6.1.2 é˜…è¯»æ—¶é•¿è¿½è¸ª (åå°é™é»˜)
```swift
class ReadingTimeTracker {
    private var sessionStartTime: Date?
    private var activeReadingTime: TimeInterval = 0
    private var lastActiveTime: Date?
    private let idleThreshold: TimeInterval = 30 // 30ç§’æ— æ“ä½œè§†ä¸ºæš‚åœ

    /// å¼€å§‹è¿½è¸ª(è¿›å…¥é˜…è¯»å™¨æ—¶è°ƒç”¨)
    func startTracking(bookId: UUID, chapterId: UUID)

    /// åœæ­¢è¿½è¸ª(é€€å‡ºé˜…è¯»å™¨æ—¶è°ƒç”¨)
    func stopTracking() -> ReadingSessionData

    /// ç”¨æˆ·æ´»è·ƒ(ä»»ä½•äº¤äº’æ—¶è°ƒç”¨)
    func recordActivity()

    /// ç”¨æˆ·ç¿»é¡µ
    func recordPageFlip(toPosition: String)

    /// Appè¿›å…¥åå°
    func appDidEnterBackground()

    /// Appå›åˆ°å‰å°
    func appWillEnterForeground()

    // å†…éƒ¨å®šæ—¶å™¨æ¯5ç§’æ£€æŸ¥ä¸€æ¬¡æ´»è·ƒçŠ¶æ€
    private func checkIdleState()
}
```

#### 6.1.3 æ–‡æœ¬é€‰æ‹©ä¸AIæ¡¥æ¥
```swift
struct SelectedText {
    let text: String
    let sentence: String?        // æ‰€åœ¨å¥å­
    let paragraph: String?       // æ‰€åœ¨æ®µè½
    let range: CFIRange
    let chapterId: UUID
}

class ReaderBridge {
    /// å¤„ç†æ–‡æœ¬é€‰æ‹© - è‡ªåŠ¨è®°å½•
    func handleTextSelection(_ text: SelectedText) {
        // 1. æ˜¾ç¤ºAIèœå•
        showAIMenu(for: text)
        // 2. é™é»˜è®°å½•é€‰æ‹©è¡Œä¸º
        trackingService.recordTextSelection(text)
    }

    /// AIæŸ¥è¯ - è‡ªåŠ¨æ·»åŠ ç”Ÿè¯æœ¬
    func explainWord(_ word: String, context: String) async throws -> WordExplanation {
        let explanation = try await aiService.explain(word, context: context)
        // è‡ªåŠ¨æ·»åŠ åˆ°ç”Ÿè¯æœ¬(ç”¨æˆ·æ— éœ€æ‰‹åŠ¨æ“ä½œ)
        await vocabularyService.autoAdd(word: word, context: context, explanation: explanation)
        // è®°å½•äº¤äº’
        trackingService.recordAIInteraction(.wordExplain, text: word)
        return explanation
    }

    /// AIç®€åŒ– - è®°å½•ç†è§£ç¨‹åº¦
    func simplifySentence(_ sentence: String) async throws -> String {
        let simplified = try await aiService.simplify(sentence)
        // è®°å½•ç”¨æˆ·å¯¹è¿™å¥è¯éœ€è¦ç®€åŒ–(ç†è§£å›°éš¾)
        trackingService.recordComprehensionDifficulty(sentence: sentence, type: .needSimplify)
        return simplified
    }

    /// AIç¿»è¯‘ - è®°å½•ç†è§£ç¨‹åº¦
    func translate(_ text: String) async throws -> String {
        let translated = try await aiService.translate(text)
        // è®°å½•ç”¨æˆ·éœ€è¦ç¿»è¯‘(ç†è§£å›°éš¾)
        trackingService.recordComprehensionDifficulty(sentence: text, type: .needTranslate)
        return translated
    }
}
```

### 6.2 AIåŠ©æ‰‹é¢æ¿ â­â­â­æ ¸å¿ƒ

```swift
class AIAssistantViewModel: ObservableObject {
    @Published var currentExplanation: WordExplanation?
    @Published var isLoading: Bool = false
    @Published var streamingText: String = ""

    /// æŸ¥è¯(æµå¼å“åº”)
    func explainWord(_ word: String, context: String) async {
        isLoading = true
        for await chunk in aiService.streamExplain(word, context: context) {
            await MainActor.run {
                streamingText += chunk.text
            }
        }
        // è‡ªåŠ¨æ·»åŠ åˆ°ç”Ÿè¯æœ¬
        await autoAddToVocabulary(word: word, context: context)
        isLoading = false
    }

    /// è‡ªåŠ¨æ·»åŠ ç”Ÿè¯(æ— éœ€ç”¨æˆ·ç¡®è®¤)
    private func autoAddToVocabulary(word: String, context: String) async {
        try? await vocabularyService.add(
            word: word,
            sourceContext: context,
            sourceBookId: currentBookId,
            autoAdded: true // æ ‡è®°ä¸ºè‡ªåŠ¨æ·»åŠ 
        )
    }
}
```

### 6.3 æœ‰å£°ä¹¦æ¨¡å—

```swift
class AudiobookEngine {
    private let audioPlayer: AVPlayer
    private let textSyncer: TextAudioSyncer

    /// æ’­æ”¾æœ‰å£°ä¹¦
    func play(audioURL: URL, syncData: AudioSyncData?)

    /// æ–‡å­—éŸ³é¢‘åŒæ­¥
    func syncTextHighlight(currentTime: TimeInterval) -> TextRange?

    /// è°ƒèŠ‚è¯­é€Ÿ
    func setPlaybackSpeed(_ speed: Float) // 0.5x - 2.0x

    /// è·³è½¬åˆ°æŒ‡å®šä½ç½®
    func seekTo(textPosition: String) // æ ¹æ®æ–‡å­—ä½ç½®è·³è½¬éŸ³é¢‘
}

struct AudioSyncData: Codable {
    let segments: [AudioTextSegment]
}

struct AudioTextSegment {
    let audioStart: TimeInterval
    let audioEnd: TimeInterval
    let textRange: TextRange
}
```

### 6.4 ç¦»çº¿é˜…è¯»æ¨¡å—

```swift
class OfflineManager {
    /// ä¸‹è½½ä¹¦ç±ä¾›ç¦»çº¿é˜…è¯»
    func downloadForOffline(book: Book) async throws

    /// æ£€æŸ¥ä¹¦ç±æ˜¯å¦å·²ä¸‹è½½
    func isAvailableOffline(bookId: UUID) -> Bool

    /// è·å–ç¦»çº¿å­˜å‚¨å¤§å°
    func getOfflineStorageSize() -> Int64

    /// åˆ é™¤ç¦»çº¿ä¹¦ç±
    func removeOfflineBook(bookId: UUID) async throws

    /// åŒæ­¥ç¦»çº¿æœŸé—´çš„é˜…è¯»æ•°æ®
    func syncOfflineData() async throws
}

// ç¦»çº¿æ•°æ®ç¼“å­˜
@Model
class OfflineReadingData {
    @Attribute(.unique) var id: UUID
    var bookId: UUID
    var sessions: [CachedReadingSession]
    var vocabularyAdded: [CachedVocabulary]
    var aiInteractions: [CachedAIInteraction]
    var needsSync: Bool
    var createdAt: Date
}
```

### 6.5 ä¹¦ç±å¯¼å…¥æ¨¡å—

```swift
class BookImporter {
    /// ä»æ–‡ä»¶å¯¼å…¥EPUB
    func importFromFile(url: URL) async throws -> Book

    /// ä»iCloudå¯¼å…¥
    func importFromiCloud() async throws -> Book

    /// éªŒè¯EPUBæ ¼å¼
    func validateEPUB(url: URL) throws -> EPUBValidationResult

    /// æå–å…ƒæ•°æ®
    func extractMetadata(epub: URL) throws -> BookMetadata
}

struct EPUBValidationResult {
    let isValid: Bool
    let errors: [String]
    let warnings: [String]
    let estimatedWordCount: Int
    let chapterCount: Int
}
```

### 6.6 å‹‹ç« ä½“ç³»

```swift
// å‹‹ç« ç±»å‹
enum BadgeType: String, Codable {
    // é˜…è¯»æ—¶é•¿å‹‹ç« 
    case reader_bronze      // ç´¯è®¡é˜…è¯»1å°æ—¶
    case reader_silver      // ç´¯è®¡é˜…è¯»10å°æ—¶
    case reader_gold        // ç´¯è®¡é˜…è¯»50å°æ—¶
    case reader_platinum    // ç´¯è®¡é˜…è¯»100å°æ—¶
    case reader_diamond     // ç´¯è®¡é˜…è¯»500å°æ—¶

    // è¿ç»­é˜…è¯»å‹‹ç« 
    case streak_3days       // è¿ç»­é˜…è¯»3å¤©
    case streak_7days       // è¿ç»­é˜…è¯»7å¤©
    case streak_30days      // è¿ç»­é˜…è¯»30å¤©
    case streak_100days     // è¿ç»­é˜…è¯»100å¤©
    case streak_365days     // è¿ç»­é˜…è¯»365å¤©

    // å®Œæˆä¹¦ç±å‹‹ç« 
    case bookworm_1         // å®Œæˆ1æœ¬ä¹¦
    case bookworm_5         // å®Œæˆ5æœ¬ä¹¦
    case bookworm_20        // å®Œæˆ20æœ¬ä¹¦
    case bookworm_50        // å®Œæˆ50æœ¬ä¹¦

    // è¯æ±‡å‹‹ç« 
    case vocab_100          // æŒæ¡100ä¸ªå•è¯
    case vocab_500          // æŒæ¡500ä¸ªå•è¯
    case vocab_1000         // æŒæ¡1000ä¸ªå•è¯
    case vocab_5000         // æŒæ¡5000ä¸ªå•è¯

    // AIä½¿ç”¨å‹‹ç« 
    case ai_explorer        // é¦–æ¬¡ä½¿ç”¨AIåŠŸèƒ½
    case ai_curious         // AIäº¤äº’100æ¬¡
    case ai_master          // AIäº¤äº’1000æ¬¡

    // ç‰¹æ®Šå‹‹ç« 
    case early_bird         // æ—©èµ·é˜…è¯»(6-8ç‚¹)
    case night_owl          // å¤œé—´é˜…è¯»(22-24ç‚¹)
    case speed_reader       // é˜…è¯»é€Ÿåº¦è¾¾åˆ°200è¯/åˆ†é’Ÿ
    case thorough_reader    // å®Œæˆç‡100%
}

struct Badge: Codable, Identifiable {
    let id: UUID
    let type: BadgeType
    let name: String
    let description: String
    let iconUrl: String
    let requirement: String
    let unlockedAt: Date?
    let progress: Float        // 0-1 è¿›åº¦
}
```

### 6.7 è®¢é˜…æœåŠ¡æ¨¡å—

```swift
enum SubscriptionPlan: String, Codable {
    case free = "FREE"
    case pro = "PRO"
    case premium = "PREMIUM"
}

struct SubscriptionFeatures {
    static let free: [Feature] = [
        .booksLimit(5),
        .aiQueriesPerDay(10),
        .vocabularyLimit(100),
        .basicRecommendations
    ]

    static let pro: [Feature] = [
        .unlimitedBooks,
        .aiQueriesPerDay(100),
        .vocabularyLimit(1000),
        .advancedRecommendations,
        .offlineReading,
        .readingStats
    ]

    static let premium: [Feature] = [
        .unlimitedBooks,
        .unlimitedAI,
        .unlimitedVocabulary,
        .advancedRecommendations,
        .offlineReading,
        .advancedStats,
        .audiobooks,
        .prioritySupport
    ]
}

class StoreKitService {
    /// è·å–å¯ç”¨è®¢é˜…äº§å“
    func fetchProducts() async throws -> [Product]

    /// è´­ä¹°è®¢é˜…
    func purchase(_ product: Product) async throws -> Transaction

    /// æ¢å¤è´­ä¹°
    func restorePurchases() async throws

    /// æ£€æŸ¥è®¢é˜…çŠ¶æ€
    func checkSubscriptionStatus() async -> SubscriptionStatus
}
```

---

## 7. BEå…­å¤§AIå­ç³»ç»Ÿä¸iOSå®¢æˆ·ç«¯æ˜ å°„

> AIæ˜¯äº§å“å·®å¼‚åŒ–æ ¸å¿ƒï¼Œæœ¬èŠ‚è¯¦ç»†è¯´æ˜BE AIå­ç³»ç»Ÿå¦‚ä½•åœ¨iOSç«¯å‘ˆç°

### 7.1 AIå­ç³»ç»Ÿæ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Readmigo AI-Native Architecture               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         iOS Client                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚é˜…è¯»å™¨AI â”‚ â”‚å‘ç°æ¨è â”‚ â”‚å­¦ä¹ è§„åˆ’ â”‚ â”‚å¤ä¹ ä¼˜åŒ– â”‚ â”‚å†…å®¹åˆ†æ â”‚   â”‚
â”‚  â”‚åŠ©æ‰‹é¢æ¿ â”‚ â”‚AIæ¦œå•  â”‚ â”‚AIé¢æ¿  â”‚ â”‚AIè°ƒåº¦  â”‚ â”‚AIæ´å¯Ÿ  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚           â”‚           â”‚           â”‚           â”‚         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       â”‚           â”‚     API Gateway       â”‚           â”‚         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       â†“           â†“           â†“           â†“           â†“         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ AIå³æ—¶  â”‚ â”‚ AIæ¨è  â”‚ â”‚ AIè§„åˆ’  â”‚ â”‚ AIå¤ä¹   â”‚ â”‚ AIåˆ†æ  â”‚   â”‚
â”‚  â”‚ åŠ©æ‰‹    â”‚ â”‚ å¼•æ“    â”‚ â”‚ å¼•æ“    â”‚ â”‚ å¼•æ“    â”‚ â”‚ å¼•æ“    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         Backend AI Services                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 å…­å¤§AIå­ç³»ç»Ÿè¯¦ç»†æ˜ å°„

#### 7.2.1 AIå³æ—¶åŠ©æ‰‹å­ç³»ç»Ÿ (Real-time AI Assistant)

| BEå­ç³»ç»Ÿ | iOSäº§å“å½¢æ€ | ç”¨æˆ·è§¦å‘åœºæ™¯ |
|---------|------------|-------------|
| Word Explain | æŸ¥è¯è§£é‡Šé¢æ¿ | é€‰ä¸­å•è¯ â†’ å¼¹å‡ºAIé‡Šä¹‰å¡ç‰‡ |
| Sentence Simplify | å¥å­ç®€åŒ–é¢æ¿ | é€‰ä¸­å¥å­ â†’ AIæ”¹å†™ä¸ºç®€å•è¡¨è¾¾ |
| Paragraph Translate | æ®µè½ç¿»è¯‘é¢æ¿ | é€‰ä¸­æ®µè½ â†’ AIæ™ºèƒ½ç¿»è¯‘ |
| Content Q&A | å†…å®¹é—®ç­”é¢æ¿ | ç‚¹å‡»é—®ç­”æŒ‰é’® â†’ AIå¯¹è¯å¼é—®ç­” |

**iOSå®ç°:**
```swift
// AIåŠ©æ‰‹é¢æ¿ - é˜…è¯»å™¨æ ¸å¿ƒåŠŸèƒ½
struct AIAssistantPanel: View {
    @StateObject var viewModel: AIAssistantViewModel
    @State var selectedMode: AIMode = .explain

    enum AIMode {
        case explain      // æŸ¥è¯
        case simplify     // ç®€åŒ–
        case translate    // ç¿»è¯‘
        case qa           // é—®ç­”
    }

    var body: some View {
        VStack {
            // æ¨¡å¼åˆ‡æ¢
            AIModePicker(selected: $selectedMode)

            // AIå†…å®¹åŒºåŸŸ(æµå¼è¾“å‡º)
            AIContentView(
                mode: selectedMode,
                isStreaming: viewModel.isStreaming,
                content: viewModel.streamingContent
            )

            // æ“ä½œæŒ‰é’®
            AIActionBar(
                onAddVocab: viewModel.addToVocabulary,
                onCopy: viewModel.copyContent,
                onFollowUp: viewModel.askFollowUp
            )
        }
    }
}
```

**äº§å“ç•Œé¢:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŸ¥è¯ | ç®€åŒ– | ç¿»è¯‘ | é—®ç­”          â”‚  â† AIæ¨¡å¼åˆ‡æ¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  "bench" [bentS]                    â”‚
â”‚                                     â”‚
â”‚  åè¯: é•¿æ¤…ï¼Œé•¿å‡³                   â”‚
â”‚  åœ¨æ–‡ä¸­: è€äººåçš„æœ¨åˆ¶é•¿æ¤…           â”‚  â† AIæµå¼è¾“å‡ºå†…å®¹
â”‚  ä¾‹å¥: He sat on a park bench.      â”‚
â”‚                                     â”‚
â”‚  å‘éŸ³  å¤åˆ¶  ç¬”è®°                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å·²è‡ªåŠ¨æ·»åŠ åˆ°ç”Ÿè¯æœ¬                 â”‚  â† è‡ªåŠ¨æ·»åŠ æç¤º
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7.2.2 AIæ™ºèƒ½æ¨èå­ç³»ç»Ÿ (Personalized Recommendation Engine)

| BEå­ç³»ç»Ÿ | iOSäº§å“å½¢æ€ | å±•ç¤ºä½ç½® |
|---------|------------|---------|
| ç”¨æˆ·ç”»åƒåˆ†æ | ä¸ªæ€§åŒ–é¦–é¡µ | å‘ç°Tabé¦–å± |
| ååŒè¿‡æ»¤æ¨è | "çŒœä½ å–œæ¬¢"æ¦œå• | å‘ç°é¡µæ¦œå•åŒº |
| åŸºäºå†…å®¹æ¨è | "åŒç±»æ¨è"å¡ç‰‡ | ä¹¦ç±è¯¦æƒ…é¡µ |
| éš¾åº¦åŒ¹é…æ¨è | "é€‚åˆä½ çš„"æ¦œå• | å‘ç°é¡µAIä¸“åŒº |
| é˜…è¯»å†å²æ¨è | "ç»§ç»­æ¢ç´¢"å¡ç‰‡ | ä¹¦æ¶é¡µ |

**iOSå®ç°:**
```swift
// AIæ¨èæ¨¡å—
class AIRecommendViewModel: ObservableObject {
    @Published var personalizedBooks: [Book] = []
    @Published var similarBooks: [Book] = []
    @Published var levelMatchedBooks: [Book] = []
    @Published var aiBookLists: [BookList] = []  // AIç”Ÿæˆçš„æ¦œå•

    /// è·å–AIä¸ªæ€§åŒ–æ¨è
    func fetchAIRecommendations() async {
        // 1. åŸºäºç”¨æˆ·ç”»åƒçš„æ¨è
        personalizedBooks = try await api.getPersonalizedBooks()

        // 2. åŸºäºå½“å‰é˜…è¯»çš„ç›¸ä¼¼æ¨è
        similarBooks = try await api.getSimilarBooks(currentBookId)

        // 3. éš¾åº¦åŒ¹é…æ¨è
        levelMatchedBooks = try await api.getLevelMatchedBooks()

        // 4. AIç”Ÿæˆçš„åŠ¨æ€æ¦œå•
        aiBookLists = try await api.getAIBookLists()
    }
}
```

#### 7.2.3 AIå­¦ä¹ è§„åˆ’å­ç³»ç»Ÿ (Learning Plan Engine)

| BEå­ç³»ç»Ÿ | iOSäº§å“å½¢æ€ | ç”¨æˆ·è§¦å‘åœºæ™¯ |
|---------|------------|-------------|
| æ°´å¹³è¯„ä¼° | å…¥é—¨æµ‹è¯•+åŠ¨æ€è¯„ä¼° | æ–°ç”¨æˆ·æ³¨å†Œ/å®šæœŸ |
| ç›®æ ‡è®¾å®š | å­¦ä¹ ç›®æ ‡é¢æ¿ | Profileè®¾ç½® |
| è®¡åˆ’ç”Ÿæˆ | AIå­¦ä¹ è®¡åˆ’å¡ç‰‡ | é¦–é¡µ/Profile |
| è¿›åº¦è¿½è¸ª | å­¦ä¹ è¿›åº¦ä»ªè¡¨ç›˜ | Profileç»Ÿè®¡ |

**iOSå®ç°:**
```swift
// AIå­¦ä¹ è§„åˆ’
struct AILearningPlan: Codable {
    let dailyReadingGoal: Int      // æ¯æ—¥é˜…è¯»ç›®æ ‡(åˆ†é’Ÿ)
    let weeklyBookGoal: Int        // æ¯å‘¨ä¹¦ç±ç›®æ ‡
    let vocabularyGoal: Int        // è¯æ±‡ç›®æ ‡
    let suggestedBooks: [Book]     // AIæ¨èçš„å­¦ä¹ ä¹¦å•
    let milestones: [Milestone]    // å­¦ä¹ é‡Œç¨‹ç¢‘
    let adjustments: [String]      // AIå»ºè®®è°ƒæ•´
}
```

#### 7.2.4 AIå¤ä¹ ä¼˜åŒ–å­ç³»ç»Ÿ (Spaced Repetition Engine)

| BEå­ç³»ç»Ÿ | iOSäº§å“å½¢æ€ | ç”¨æˆ·è§¦å‘åœºæ™¯ |
|---------|------------|-------------|
| é—å¿˜æ›²çº¿è®¡ç®— | æ™ºèƒ½å¤ä¹ æé†’ | Pushé€šçŸ¥ |
| SM-2ç®—æ³•è°ƒåº¦ | ä»Šæ—¥å¤ä¹ å¡ç‰‡ | ç”Ÿè¯æœ¬Tab |
| éš¾åº¦åŠ¨æ€è°ƒæ•´ | å¤ä¹ å¡ç‰‡éš¾åº¦ | å¤ä¹ è¿‡ç¨‹ä¸­ |
| æŒæ¡åº¦è¯„ä¼° | è¯æ±‡æŒæ¡æŠ¥å‘Š | ç”Ÿè¯æœ¬ç»Ÿè®¡ |

**iOSå®ç°:**
```swift
// AIå¤ä¹ è°ƒåº¦
class AIReviewScheduler {
    /// è·å–ä»Šæ—¥å¤ä¹ è¯æ±‡(AIä¼˜åŒ–æ’åº)
    func getTodayReviewWords() async -> [ReviewWord] {
        return try await api.getAIOptimizedReview()
    }

    /// æäº¤å¤ä¹ ç»“æœ(AIè°ƒæ•´ä¸‹æ¬¡å¤ä¹ æ—¶é—´)
    func submitReview(wordId: UUID, quality: ReviewQuality) async {
        try await api.submitReviewResult(wordId, quality)
    }
}
```

#### 7.2.5 AIå†…å®¹åˆ†æå­ç³»ç»Ÿ (Content Analysis Engine)

| BEå­ç³»ç»Ÿ | iOSäº§å“å½¢æ€ | å±•ç¤ºä½ç½® |
|---------|------------|---------|
| éš¾åº¦è¯„ä¼° | ä¹¦ç±éš¾åº¦æ ‡ç­¾ | ä¹¦ç±å¡ç‰‡/è¯¦æƒ… |
| å…³é”®è¯æå– | æ ¸å¿ƒè¯æ±‡åˆ—è¡¨ | ä¹¦ç±è¯¦æƒ…é¡µ |
| ä¸»é¢˜åˆ†æ | ä¸»é¢˜æ ‡ç­¾ | ä¹¦ç±è¯¦æƒ…/æœç´¢ |
| é˜…è¯»æ—¶é—´é¢„ä¼° | é¢„è®¡é˜…è¯»æ—¶é—´ | ä¹¦ç±è¯¦æƒ…é¡µ |

**iOSå®ç°:**
```swift
// AIå†…å®¹åˆ†ææ•°æ®
struct AIBookAnalysis: Codable {
    let difficultyLevel: DifficultyLevel  // A1-C2
    let difficultyScore: Float            // 0-100
    let estimatedReadingTime: Int         // åˆ†é’Ÿ
    let keyVocabulary: [String]           // æ ¸å¿ƒè¯æ±‡
    let themes: [String]                  // ä¸»é¢˜æ ‡ç­¾
    let targetAudience: String            // ç›®æ ‡è¯»è€…
    let readabilityIndex: Float           // FleschæŒ‡æ•°
}
```

#### 7.2.6 AIç”¨æˆ·æ´å¯Ÿå­ç³»ç»Ÿ (User Insight Engine)

| BEå­ç³»ç»Ÿ | iOSäº§å“å½¢æ€ | å±•ç¤ºä½ç½® |
|---------|------------|---------|
| é˜…è¯»ä¹ æƒ¯åˆ†æ | é˜…è¯»ä¹ æƒ¯æŠ¥å‘Š | Profileç»Ÿè®¡ |
| å­¦ä¹ æ•ˆæœè¯„ä¼° | å­¦ä¹ æ•ˆæœæŠ¥å‘Š | Profileç»Ÿè®¡ |
| å¼±ç‚¹è¯†åˆ« | å­¦ä¹ å»ºè®®å¡ç‰‡ | é¦–é¡µ/Profile |
| æˆé•¿è½¨è¿¹ | æˆé•¿æ›²çº¿å›¾ | Profileç»Ÿè®¡ |

**iOSå®ç°:**
```swift
// AIç”¨æˆ·æ´å¯Ÿ
struct AIUserInsight: Codable {
    let readingHabits: ReadingHabits
    let learningProgress: LearningProgress
    let weakPoints: [WeakPoint]
    let strengths: [String]
    let suggestions: [AISuggestion]
    let growthTrend: GrowthTrend
}
```

---

## 8. æ¦œå•ç³»ç»Ÿ (BookList)

### 8.1 æ¦œå•ç±»å‹

| æ¦œå•ç±»å‹ | è¯´æ˜ | æ•°æ®æ¥æº |
|---------|------|---------|
| EDITORIAL | ç¼–è¾‘ç²¾é€‰ | è¿è¥æ‰‹åŠ¨é…ç½® |
| TRENDING | çƒ­é—¨æ¦œå• | ç”¨æˆ·é˜…è¯»æ•°æ® |
| NEW_RELEASES | æ–°ä¹¦ä¸Šæ¶ | ä¸Šæ¶æ—¶é—´ |
| TOP_RATED | é«˜åˆ†æ¦œå• | ç”¨æˆ·è¯„åˆ† |
| AI_PERSONALIZED | AIä¸ªæ€§åŒ–æ¨è | AIæ¨èå¼•æ“ |
| AI_LEVEL_MATCHED | éš¾åº¦åŒ¹é… | AIéš¾åº¦åˆ†æ |
| CATEGORY | åˆ†ç±»æ¦œå• | ä¹¦ç±åˆ†ç±» |

### 8.2 æ¦œå•æ•°æ®æ¨¡å‹

```swift
// æ¦œå•æ¨¡å‹
struct BookList: Codable, Identifiable {
    let id: UUID
    let name: String
    let description: String?
    let type: BookListType
    let coverImageUrl: String?
    let itemCount: Int
    let isAIGenerated: Bool       // æ˜¯å¦AIç”Ÿæˆ
    let aiGenerationReason: String? // AIç”ŸæˆåŸå› 
    let books: [Book]?            // æ¦œå•å†…ä¹¦ç±
    let createdAt: Date
    let updatedAt: Date
}

enum BookListType: String, Codable {
    case editorial = "EDITORIAL"
    case trending = "TRENDING"
    case newReleases = "NEW_RELEASES"
    case topRated = "TOP_RATED"
    case aiPersonalized = "AI_PERSONALIZED"
    case aiLevelMatched = "AI_LEVEL_MATCHED"
    case category = "CATEGORY"
}

// æ¦œå•é¡¹
struct BookListItem: Codable {
    let bookId: UUID
    let book: Book
    let position: Int
    let addedAt: Date
    let aiScore: Float?           // AIæ¨èåˆ†æ•°
    let aiReason: String?         // AIæ¨èç†ç”±
}
```

### 8.3 æ¦œå•å±•ç¤ºé¡µé¢

```swift
// æ¦œå•åˆ—è¡¨è§†å›¾
struct BookListGridView: View {
    @StateObject var viewModel: BookListViewModel

    var body: some View {
        ScrollView {
            LazyVGrid(columns: columns) {
                ForEach(viewModel.bookLists) { list in
                    BookListCard(bookList: list)
                        .onTapGesture {
                            viewModel.navigateToDetail(list)
                        }
                }
            }
        }
        .navigationTitle("æ¦œå•")
    }
}

// æ¦œå•å¡ç‰‡ç»„ä»¶
struct BookListCard: View {
    let bookList: BookList

    var body: some View {
        VStack(alignment: .leading) {
            BookListCoverView(bookList: bookList)

            HStack {
                Text(bookList.name).font(.headline)
                if bookList.isAIGenerated {
                    AIBadge()
                }
            }

            Text(bookList.description ?? "")
                .font(.caption)
                .foregroundColor(.secondary)
                .lineLimit(2)

            Text("\(bookList.itemCount)æœ¬ä¹¦")
                .font(.caption2)
                .foregroundColor(.tertiary)
        }
        .padding()
        .background(Color(.systemBackground))
        .cornerRadius(12)
        .shadow(radius: 2)
    }
}
```

### 8.4 æ¦œå•è¯¦æƒ…é¡µé¢

```swift
// æ¦œå•è¯¦æƒ…è§†å›¾
struct BookListDetailView: View {
    @StateObject var viewModel: BookListDetailViewModel
    let bookListId: UUID

    var body: some View {
        ScrollView {
            VStack(alignment: .leading, spacing: 16) {
                BookListHeaderView(bookList: viewModel.bookList)

                if let aiReason = viewModel.bookList?.aiGenerationReason {
                    AIReasonCard(reason: aiReason)
                }

                LazyVStack(spacing: 12) {
                    ForEach(viewModel.books) { item in
                        BookListItemRow(item: item, rank: item.position)
                            .onTapGesture {
                                viewModel.navigateToBook(item.book)
                            }
                    }
                }
            }
            .padding()
        }
        .navigationTitle(viewModel.bookList?.name ?? "æ¦œå•è¯¦æƒ…")
        .task {
            await viewModel.loadBookList(id: bookListId)
        }
    }
}
```

### 8.5 æ¦œå•UIè®¾è®¡

```
å‘ç°é¡µ - æ¦œå•åŒºåŸŸ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç²¾é€‰æ¦œå•                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ç¼–è¾‘ç²¾é€‰ â”‚ â”‚ç»å…¸å¿…è¯» â”‚ â”‚AIä¸ºä½ é€‰ â”‚â”‚
â”‚ â”‚ 20æœ¬ä¹¦  â”‚ â”‚ 15æœ¬ä¹¦  â”‚ â”‚ 10æœ¬ä¹¦  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚å…¥é—¨æ¨è â”‚ â”‚ çƒ­é—¨æ¦œ  â”‚ â”‚ æ–°ä¹¦æ¦œ  â”‚â”‚
â”‚ â”‚ 12æœ¬ä¹¦  â”‚ â”‚ 25æœ¬ä¹¦  â”‚ â”‚ 8æœ¬ä¹¦   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ¦œå•è¯¦æƒ…é¡µ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† ç¼–è¾‘ç²¾é€‰                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         ç¼–è¾‘ç²¾é€‰                     â”‚
â”‚    ç²¾å¿ƒæŒ‘é€‰çš„ç»å…¸è‹±æ–‡è¯»ç‰©            â”‚
â”‚         20æœ¬ä¹¦                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  Pride and Prejudice              â”‚
â”‚    Jane Austen                      â”‚
â”‚    éš¾åº¦: B2                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2  1984                             â”‚
â”‚    George Orwell                    â”‚
â”‚    éš¾åº¦: B2  AI: é€‚åˆä½ çš„é˜…è¯»æ°´å¹³    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3  The Great Gatsby                 â”‚
â”‚    F. Scott Fitzgerald              â”‚
â”‚    éš¾åº¦: B1                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ç”¨æˆ·æ•°æ®é‡‡é›†ä¸å¤„ç†

> æ•°æ®é‡‡é›†è´¯ç©¿æ•´ä¸ªäº§å“ï¼Œæ˜¯AIä¸ªæ€§åŒ–æœåŠ¡çš„åŸºç¡€

### 9.1 æ•°æ®é‡‡é›†åŸåˆ™
- **å…¨é‡é‡‡é›†**: è¦†ç›–æ‰€æœ‰ç”¨æˆ·äº¤äº’åœºæ™¯
- **é™é»˜é‡‡é›†**: å¯¹ç”¨æˆ·å®Œå…¨ä¸å¯è§ï¼Œæ— ä»»ä½•æç¤º
- **ç»†ç²’åº¦**: ç»Ÿè®¡ç²¾ç¡®åˆ°ç§’çº§ã€å­—ç¬¦çº§
- **å®æ—¶ä¸ŠæŠ¥**: åœ¨çº¿æ—¶å®æ—¶ä¸ŠæŠ¥ï¼Œç¦»çº¿æ—¶æœ¬åœ°ç¼“å­˜ååŒæ­¥

### 9.2 é‡‡é›†æ•°æ®ç±»å‹

#### 9.2.1 é˜…è¯»è¡Œä¸ºæ•°æ® (iOSé‡‡é›† â†’ BEå¤„ç†)
```swift
struct ReadingBehaviorEvent {
    let userId: UUID
    let bookId: UUID
    let chapterId: UUID
    let timestamp: Date
    let eventType: ReadingEventType
    let data: [String: Any]
}

enum ReadingEventType {
    case sessionStart           // å¼€å§‹é˜…è¯»
    case sessionEnd             // ç»“æŸé˜…è¯»
    case pageView               // ç¿»é¡µ
    case scrollPosition         // æ»šåŠ¨ä½ç½®
    case pauseReading           // æš‚åœ(åˆ‡å‡ºApp)
    case resumeReading          // æ¢å¤é˜…è¯»
    case chapterStart           // å¼€å§‹æ–°ç« èŠ‚
    case chapterComplete        // å®Œæˆç« èŠ‚
    case bookComplete           // å®Œæˆå…¨ä¹¦
}

// è¯¦ç»†é‡‡é›†å­—æ®µ
struct ReadingSessionData {
    let sessionId: UUID
    let startTime: Date
    let endTime: Date?
    let durationSeconds: Int        // å®é™…é˜…è¯»æ—¶é•¿(ç§’)
    let activeDurationSeconds: Int  // æ´»è·ƒé˜…è¯»æ—¶é•¿(å»é™¤æš‚åœ)
    let startPosition: String       // EPUB CFI
    let endPosition: String?
    let pagesRead: Int
    let wordsRead: Int              // ä¼°ç®—é˜…è¯»å­—æ•°
    let scrollCount: Int            // æ»šåŠ¨æ¬¡æ•°
    let pageFlipCount: Int          // ç¿»é¡µæ¬¡æ•°
    let averageReadingSpeed: Float  // å­—/åˆ†é’Ÿ
    let pauseCount: Int             // æš‚åœæ¬¡æ•°
    let pauseTotalSeconds: Int      // æ€»æš‚åœæ—¶é•¿
}
```

#### 9.2.2 AIäº¤äº’æ•°æ® (iOSé‡‡é›† â†’ BEå¤„ç†)
```swift
struct AIInteractionEvent {
    let userId: UUID
    let bookId: UUID
    let chapterId: UUID
    let timestamp: Date
    let interactionType: AIInteractionType
    let inputText: String           // é€‰ä¸­çš„æ–‡æœ¬
    let inputContext: String        // ä¸Šä¸‹æ–‡
    let responseTime: Int           // å“åº”æ—¶é—´(ms)
    let userAction: UserAction      // ç”¨æˆ·åç»­æ“ä½œ
}

enum AIInteractionType {
    case wordExplain            // æŸ¥è¯
    case sentenceSimplify       // ç®€åŒ–å¥å­
    case paragraphTranslate     // æ®µè½ç¿»è¯‘
    case contentQA              // å†…å®¹é—®ç­”
}

enum UserAction {
    case addToVocabulary        // æ·»åŠ åˆ°ç”Ÿè¯æœ¬
    case dismiss                // ç›´æ¥å…³é—­
    case copyText               // å¤åˆ¶å†…å®¹
    case askFollowUp            // è¿½é—®
    case markUnderstood         // æ ‡è®°å·²ç†è§£
    case markConfused           // æ ‡è®°ä»å›°æƒ‘
}
```

#### 9.2.3 ç†è§£ç¨‹åº¦æ•°æ® (iOSé‡‡é›† â†’ BEå¤„ç†)
```swift
struct ComprehensionData {
    let userId: UUID
    let bookId: UUID
    let sentenceId: String          // å¥å­å”¯ä¸€æ ‡è¯†
    let sentence: String
    let lookupCount: Int            // æŸ¥è¯¢æ¬¡æ•°
    let simplifyCount: Int          // ç®€åŒ–æ¬¡æ•°
    let translateCount: Int         // ç¿»è¯‘æ¬¡æ•°
    let timeSpentSeconds: Int       // åœ¨è¯¥å¥åœç•™æ—¶é—´
    let comprehensionLevel: Int     // æ¨æ–­çš„ç†è§£ç¨‹åº¦ 0-100
}
```

### 9.3 BEå¤„ç†ä¸è¾“å‡º

#### 9.3.1 BEå¤„ç†é€»è¾‘
| è¾“å…¥æ•°æ® | BEå¤„ç† | è¾“å‡ºç”¨é€” |
|---------|--------|---------|
| é˜…è¯»æ—¶é•¿ | èšåˆç»Ÿè®¡ã€è¶‹åŠ¿åˆ†æ | å‹‹ç« ã€ä¸ªæ€§åŒ–æ¨è |
| é˜…è¯»é€Ÿåº¦ | æ°´å¹³è¯„ä¼°ã€éš¾åº¦åŒ¹é… | ä¹¦ç±æ¨èã€é˜…è¯»è®¡åˆ’ |
| AIäº¤äº’é¢‘ç‡ | è¯æ±‡éš¾åº¦åˆ†æ | ä¸ªæ€§åŒ–è¯æ±‡è¡¨ |
| å¥å­ç†è§£åº¦ | è¯­æ³•å¼±ç‚¹è¯†åˆ« | å­¦ä¹ å»ºè®® |
| æŸ¥è¯è®°å½• | è¯é¢‘åˆ†æã€é—å¿˜æ›²çº¿ | å¤ä¹ æ¨è |
| å®Œæˆç‡ | ç”¨æˆ·åå¥½åˆ†æ | ä¹¦ç±æ¨è |

#### 9.3.2 BEè¾“å‡ºç»™ç”¨æˆ·
| è¾“å‡ºç±»å‹ | è¯´æ˜ | å±•ç¤ºä½ç½® |
|---------|------|---------|
| é˜…è¯»æŠ¥å‘Š | å‘¨/æœˆé˜…è¯»æ•°æ®æ±‡æ€» | Profile |
| å­¦ä¹ å»ºè®® | åŸºäºæ•°æ®çš„ä¸ªæ€§åŒ–å»ºè®® | é¦–é¡µæ¨é€ |
| ä¹¦ç±æ¨è | ä¸ªæ€§åŒ–ä¹¦ç±æ¨è | å‘ç°é¡µ |
| è¯æ±‡åˆ†æ | è¯æ±‡æŒæ¡æƒ…å†µåˆ†æ | ç”Ÿè¯æœ¬ |
| å‹‹ç« æˆå°± | è¾¾æˆæ¡ä»¶è‡ªåŠ¨å‘æ”¾ | å‹‹ç« é¡µ |
| é˜…è¯»æ°´å¹³ | åŠ¨æ€è¯„ä¼°è‹±è¯­æ°´å¹³ | Profile |

---

## 10. æ—¥å¿—æ”¶é›†ç³»ç»Ÿ

### 10.1 iOSç«¯æ—¥å¿—

```swift
class LogManager {
    static let shared = LogManager()

    private let logger = Logger(subsystem: "com.readmigo.app", category: "general")
    private var pendingLogs: [LogEntry] = []
    private let uploadThreshold = 100 // æ»¡100æ¡ä¸Šä¼ 

    /// è®°å½•æ—¥å¿—
    func log(_ message: String, level: LogLevel, category: LogCategory, metadata: [String: Any]? = nil) {
        let entry = LogEntry(
            timestamp: Date(),
            level: level,
            category: category,
            message: message,
            metadata: metadata,
            deviceInfo: DeviceInfo.current,
            userId: AuthManager.shared.currentUserId
        )

        // æœ¬åœ°æŒä¹…åŒ–
        persistLocally(entry)

        // ç´¯ç§¯åˆ°é˜ˆå€¼åæ‰¹é‡ä¸Šä¼ 
        pendingLogs.append(entry)
        if pendingLogs.count >= uploadThreshold {
            uploadLogs()
        }
    }

    /// ä¸Šä¼ æ—¥å¿—åˆ°æœåŠ¡å™¨
    func uploadLogs() {
        Task {
            try? await apiClient.uploadLogs(pendingLogs)
            pendingLogs.removeAll()
        }
    }
}

enum LogLevel: String {
    case debug, info, warning, error, critical
}

enum LogCategory: String {
    case network        // ç½‘ç»œè¯·æ±‚
    case reader         // é˜…è¯»å™¨
    case ai             // AIäº¤äº’
    case storage        // å­˜å‚¨
    case auth           // è®¤è¯
    case subscription   // è®¢é˜…
    case crash          // å´©æºƒ
    case performance    // æ€§èƒ½
}

struct LogEntry: Codable {
    let id: UUID = UUID()
    let timestamp: Date
    let level: LogLevel
    let category: LogCategory
    let message: String
    let metadata: [String: Any]?
    let deviceInfo: DeviceInfo
    let userId: UUID?
    let sessionId: UUID
    let appVersion: String
    let osVersion: String
}
```

### 10.2 BEç«¯æ—¥å¿—å­˜å‚¨

```yaml
# æ—¥å¿—APIç«¯ç‚¹
POST /api/v1/logs/batch     # æ‰¹é‡ä¸Šä¼ æ—¥å¿—
POST /api/v1/logs/crash     # å´©æºƒæŠ¥å‘Š

# æ—¥å¿—å­—æ®µ
- timestamp
- userId
- deviceId
- sessionId
- level
- category
- message
- metadata (JSON)
- deviceInfo (model, os, app version)
- networkType
- location (country/region only)
```

---

## 11. UI/UXè®¾è®¡è§„èŒƒ

### 11.1 ä¸»è¦ç•Œé¢æµç¨‹

```
å¯åŠ¨ â†’ ç™»å½•/æ³¨å†Œ â†’ Onboardingå¼•å¯¼(æ–°ç”¨æˆ·) â†’ ä¸»ç•Œé¢
                                              â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â†“          â†“          â†“          â†“
           Library    Discover    AgoraåŸé‚¦    Meä¸ªäºº
           ä¹¦æ¶Tab     å‘ç°Tab    ç¤¾åŒºTab    æˆ‘çš„Tab
                â†“          â†“          â†“          â†“
           ç‚¹å‡»ä¹¦ç±    æµè§ˆ/æœç´¢  æŸ¥çœ‹å¸–å­    ä¸ªäººè®¾ç½®
                â†“          â†“          â†“          â†“
           ä¹¦ç±è¯¦æƒ…  åˆ†ç±»ç­›é€‰   ä½œè€…äº’åŠ¨    å­¦ä¹ ç»Ÿè®¡
                â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
         â†“             â†“
      å¼€å§‹é˜…è¯»     ä½œè€…ä¸»é¡µ
         â†“             â†“
      é€‰æ‹©æ–‡æœ¬    AIå¯¹è¯/ä½œå“
         â†“
   â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”
   â†“     â†“     â†“
  æŸ¥è¯ ç®€åŒ–  ç¿»è¯‘
   â†“     â†“     â†“
  è‡ªåŠ¨æ·»åŠ ç”Ÿè¯æœ¬ + è‡ªåŠ¨è®°å½•ç†è§£ç¨‹åº¦ + åå°ä¸ŠæŠ¥BE

å‘ç°Tabè¯¦ç»†æµç¨‹ (å‚è€ƒ docs/discover-book-display-styles.md):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Discover Tab                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [featuredBanner] Today's Pick  å…¨å®½Featuredæ¨ªå¹…â”‚
â”‚  [heroCarousel] For You         å¤§å¡ç‰‡æ¨ªå‘æ»šåŠ¨  â”‚
â”‚  [standardCarousel] Editor's Pick ä¸­å¡ç‰‡æ¨ªæ»š    â”‚
â”‚  [rankedCarousel] Top Ranked    å¸¦æ’åå¾½ç« æ¨ªæ»š  â”‚
â”‚  [categoryGrid] Categories      åˆ†ç±»ç½‘æ ¼       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç‚¹å‡»"See All" â†’ BrowseBooksView ä¹¦ç±ç½‘æ ¼+ç­›é€‰  â”‚
â”‚  ç‚¹å‡»ä¹¦ç±å°é¢ â†’ BookDetailView â†’ å¼€å§‹é˜…è¯»       â”‚
â”‚  ç‚¹å‡»ä½œè€…åç§° â†’ AuthorProfileView â†’ ä½œå“åˆ—è¡¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AgoraåŸé‚¦Tabè¯¦ç»†æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AgoraåŸé‚¦ Tab                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¯æ—¥é‡‘å¥          (åè¨€è­¦å¥/Quote of the Day)  â”‚
â”‚  ä½œè€…åŠ¨æ€          (AIæ¨¡æ‹Ÿçš„ä½œè€…å‘å¸–)           â”‚
â”‚  ç¤¾åŒºè®¨è®º          (ç”¨æˆ·è¯»ä¹¦å¿ƒå¾—åˆ†äº«)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç‚¹å‡»ä½œè€…å¤´åƒ â†’ AuthorProfileView ä½œè€…ä¸»é¡µ      â”‚
â”‚  ç‚¹å‡»"ä¸ä½œè€…å¯¹è¯" â†’ AuthorChatView AIå¯¹è¯       â”‚
â”‚  é•¿æŒ‰é‡‘å¥ â†’ PostcardEditor ç”Ÿæˆæ˜ä¿¡ç‰‡åˆ†äº«       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.2 é˜…è¯»å™¨ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Chapter 3           éŸ³é¢‘ è®¾ç½®â”‚   â† é¡¶éƒ¨æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚    In the garden, the old      â”‚
â”‚  man sat quietly on a wooden   â”‚
â”‚  [bench], watching the         â”‚   â† å†…å®¹åŒº
â”‚  children play. The afternoon  â”‚
â”‚  sun cast long shadows across  â”‚
â”‚  the grass.                    â”‚
â”‚                                 â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â—‹â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚   â† è¿›åº¦æ¡
â”‚  Chapter 3 of 12    35%        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é€‰ä¸­æ–‡æœ¬åæ˜¾ç¤ºèœå•:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŸ¥è¯ | ç®€åŒ– | ç¿»è¯‘ | é—®ç­” â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
(ç‚¹å‡»åè‡ªåŠ¨æ·»åŠ ç”Ÿè¯+è®°å½•è¡Œä¸º)
```

---

## 12. å®‰å…¨ä¸éšç§

- æ‰€æœ‰APIé€šä¿¡ä½¿ç”¨HTTPS
- Tokenå­˜å‚¨åœ¨Keychain
- ç”¨æˆ·æ•°æ®é‡‡é›†ç¬¦åˆGDPR/éšç§æ³•è§„
- Appéšç§æ”¿ç­–å£°æ˜
- éµå®ˆAppleéšç§æ”¿ç­–
- å®ç°App Transport Security

---

## é™„å½•: å‚è€ƒèµ„æº

- [EPUB 3.3 Specification](https://www.w3.org/TR/epub-33/)
- [EPUB CFI Specification](https://idpf.org/epub/linking/cfi/)
- [Sign in with Apple](https://developer.apple.com/sign-in-with-apple/)
- [StoreKit 2](https://developer.apple.com/documentation/storekit)
- [SwiftData](https://developer.apple.com/documentation/swiftdata)
- [AVFoundation](https://developer.apple.com/documentation/avfoundation)

---

## æ›´æ–°æ—¥å¿—

| æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|----------|
| 2025-12-21 | æ›´æ–°Tabç»“æ„: Library/Discover/AgoraåŸé‚¦/Me (åŸä¸ºä¹¦æ¶/å‘ç°/ç”Ÿè¯/æˆ‘çš„) |
| 2025-12-21 | æ–°å¢æ¨¡å—: AgoraåŸé‚¦(ç¤¾åŒº)ã€Authors(ä½œè€…)ã€Quotes(é‡‘å¥)ã€Postcards(æ˜ä¿¡ç‰‡) |
| 2025-12-21 | æ›´æ–°é¡¹ç›®ç»“æ„: åæ˜ å®é™…iOSä»£ç ç»“æ„ |
| 2025-12-21 | æ–°å¢APIç«¯ç‚¹: ä½œè€…APIã€é‡‘å¥APIã€æ˜ä¿¡ç‰‡APIã€åŸé‚¦API |
| 2025-12-21 | æ›´æ–°é˜…è¯»å™¨æ¨¡å—: æ–°å¢TTSã€äººç‰©å…³ç³»å›¾ã€æ•…äº‹æ—¶é—´çº¿ç­‰ç»„ä»¶ |
| 2025-12-21 | å‚è€ƒæ–‡æ¡£: docs/discover-book-display-styles.md (å‘ç°é¡µ7ç§æ˜¾ç¤ºæ ·å¼) |

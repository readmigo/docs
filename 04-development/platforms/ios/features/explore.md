# iOS 探索功能

> 书籍发现 + 推荐 + 搜索

---

## 1. 功能概览

```
┌─────────────────────────────────────────────────────────────────┐
│                    探索功能架构                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │                    内容发现                              │    │
│  │  ┌───────────┐  ┌───────────┐  ┌───────────┐           │    │
│  │  │  推荐书籍  │  │  排行榜   │  │  分类浏览  │           │    │
│  │  └───────────┘  └───────────┘  └───────────┘           │    │
│  └─────────────────────────────────────────────────────────┘    │
│                              │                                   │
│  ┌───────────────────────────┴─────────────────────────────┐    │
│  │                    搜索系统                              │    │
│  │  ┌───────────┐  ┌───────────┐  ┌───────────┐           │    │
│  │  │ 关键词搜索│  │  筛选过滤  │  │  搜索历史  │           │    │
│  │  └───────────┘  └───────────┘  └───────────┘           │    │
│  └─────────────────────────────────────────────────────────┘    │
│                              │                                   │
│  ┌───────────────────────────┴─────────────────────────────┐    │
│  │                    内容展示                              │    │
│  │  ┌───────────┐  ┌───────────┐  ┌───────────┐           │    │
│  │  │  书籍详情  │  │  作者页面  │  │  书单推荐  │           │    │
│  │  └───────────┘  └───────────┘  └───────────┘           │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 2. 探索首页

### 2.1 首页结构

| 区域 | 内容 |
|------|------|
| Banner | 推荐/活动轮播 |
| 个性推荐 | 基于偏好推荐 |
| 热门榜单 | 热门书籍 |
| 新书上架 | 最新书籍 |
| 分类入口 | 分类导航 |

### 2.2 首页布局

```
┌─────────────────────────────────────────────────────────────────┐
│                    探索首页                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  [🔍 搜索书籍、作者...]                                 │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  ┌─────────────────────────────────────────────────┐    │    │
│  │  │                                                  │    │    │
│  │  │               Banner 轮播                       │    │    │
│  │  │                                                  │    │    │
│  │  └─────────────────────────────────────────────────┘    │    │
│  │                    ● ○ ○ ○                              │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  为你推荐                                              [更多 >] │
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐                   │
│  │  封面  │ │  封面  │ │  封面  │ │  封面  │                   │
│  │  书名  │ │  书名  │ │  书名  │ │  书名  │                   │
│  └────────┘ └────────┘ └────────┘ └────────┘                   │
│                                                                  │
│  热门榜单                                              [更多 >] │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ 1. [封面] 书名                              ⭐4.8        │    │
│  │ 2. [封面] 书名                              ⭐4.7        │    │
│  │ 3. [封面] 书名                              ⭐4.6        │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  分类                                                            │
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐                   │
│  │  小说  │ │  非虚构 │ │  科技  │ │  更多  │                   │
│  └────────┘ └────────┘ └────────┘ └────────┘                   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. 推荐系统

### 3.1 推荐类型

| 类型 | 依据 |
|------|------|
| 个性推荐 | 阅读历史 + 偏好 |
| 相似推荐 | 正在阅读书籍 |
| 热门推荐 | 全站热度 |
| 编辑推荐 | 人工精选 |

### 3.2 推荐算法

```
┌─────────────────────────────────────────────────────────────────┐
│                    推荐算法                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  用户特征                                                        │
│  ├── 阅读历史                                                    │
│  │   ├── 阅读过的书籍                                            │
│  │   ├── 阅读时长分布                                            │
│  │   └── 完读率                                                  │
│  │                                                              │
│  ├── 偏好分析                                                    │
│  │   ├── 类别偏好                                                │
│  │   ├── 作者偏好                                                │
│  │   └── 难度偏好                                                │
│  │                                                              │
│  └── 交互行为                                                    │
│      ├── 收藏/点赞                                               │
│      ├── 查词频率                                                │
│      └── 笔记数量                                                │
│                                                                  │
│  推荐策略                                                        │
│  ├── 协同过滤    相似用户喜欢的书籍                             │
│  ├── 内容匹配    与阅读历史相似的书籍                           │
│  ├── 热度加权    平衡个性化与热门                               │
│  └── 新鲜度      适当推荐新书                                   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. 排行榜

### 4.1 榜单类型

| 榜单 | 说明 |
|------|------|
| 热门榜 | 综合热度 |
| 新书榜 | 新上架热门 |
| 好评榜 | 高评分书籍 |
| 完读榜 | 高完读率 |
| 分类榜 | 各分类榜单 |

### 4.2 榜单页面

```
┌─────────────────────────────────────────────────────────────────┐
│                    排行榜                                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  [热门榜] [新书榜] [好评榜] [完读榜]                     │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  热门榜 · 本周                                                   │
│                                                                  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  🥇                                                      │    │
│  │  [封面]  书名                                           │    │
│  │          作者                                           │    │
│  │          ⭐4.9  👁 12.5万阅读                           │    │
│  ├─────────────────────────────────────────────────────────┤    │
│  │  🥈                                                      │    │
│  │  [封面]  书名                                           │    │
│  │          作者                                           │    │
│  │          ⭐4.8  👁 10.2万阅读                           │    │
│  ├─────────────────────────────────────────────────────────┤    │
│  │  🥉                                                      │    │
│  │  [封面]  书名                                           │    │
│  │          作者                                           │    │
│  │          ⭐4.8  👁 8.6万阅读                            │    │
│  ├─────────────────────────────────────────────────────────┤    │
│  │  4.                                                      │    │
│  │  [封面]  书名                              ⭐4.7         │    │
│  ├─────────────────────────────────────────────────────────┤    │
│  │  5.                                                      │    │
│  │  [封面]  书名                              ⭐4.7         │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 5. 分类浏览

### 5.1 分类体系

| 一级分类 | 二级分类 |
|----------|----------|
| 小说 | 文学、悬疑、科幻、言情 |
| 非虚构 | 传记、历史、社科、心理 |
| 科技 | 编程、产品、设计、科普 |
| 商业 | 管理、投资、创业、营销 |
| 生活 | 健康、美食、旅行、育儿 |

### 5.2 分类页面

```
┌─────────────────────────────────────────────────────────────────┐
│                    分类浏览                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌──────────┬─────────────────────────────────────────────┐     │
│  │          │                                              │     │
│  │  小说    │  文学小说                          [更多 >] │     │
│  │          │  ┌────────┐ ┌────────┐ ┌────────┐          │     │
│  │  非虚构  │  │  封面  │ │  封面  │ │  封面  │          │     │
│  │          │  └────────┘ └────────┘ └────────┘          │     │
│  │  科技    │                                              │     │
│  │          │  悬疑推理                          [更多 >] │     │
│  │  商业    │  ┌────────┐ ┌────────┐ ┌────────┐          │     │
│  │          │  │  封面  │ │  封面  │ │  封面  │          │     │
│  │  生活    │  └────────┘ └────────┘ └────────┘          │     │
│  │          │                                              │     │
│  │  语言    │  科幻奇幻                          [更多 >] │     │
│  │          │  ┌────────┐ ┌────────┐ ┌────────┐          │     │
│  │  艺术    │  │  封面  │ │  封面  │ │  封面  │          │     │
│  │          │  └────────┘ └────────┘ └────────┘          │     │
│  │          │                                              │     │
│  └──────────┴─────────────────────────────────────────────┘     │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 6. 搜索功能

### 6.1 搜索范围

| 范围 | 说明 |
|------|------|
| 书名 | 书籍名称 |
| 作者 | 作者名 |
| ISBN | 书籍 ISBN |
| 内容 | 全文搜索 |

### 6.2 搜索界面

```
┌─────────────────────────────────────────────────────────────────┐
│                    搜索界面                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  [🔍 搜索书籍、作者...               ]    [取消]        │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  搜索历史                                             [清除]    │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  🕐 追风筝的人        🕐 村上春树        🕐 1984        │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  热门搜索                                                        │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  🔥 三体              📚 人间失格        ⭐ 百年孤独    │    │
│  │  📖 小王子            🌟 挪威的森林      📕 月亮与六便士│    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  搜索结果                                                        │
│  ├── [书籍] [作者] [书单]                                       │
│  │                                                              │
│  │  ┌─────────────────────────────────────────────────────┐    │
│  │  │  [封面]  追风筝的人                                  │    │
│  │  │          卡勒德·胡赛尼                              │    │
│  │  │          ⭐4.8  小说 · 文学                         │    │
│  │  ├─────────────────────────────────────────────────────┤    │
│  │  │  [封面]  追风筝的人（英文原版）                      │    │
│  │  │          Khaled Hosseini                            │    │
│  │  │          ⭐4.7  小说 · 英文原版                     │    │
│  │  └─────────────────────────────────────────────────────┘    │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 7. 筛选与排序

### 7.1 筛选条件

| 条件 | 选项 |
|------|------|
| 分类 | 多级分类 |
| 语言 | 中文/英文/日文 |
| 价格 | 免费/付费 |
| 评分 | 4星以上 |

### 7.2 排序方式

| 排序 | 说明 |
|------|------|
| 综合 | 综合排名 |
| 最新 | 上架时间 |
| 热门 | 阅读人数 |
| 评分 | 用户评分 |

---

## 8. 书籍详情

### 8.1 详情内容

| 信息 | 说明 |
|------|------|
| 封面 | 高清封面 |
| 基本信息 | 书名、作者、出版 |
| 简介 | 书籍简介 |
| 评分评论 | 用户评价 |
| 相似推荐 | 类似书籍 |

### 8.2 详情页面

```
┌─────────────────────────────────────────────────────────────────┐
│                    书籍详情                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │                                                          │    │
│  │  ┌─────────────┐                                        │    │
│  │  │             │    追风筝的人                          │    │
│  │  │   封面      │    卡勒德·胡赛尼                       │    │
│  │  │             │    ⭐4.8 (2.3万评价)                   │    │
│  │  │             │                                        │    │
│  │  └─────────────┘    小说 · 文学 · 12万字               │    │
│  │                                                          │    │
│  │  ┌─────────────────────┐ ┌───────────────────────┐     │    │
│  │  │       开始阅读       │ │    ♡ 收藏  │  ↗ 分享 │     │    │
│  │  └─────────────────────┘ └───────────────────────┘     │    │
│  │                                                          │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  简介                                                            │
│  ├── 12岁的阿富汗富家少爷阿米尔与仆人哈桑...                    │
│  └── [展开]                                                      │
│                                                                  │
│  目录                                                   [共24章] │
│  ├── 第一章                                                      │
│  ├── 第二章                                                      │
│  └── ...                                                         │
│                                                                  │
│  用户评价                                              [更多 >]  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  ⭐⭐⭐⭐⭐  非常感人的故事...                           │    │
│  │  用户A  2025-12-30                                      │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  相似推荐                                                        │
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐                   │
│  │  封面  │ │  封面  │ │  封面  │ │  封面  │                   │
│  └────────┘ └────────┘ └────────┘ └────────┘                   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 9. 作者页面

### 9.1 作者信息

| 信息 | 说明 |
|------|------|
| 头像 | 作者照片 |
| 简介 | 作者介绍 |
| 作品 | 全部作品 |
| 统计 | 阅读数据 |

### 9.2 作者详情

```
┌─────────────────────────────────────────────────────────────────┐
│                    作者页面                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │                                                          │    │
│  │  [头像]  卡勒德·胡赛尼                                   │    │
│  │          Khaled Hosseini                                │    │
│  │                                                          │    │
│  │          5 部作品  |  1200万读者  |  ⭐4.8 平均分        │    │
│  │                                                          │    │
│  │                    [关注作者]                            │    │
│  │                                                          │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  作者简介                                                        │
│  ├── 美籍阿富汗裔作家，1965年生于喀布尔...                      │
│  └── [展开]                                                      │
│                                                                  │
│  全部作品                                                        │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  [封面]  追风筝的人              ⭐4.8  12万阅读        │    │
│  │  [封面]  灿烂千阳                ⭐4.7  8万阅读         │    │
│  │  [封面]  群山回唱                ⭐4.6  5万阅读         │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 10. 性能优化

### 10.1 性能指标

| 指标 | 目标 |
|------|------|
| 首页加载 | < 1s |
| 搜索响应 | < 500ms |
| 图片加载 | < 200ms |
| 滚动帧率 | 60fps |

### 10.2 优化措施

| 措施 | 说明 |
|------|------|
| 数据缓存 | 首页数据缓存 |
| 图片缓存 | 封面图缓存 |
| 分页加载 | 无限滚动 |
| 预加载 | 提前加载数据 |

---

## 11. 相关文档

| 文档 | 说明 |
|------|------|
| [library.md](./library.md) | 书架功能 |
| [reader.md](./reader.md) | 阅读器功能 |
| [../architecture.md](../architecture.md) | 架构设计 |

---

*最后更新: 2025-12-31*

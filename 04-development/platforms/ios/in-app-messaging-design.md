# ç«™å†…ä¿¡ä¸ç”¨æˆ·åé¦ˆç³»ç»Ÿè®¾è®¡æ–‡æ¡£

## 1. æ¦‚è¿°

### 1.1 èƒŒæ™¯

ç«™å†…ä¿¡ç³»ç»Ÿæ˜¯ç”¨æˆ·ä¸å®˜æ–¹æ²Ÿé€šçš„æ ¸å¿ƒæ¸ é“ï¼Œæ”¯æŒç”¨æˆ·åé¦ˆã€é—®é¢˜å’¨è¯¢ã€åŠŸèƒ½å»ºè®®ç­‰åœºæ™¯ã€‚è¯¥ç³»ç»Ÿä¸"è”ç³»æˆ‘ä»¬"åŠŸèƒ½ä¸­çš„ç«™å†…ä¿¡å…¥å£å¤ç”¨ï¼ŒåŒæ—¶æ”¯æŒä»å¤šä¸ªå…¥å£è¿›å…¥ï¼ˆå…³äºé¡µé¢ã€å¸®åŠ©ä¸­å¿ƒã€è®¾ç½®ç­‰ï¼‰ã€‚

### 1.2 ç›®æ ‡

- æä¾›ä¾¿æ·çš„åº”ç”¨å†…æ²Ÿé€šæ¸ é“ï¼Œç”¨æˆ·æ— éœ€ç¦»å¼€ App
- æ”¯æŒå¤šç§æ¶ˆæ¯ç±»å‹ï¼ˆåé¦ˆã€å’¨è¯¢ã€å»ºè®®ã€æŠ•è¯‰ç­‰ï¼‰
- æ”¯æŒæ¶ˆæ¯å†å²è®°å½•æŸ¥çœ‹å’Œå›å¤è¿½è¸ª
- åå°ç»Ÿä¸€ç®¡ç†ç”¨æˆ·æ¶ˆæ¯ï¼Œæé«˜å®¢æœæ•ˆç‡
- æ”¯æŒæ¶ˆæ¯æ¨é€é€šçŸ¥ï¼Œç¡®ä¿ç”¨æˆ·åŠæ—¶æ”¶åˆ°å›å¤

### 1.3 ç³»ç»Ÿè¾¹ç•Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç«™å†…ä¿¡ç³»ç»Ÿ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  iOS Client                    â”‚  Backend                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚  â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚  â€¢ å‘é€æ¶ˆæ¯                     â”‚  â€¢ æ¶ˆæ¯å­˜å‚¨                 â”‚
â”‚  â€¢ æŸ¥çœ‹æ¶ˆæ¯å†å²                 â”‚  â€¢ æ¶ˆæ¯åˆ†ç±»/è·¯ç”±            â”‚
â”‚  â€¢ æ¥æ”¶å›å¤é€šçŸ¥                 â”‚  â€¢ å®¢æœå›å¤                 â”‚
â”‚  â€¢ é™„ä»¶ä¸Šä¼ ï¼ˆå›¾ç‰‡/æˆªå›¾ï¼‰        â”‚  â€¢ æ¨é€é€šçŸ¥                 â”‚
â”‚                                â”‚  â€¢ æ•°æ®ç»Ÿè®¡                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Dashboard (Admin)                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚
â”‚  â€¢ æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·æ¶ˆæ¯                                          â”‚
â”‚  â€¢ å›å¤ç”¨æˆ·                                                  â”‚
â”‚  â€¢ æ¶ˆæ¯åˆ†ç±»ç®¡ç†                                              â”‚
â”‚  â€¢ æ•°æ®ç»Ÿè®¡åˆ†æ                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. åŠŸèƒ½éœ€æ±‚

### 2.1 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | æè¿° |
|------|--------|------|
| å‘é€æ¶ˆæ¯ | P0 | ç”¨æˆ·å‘é€æ–‡å­—æ¶ˆæ¯ç»™å®˜æ–¹ |
| æ¶ˆæ¯ç±»å‹é€‰æ‹© | P0 | é€‰æ‹©åé¦ˆ/å’¨è¯¢/å»ºè®®/æŠ•è¯‰ç­‰ç±»å‹ |
| æ¶ˆæ¯å†å² | P0 | æŸ¥çœ‹å†å²æ¶ˆæ¯å’Œå®˜æ–¹å›å¤ |
| é™„ä»¶ä¸Šä¼  | P1 | ä¸Šä¼ å›¾ç‰‡/æˆªå›¾è¾…åŠ©è¯´æ˜é—®é¢˜ |
| æ¨é€é€šçŸ¥ | P1 | å®˜æ–¹å›å¤æ—¶æ¨é€é€šçŸ¥ç”¨æˆ· |
| æœªè¯»æ ‡è®° | P1 | æ˜¾ç¤ºæœªè¯»æ¶ˆæ¯æ•°é‡ |
| æ¶ˆæ¯æœç´¢ | P2 | æœç´¢å†å²æ¶ˆæ¯ |
| æ»¡æ„åº¦è¯„ä»· | P2 | å¯¹å®¢æœå›å¤è¿›è¡Œè¯„ä»· |

### 2.2 ç”¨æˆ·æ•…äº‹

1. **ä½œä¸ºç”¨æˆ·**ï¼Œæˆ‘æƒ³é€šè¿‡ç«™å†…ä¿¡åé¦ˆä½¿ç”¨é—®é¢˜ï¼Œä»¥ä¾¿è·å¾—å®˜æ–¹å¸®åŠ©
2. **ä½œä¸ºç”¨æˆ·**ï¼Œæˆ‘æƒ³ä¸Šä¼ æˆªå›¾è¯´æ˜é—®é¢˜ï¼Œä»¥ä¾¿å®˜æ–¹æ›´å¥½ç†è§£æˆ‘çš„é—®é¢˜
3. **ä½œä¸ºç”¨æˆ·**ï¼Œæˆ‘æƒ³æŸ¥çœ‹å†å²æ¶ˆæ¯è®°å½•ï¼Œä»¥ä¾¿è¿½è¸ªé—®é¢˜å¤„ç†è¿›åº¦
4. **ä½œä¸ºç”¨æˆ·**ï¼Œæˆ‘æƒ³æ”¶åˆ°å›å¤é€šçŸ¥ï¼Œä»¥ä¾¿åŠæ—¶æŸ¥çœ‹å®˜æ–¹å›å¤
5. **ä½œä¸ºç”¨æˆ·**ï¼Œæˆ‘æƒ³å¯¹å›å¤è¯„ä»·ï¼Œä»¥ä¾¿å¸®åŠ©æ”¹è¿›æœåŠ¡è´¨é‡
6. **ä½œä¸ºå®¢æœ**ï¼Œæˆ‘æƒ³æŸ¥çœ‹ç”¨æˆ·çš„è®¾å¤‡ä¿¡æ¯ï¼Œä»¥ä¾¿æ›´å¥½åœ°è¯Šæ–­é—®é¢˜

### 2.3 å…¥å£ä½ç½®

ç«™å†…ä¿¡åŠŸèƒ½æœ‰å¤šä¸ªå…¥å£ï¼š

| å…¥å£ | è·¯å¾„ | åœºæ™¯ |
|------|------|------|
| å…³äºé¡µé¢ | Me â†’ About â†’ Contact Us â†’ Send Message | é€šç”¨è”ç³» |
| å¸®åŠ©ä¸­å¿ƒ | Me â†’ Help Center â†’ Contact Support | è·å–å¸®åŠ© |
| è®¾ç½®é¡µé¢ | Me â†’ Settings â†’ Feedback | åé¦ˆå…¥å£ |
| æ¶ˆæ¯ä¸­å¿ƒ | Me â†’ Messages | æŸ¥çœ‹å†å²/å›å¤ |

## 3. UI è®¾è®¡

### 3.1 æ¶ˆæ¯åˆ—è¡¨é¡µï¼ˆæ¶ˆæ¯ä¸­å¿ƒï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â† Messages              â”‚  Navigation Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Search messages...]       ğŸ”   â”‚  æœç´¢æ ï¼ˆP2ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“ Feature Suggestion       â”‚â”‚  æ¶ˆæ¯å¡ç‰‡
â”‚  â”‚    å¸Œæœ›å¢åŠ æ·±è‰²æ¨¡å¼ä¸‹çš„...    â”‚â”‚  æœ€è¿‘ä¸€æ¡æ¶ˆæ¯é¢„è§ˆ
â”‚  â”‚    2024-12-20 14:30    ğŸ”µ   â”‚â”‚  æ—¶é—´ + æœªè¯»æ ‡è®°
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â“ Technical Issue          â”‚â”‚
â”‚  â”‚    é˜…è¯»å™¨é¡µé¢æœ‰æ—¶ä¼šå¡é¡¿...    â”‚â”‚
â”‚  â”‚    2024-12-18 09:15    âœ“   â”‚â”‚  å·²è¯»å·²å›å¤
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ’¬ General Inquiry          â”‚â”‚
â”‚  â”‚    è¯·é—®ä¼šå‘˜æœ‰ä»€ä¹ˆæƒç›Š...      â”‚â”‚
â”‚  â”‚    2024-12-15 16:42    âœ“   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚      No more messages           â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           [+ New Message]       â”‚  æµ®åŠ¨æŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å‘é€æ–°æ¶ˆæ¯é¡µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â† New Message      Send   â”‚  Navigation Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Message Type                   â”‚  Section Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â“ Technical Issue      â—   â”‚â”‚  å•é€‰é¡¹
â”‚  â”‚ ğŸ“ Feature Suggestion   â—‹   â”‚â”‚
â”‚  â”‚ ğŸ’¬ General Inquiry      â—‹   â”‚â”‚
â”‚  â”‚ âš ï¸ Report a Problem     â—‹   â”‚â”‚
â”‚  â”‚ ğŸ“¢ Complaint            â—‹   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Subject                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Enter subject...            â”‚â”‚  æ ‡é¢˜è¾“å…¥æ¡†
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Message                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                             â”‚â”‚
â”‚  â”‚ Please describe your        â”‚â”‚  å¤šè¡Œæ–‡æœ¬è¾“å…¥
â”‚  â”‚ issue or suggestion in      â”‚â”‚
â”‚  â”‚ detail...                   â”‚â”‚
â”‚  â”‚                             â”‚â”‚
â”‚  â”‚                             â”‚â”‚
â”‚  â”‚                    500/2000 â”‚â”‚  å­—æ•°é™åˆ¶
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Attachments (Optional)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ğŸ“·  â”‚ â”‚ img â”‚ â”‚ img â”‚       â”‚  å›¾ç‰‡é™„ä»¶ï¼ˆæœ€å¤š5å¼ ï¼‰
â”‚  â”‚ Add â”‚ â”‚  Ã—  â”‚ â”‚  Ã—  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â˜‘ï¸ Include device info      â”‚â”‚  è‡ªåŠ¨é™„å¸¦è®¾å¤‡ä¿¡æ¯
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 æ¶ˆæ¯è¯¦æƒ…/å¯¹è¯é¡µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    â† Technical Issue            â”‚  Navigation Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Status: Replied                â”‚  æ¶ˆæ¯çŠ¶æ€
â”‚  Created: 2024-12-18 09:15      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ é˜…è¯»å™¨é¡µé¢æœ‰æ—¶ä¼šå¡é¡¿ï¼Œå°¤å…¶   â”‚â”‚  ç”¨æˆ·å‘é€çš„æ¶ˆæ¯
â”‚  â”‚ æ˜¯åœ¨é˜…è¯»é•¿ç¯‡ä¹¦ç±æ—¶ã€‚         â”‚â”‚  ï¼ˆå³å¯¹é½/è“è‰²æ°”æ³¡ï¼‰
â”‚  â”‚                             â”‚â”‚
â”‚  â”‚ [æˆªå›¾1] [æˆªå›¾2]             â”‚â”‚  é™„ä»¶ç¼©ç•¥å›¾
â”‚  â”‚                             â”‚â”‚
â”‚  â”‚ Device: iPhone 15 Pro       â”‚â”‚  è®¾å¤‡ä¿¡æ¯
â”‚  â”‚ iOS 17.0 | App 1.0.0        â”‚â”‚
â”‚  â”‚                    09:15 âœ“ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼æˆ‘ä»¬å·²ç»å®šä½   â”‚â”‚  å®˜æ–¹å›å¤
â”‚  â”‚ åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå°†åœ¨ä¸‹ä¸ªç‰ˆæœ¬    â”‚â”‚  ï¼ˆå·¦å¯¹é½/ç°è‰²æ°”æ³¡ï¼‰
â”‚  â”‚ ä¿®å¤ã€‚æ‚¨å¯ä»¥å°è¯•æ¸…é™¤é˜…è¯»    â”‚â”‚
â”‚  â”‚ ç¼“å­˜ä¸´æ—¶è§£å†³æ­¤é—®é¢˜ã€‚        â”‚â”‚
â”‚  â”‚                             â”‚â”‚
â”‚  â”‚ Readmigo Team               â”‚â”‚
â”‚  â”‚                    10:30    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Was this reply helpful?        â”‚  æ»¡æ„åº¦è¯„ä»·
â”‚  [ğŸ‘ Yes]  [ğŸ‘ No]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Type a reply...          ğŸ“· â”‚â”‚  ç»§ç»­å›å¤è¾“å…¥æ¡†
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚              [Send]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 æ¶ˆæ¯ç±»å‹è®¾è®¡

| ç±»å‹ | å›¾æ ‡ | è‹±æ–‡ | ä¸­æ–‡ | ç¹ä¸­ |
|------|------|------|------|------|
| æŠ€æœ¯é—®é¢˜ | â“ | Technical Issue | æŠ€æœ¯é—®é¢˜ | æŠ€è¡“å•é¡Œ |
| åŠŸèƒ½å»ºè®® | ğŸ“ | Feature Suggestion | åŠŸèƒ½å»ºè®® | åŠŸèƒ½å»ºè­° |
| ä¸€èˆ¬å’¨è¯¢ | ğŸ’¬ | General Inquiry | ä¸€èˆ¬å’¨è¯¢ | ä¸€èˆ¬è«®è©¢ |
| é—®é¢˜æŠ¥å‘Š | âš ï¸ | Report a Problem | é—®é¢˜æŠ¥å‘Š | å•é¡Œå›å ± |
| æŠ•è¯‰ | ğŸ“¢ | Complaint | æŠ•è¯‰ | æŠ•è¨´ |
| å•†åŠ¡åˆä½œ | ğŸ¤ | Business Inquiry | å•†åŠ¡åˆä½œ | å•†å‹™åˆä½œ |

## 4. æ•°æ®æ¨¡å‹

### 4.1 æ¶ˆæ¯ä¼šè¯æ¨¡å‹

```swift
struct MessageThread: Identifiable, Codable {
    let id: String
    let userId: String
    let type: MessageType
    let subject: String
    let status: ThreadStatus
    let createdAt: Date
    let updatedAt: Date
    let lastMessagePreview: String
    let unreadCount: Int
    let messages: [Message]?  // è¯¦æƒ…æ—¶åŠ è½½
}

enum MessageType: String, Codable, CaseIterable {
    case technicalIssue = "technical_issue"
    case featureSuggestion = "feature_suggestion"
    case generalInquiry = "general_inquiry"
    case problemReport = "problem_report"
    case complaint = "complaint"
    case businessInquiry = "business_inquiry"

    var icon: String {
        switch self {
        case .technicalIssue: return "questionmark.circle.fill"
        case .featureSuggestion: return "lightbulb.fill"
        case .generalInquiry: return "bubble.left.fill"
        case .problemReport: return "exclamationmark.triangle.fill"
        case .complaint: return "megaphone.fill"
        case .businessInquiry: return "briefcase.fill"
        }
    }

    var localizedName: String {
        // è¿”å›æœ¬åœ°åŒ–åç§°
    }
}

enum ThreadStatus: String, Codable {
    case open = "open"           // å¾…å¤„ç†
    case replied = "replied"     // å·²å›å¤
    case closed = "closed"       // å·²å…³é—­
    case resolved = "resolved"   // å·²è§£å†³
}
```

### 4.2 æ¶ˆæ¯æ¨¡å‹

```swift
struct Message: Identifiable, Codable {
    let id: String
    let threadId: String
    let senderId: String
    let senderType: SenderType
    let content: String
    let attachments: [Attachment]?
    let deviceInfo: DeviceInfo?   // ä»…ç”¨æˆ·å‘é€çš„é¦–æ¡æ¶ˆæ¯
    let createdAt: Date
    let readAt: Date?

    enum SenderType: String, Codable {
        case user = "user"
        case support = "support"
        case system = "system"
    }
}

struct Attachment: Identifiable, Codable {
    let id: String
    let type: AttachmentType
    let url: String
    let thumbnailUrl: String?
    let fileName: String?
    let fileSize: Int?

    enum AttachmentType: String, Codable {
        case image = "image"
        case file = "file"
    }
}
```

### 4.3 æ»¡æ„åº¦è¯„ä»·æ¨¡å‹

```swift
struct FeedbackRating: Codable {
    let threadId: String
    let messageId: String        // é’ˆå¯¹å“ªæ¡å›å¤çš„è¯„ä»·
    let rating: Rating
    let comment: String?
    let createdAt: Date

    enum Rating: String, Codable {
        case helpful = "helpful"
        case notHelpful = "not_helpful"
    }
}
```

## 5. API æ¥å£è®¾è®¡

### 5.1 æ¶ˆæ¯ä¼šè¯ API

```
# è·å–æ¶ˆæ¯ä¼šè¯åˆ—è¡¨
GET /api/v1/messages/threads
Query: page, limit, status
Response: { threads: [MessageThread], total: Int, hasMore: Bool }

# è·å–å•ä¸ªä¼šè¯è¯¦æƒ…ï¼ˆå«æ¶ˆæ¯ï¼‰
GET /api/v1/messages/threads/{threadId}
Response: { thread: MessageThread }

# åˆ›å»ºæ–°ä¼šè¯ï¼ˆå‘é€æ–°æ¶ˆæ¯ï¼‰
POST /api/v1/messages/threads
Body: {
    type: String,
    subject: String,
    content: String,
    attachmentIds: [String]?,
    includeDeviceInfo: Bool
}
Response: { thread: MessageThread }

# åœ¨ä¼šè¯ä¸­å›å¤
POST /api/v1/messages/threads/{threadId}/messages
Body: {
    content: String,
    attachmentIds: [String]?
}
Response: { message: Message }

# å…³é—­ä¼šè¯
POST /api/v1/messages/threads/{threadId}/close
Response: { success: Bool }
```

### 5.2 é™„ä»¶ API

```
# ä¸Šä¼ é™„ä»¶
POST /api/v1/messages/attachments
Content-Type: multipart/form-data
Body: file (image)
Response: { attachment: Attachment }

# åˆ é™¤é™„ä»¶ï¼ˆå‘é€å‰ï¼‰
DELETE /api/v1/messages/attachments/{attachmentId}
Response: { success: Bool }
```

### 5.3 è¯„ä»· API

```
# æäº¤è¯„ä»·
POST /api/v1/messages/threads/{threadId}/rating
Body: {
    messageId: String,
    rating: "helpful" | "not_helpful",
    comment: String?
}
Response: { success: Bool }
```

### 5.4 æœªè¯»æ¶ˆæ¯ API

```
# è·å–æœªè¯»æ¶ˆæ¯æ•°
GET /api/v1/messages/unread-count
Response: { count: Int }

# æ ‡è®°ä¼šè¯å·²è¯»
POST /api/v1/messages/threads/{threadId}/read
Response: { success: Bool }
```

## 6. æœ¬åœ°åŒ–æ”¯æŒ

### 6.1 æœ¬åœ°åŒ– Key

| Key | English | ç®€ä½“ä¸­æ–‡ | ç¹é«”ä¸­æ–‡ |
|-----|---------|----------|----------|
| `messaging.title` | Messages | æ¶ˆæ¯ | è¨Šæ¯ |
| `messaging.newMessage` | New Message | æ–°æ¶ˆæ¯ | æ–°è¨Šæ¯ |
| `messaging.send` | Send | å‘é€ | å‚³é€ |
| `messaging.messageType` | Message Type | æ¶ˆæ¯ç±»å‹ | è¨Šæ¯é¡å‹ |
| `messaging.subject` | Subject | ä¸»é¢˜ | ä¸»é¡Œ |
| `messaging.subjectPlaceholder` | Enter subject... | è¯·è¾“å…¥ä¸»é¢˜... | è«‹è¼¸å…¥ä¸»é¡Œ... |
| `messaging.content` | Message | æ¶ˆæ¯å†…å®¹ | è¨Šæ¯å…§å®¹ |
| `messaging.contentPlaceholder` | Please describe your issue or suggestion in detail... | è¯·è¯¦ç»†æè¿°æ‚¨çš„é—®é¢˜æˆ–å»ºè®®... | è«‹è©³ç´°æè¿°æ‚¨çš„å•é¡Œæˆ–å»ºè­°... |
| `messaging.attachments` | Attachments (Optional) | é™„ä»¶ï¼ˆå¯é€‰ï¼‰ | é™„ä»¶ï¼ˆé¸å¡«ï¼‰ |
| `messaging.addPhoto` | Add Photo | æ·»åŠ å›¾ç‰‡ | æ–°å¢åœ–ç‰‡ |
| `messaging.includeDeviceInfo` | Include device info | é™„å¸¦è®¾å¤‡ä¿¡æ¯ | é™„å¸¶è£ç½®è³‡è¨Š |
| `messaging.status.open` | Open | å¾…å¤„ç† | å¾…è™•ç† |
| `messaging.status.replied` | Replied | å·²å›å¤ | å·²å›è¦† |
| `messaging.status.closed` | Closed | å·²å…³é—­ | å·²é—œé–‰ |
| `messaging.status.resolved` | Resolved | å·²è§£å†³ | å·²è§£æ±º |
| `messaging.helpful` | Was this reply helpful? | æ­¤å›å¤æ˜¯å¦æœ‰å¸®åŠ©ï¼Ÿ | æ­¤å›è¦†æ˜¯å¦æœ‰å¹«åŠ©ï¼Ÿ |
| `messaging.yes` | Yes | æœ‰å¸®åŠ© | æœ‰å¹«åŠ© |
| `messaging.no` | No | æ²¡å¸®åŠ© | æ²’å¹«åŠ© |
| `messaging.thanksFeedback` | Thanks for your feedback! | æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼ | æ„Ÿè¬æ‚¨çš„å›é¥‹ï¼ |
| `messaging.noMessages` | No messages yet | æš‚æ— æ¶ˆæ¯ | æš«ç„¡è¨Šæ¯ |
| `messaging.sendSuccess` | Message sent successfully | æ¶ˆæ¯å‘é€æˆåŠŸ | è¨Šæ¯å‚³é€æˆåŠŸ |
| `messaging.sendFailed` | Failed to send message | æ¶ˆæ¯å‘é€å¤±è´¥ | è¨Šæ¯å‚³é€å¤±æ•— |
| `messaging.replyPlaceholder` | Type a reply... | è¾“å…¥å›å¤... | è¼¸å…¥å›è¦†... |
| `messaging.loginRequired` | Please login to send messages | è¯·ç™»å½•åå‘é€æ¶ˆæ¯ | è«‹ç™»å…¥å¾Œå‚³é€è¨Šæ¯ |
| `messaging.type.technicalIssue` | Technical Issue | æŠ€æœ¯é—®é¢˜ | æŠ€è¡“å•é¡Œ |
| `messaging.type.featureSuggestion` | Feature Suggestion | åŠŸèƒ½å»ºè®® | åŠŸèƒ½å»ºè­° |
| `messaging.type.generalInquiry` | General Inquiry | ä¸€èˆ¬å’¨è¯¢ | ä¸€èˆ¬è«®è©¢ |
| `messaging.type.problemReport` | Report a Problem | é—®é¢˜æŠ¥å‘Š | å•é¡Œå›å ± |
| `messaging.type.complaint` | Complaint | æŠ•è¯‰ | æŠ•è¨´ |
| `messaging.type.businessInquiry` | Business Inquiry | å•†åŠ¡åˆä½œ | å•†å‹™åˆä½œ |

## 7. å®ç°ç»†èŠ‚

### 7.1 æ–‡ä»¶ç»“æ„

```
ios/Readmigo/Features/Messaging/
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ MessageListView.swift           # æ¶ˆæ¯åˆ—è¡¨
â”‚   â”œâ”€â”€ MessageThreadView.swift         # ä¼šè¯è¯¦æƒ…
â”‚   â”œâ”€â”€ NewMessageView.swift            # æ–°å»ºæ¶ˆæ¯
â”‚   â”œâ”€â”€ MessageBubbleView.swift         # æ¶ˆæ¯æ°”æ³¡ç»„ä»¶
â”‚   â”œâ”€â”€ MessageTypePickerView.swift     # æ¶ˆæ¯ç±»å‹é€‰æ‹©
â”‚   â”œâ”€â”€ AttachmentPickerView.swift      # é™„ä»¶é€‰æ‹©å™¨
â”‚   â””â”€â”€ FeedbackRatingView.swift        # æ»¡æ„åº¦è¯„ä»·
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ MessageThread.swift
â”‚   â”œâ”€â”€ Message.swift
â”‚   â”œâ”€â”€ Attachment.swift
â”‚   â””â”€â”€ FeedbackRating.swift
â”œâ”€â”€ ViewModels/
â”‚   â”œâ”€â”€ MessageListViewModel.swift
â”‚   â”œâ”€â”€ MessageThreadViewModel.swift
â”‚   â””â”€â”€ NewMessageViewModel.swift
â”œâ”€â”€ Services/
â”‚   â””â”€â”€ MessagingService.swift          # æ¶ˆæ¯æœåŠ¡
â””â”€â”€ Components/
    â”œâ”€â”€ UnreadBadge.swift               # æœªè¯»è§’æ ‡
    â””â”€â”€ MessagePreviewCard.swift        # æ¶ˆæ¯é¢„è§ˆå¡ç‰‡
```

### 7.2 MessagingService

```swift
import Foundation

@MainActor
class MessagingService: ObservableObject {
    static let shared = MessagingService()

    @Published var unreadCount: Int = 0
    @Published var threads: [MessageThread] = []
    @Published var isLoading = false

    private let apiClient: APIClient

    init(apiClient: APIClient = .shared) {
        self.apiClient = apiClient
    }

    // è·å–æ¶ˆæ¯åˆ—è¡¨
    func fetchThreads(page: Int = 1, status: ThreadStatus? = nil) async throws {
        isLoading = true
        defer { isLoading = false }

        let response = try await apiClient.request(
            endpoint: .messageThreads(page: page, status: status)
        )
        threads = response.threads
    }

    // è·å–ä¼šè¯è¯¦æƒ…
    func fetchThread(id: String) async throws -> MessageThread {
        return try await apiClient.request(endpoint: .messageThread(id: id))
    }

    // åˆ›å»ºæ–°ä¼šè¯
    func createThread(
        type: MessageType,
        subject: String,
        content: String,
        attachmentIds: [String]? = nil,
        includeDeviceInfo: Bool = true
    ) async throws -> MessageThread {
        let body = CreateThreadRequest(
            type: type.rawValue,
            subject: subject,
            content: content,
            attachmentIds: attachmentIds,
            includeDeviceInfo: includeDeviceInfo
        )
        return try await apiClient.request(endpoint: .createThread, body: body)
    }

    // å‘é€å›å¤
    func sendReply(
        threadId: String,
        content: String,
        attachmentIds: [String]? = nil
    ) async throws -> Message {
        let body = SendReplyRequest(
            content: content,
            attachmentIds: attachmentIds
        )
        return try await apiClient.request(
            endpoint: .sendReply(threadId: threadId),
            body: body
        )
    }

    // ä¸Šä¼ é™„ä»¶
    func uploadAttachment(image: UIImage) async throws -> Attachment {
        guard let data = image.jpegData(compressionQuality: 0.8) else {
            throw MessagingError.invalidImage
        }
        return try await apiClient.upload(
            endpoint: .uploadAttachment,
            data: data,
            fileName: "image.jpg",
            mimeType: "image/jpeg"
        )
    }

    // è·å–æœªè¯»æ•°
    func fetchUnreadCount() async throws {
        let response = try await apiClient.request(endpoint: .unreadCount)
        unreadCount = response.count
    }

    // æ ‡è®°å·²è¯»
    func markAsRead(threadId: String) async throws {
        try await apiClient.request(endpoint: .markRead(threadId: threadId))
        await fetchUnreadCount()
    }

    // æäº¤è¯„ä»·
    func submitRating(
        threadId: String,
        messageId: String,
        rating: FeedbackRating.Rating,
        comment: String? = nil
    ) async throws {
        let body = RatingRequest(
            messageId: messageId,
            rating: rating.rawValue,
            comment: comment
        )
        try await apiClient.request(
            endpoint: .submitRating(threadId: threadId),
            body: body
        )
    }
}

enum MessagingError: Error {
    case invalidImage
    case uploadFailed
    case networkError
}
```

### 7.3 æ¨é€é€šçŸ¥é›†æˆ

```swift
// å¤„ç†æ¶ˆæ¯å›å¤æ¨é€
extension AppDelegate {
    func handleMessagingPushNotification(_ userInfo: [AnyHashable: Any]) {
        guard let type = userInfo["type"] as? String,
              type == "message_reply",
              let threadId = userInfo["thread_id"] as? String else {
            return
        }

        // å¯¼èˆªåˆ°å¯¹åº”çš„æ¶ˆæ¯ä¼šè¯
        NotificationCenter.default.post(
            name: .navigateToMessageThread,
            object: nil,
            userInfo: ["threadId": threadId]
        )
    }
}

extension Notification.Name {
    static let navigateToMessageThread = Notification.Name("navigateToMessageThread")
}
```

## 8. åå°ç®¡ç†ï¼ˆDashboardï¼‰ âœ… å·²å®ç°

> **å®ç°çŠ¶æ€**: å·²å®Œæˆ
> **å®ç°æ–‡ä»¶**: `apps/dashboard/src/pages/messages/index.tsx`
> **æäº¤**: `355da2e`

### 8.1 åŠŸèƒ½æ¦‚è¿°

Dashboard éœ€è¦æ”¯æŒä»¥ä¸‹æ¶ˆæ¯ç®¡ç†åŠŸèƒ½ï¼š

| åŠŸèƒ½ | æè¿° | çŠ¶æ€ |
|------|------|------|
| æ¶ˆæ¯åˆ—è¡¨ | æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·æ¶ˆæ¯ï¼Œæ”¯æŒç­›é€‰å’Œæœç´¢ | âœ… å·²å®ç° |
| å›å¤æ¶ˆæ¯ | å®¢æœå›å¤ç”¨æˆ·æ¶ˆæ¯ | âœ… å·²å®ç° |
| çŠ¶æ€ç®¡ç† | æ›´æ”¹æ¶ˆæ¯çŠ¶æ€ï¼ˆå¤„ç†ä¸­/å·²å›å¤/å·²å…³é—­ï¼‰ | âœ… å·²å®ç° |
| åˆ†é…å®¢æœ | å°†æ¶ˆæ¯åˆ†é…ç»™æŒ‡å®šå®¢æœå¤„ç† | â³ åç«¯å·²æ”¯æŒï¼Œå‰ç«¯å¾…å®Œå–„ |
| ç»Ÿè®¡æŠ¥è¡¨ | æ¶ˆæ¯é‡ã€å“åº”æ—¶é—´ã€æ»¡æ„åº¦ç­‰ç»Ÿè®¡ | âœ… å·²å®ç° |
| å›å¤æ¨¡æ¿ | é¢„è®¾å›å¤æ¨¡æ¿å¿«é€Ÿå“åº” | âœ… å·²å®ç° |
| å¯¼å‡ºåŠŸèƒ½ | å¯¼å‡ºæ¶ˆæ¯æ•°æ® | âœ… å·²å®ç° |

### 8.2 Dashboard æ¶ˆæ¯åˆ—è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Messages                                     [Export] [Settings]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [All] [Open: 12] [Replied: 45] [Closed: 128]     Search: [     ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Type    â”‚ User       â”‚ Subject        â”‚ Status  â”‚ Time    â”‚ Act  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚  â“ Tech â”‚ user@xx.comâ”‚ é˜…è¯»å™¨å¡é¡¿é—®é¢˜ â”‚ ğŸŸ¡ Open â”‚ 2h ago  â”‚ [â†’]  â”‚
â”‚  ğŸ“ Feat â”‚ test@yy.cn â”‚ å¸Œæœ›å¢åŠ ç¬”è®°åŠŸèƒ½â”‚ ğŸŸ¢ Done â”‚ 1d ago  â”‚ [â†’]  â”‚
â”‚  ğŸ“¢ Comp â”‚ abc@zz.com â”‚ ä¼šå‘˜æƒç›Šé—®é¢˜   â”‚ ğŸŸ¡ Open â”‚ 3d ago  â”‚ [â†’]  â”‚
â”‚  ...     â”‚            â”‚                â”‚         â”‚         â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 å›å¤ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back                  Technical Issue #12345                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  User: user@example.com                                            â”‚
â”‚  Device: iPhone 15 Pro, iOS 17.0, App 1.0.0                        â”‚
â”‚  Created: 2024-12-20 14:30                                         â”‚
â”‚  Status: [Open â–¼]              Assigned: [Select â–¼]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Conversation                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [User] 2024-12-20 14:30                                      â”‚  â”‚
â”‚  â”‚ é˜…è¯»å™¨é¡µé¢æœ‰æ—¶ä¼šå¡é¡¿ï¼Œå°¤å…¶æ˜¯åœ¨é˜…è¯»é•¿ç¯‡ä¹¦ç±æ—¶ã€‚               â”‚  â”‚
â”‚  â”‚ [Screenshot1.jpg] [Screenshot2.jpg]                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Reply                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚ Type your reply here...                                      â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [Template â–¼]                           [Send & Close] [Send]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 9. äº¤äº’æµç¨‹ âœ… å·²å®ç°

> **å®ç°çŠ¶æ€**: åç«¯APIå’ŒDashboardå·²å®Œæˆï¼ŒiOSå®¢æˆ·ç«¯å¾…å®ç°
> **åç«¯å®ç°**: `apps/backend/src/modules/messages/`
> **Dashboardå®ç°**: `apps/dashboard/src/pages/messages/index.tsx`

### 9.1 å‘é€æ–°æ¶ˆæ¯æµç¨‹

```
[ç”¨æˆ·ç‚¹å‡»"å‘é€ç«™å†…ä¿¡"]
         â”‚
         â–¼
[æ£€æŸ¥ç™»å½•çŠ¶æ€]
         â”‚
         â”œâ”€â”€â”€ æœªç™»å½• â”€â”€â”€ [æ˜¾ç¤ºç™»å½•æç¤º]
         â”‚
         â””â”€â”€â”€ å·²ç™»å½• â”€â”€â”€ [è¿›å…¥æ–°æ¶ˆæ¯é¡µé¢]
                              â”‚
                              â–¼
                      [é€‰æ‹©æ¶ˆæ¯ç±»å‹]
                              â”‚
                              â–¼
                      [å¡«å†™ä¸»é¢˜å’Œå†…å®¹]
                              â”‚
                              â–¼
                      [å¯é€‰ï¼šæ·»åŠ é™„ä»¶]
                              â”‚
                              â–¼
                      [ç‚¹å‡»å‘é€]
                              â”‚
                              â”œâ”€â”€â”€ æˆåŠŸ â”€â”€â”€ [æ˜¾ç¤ºæˆåŠŸæç¤º] â”€â”€â”€ [è·³è½¬åˆ°ä¼šè¯è¯¦æƒ…]
                              â”‚
                              â””â”€â”€â”€ å¤±è´¥ â”€â”€â”€ [æ˜¾ç¤ºé”™è¯¯æç¤º] â”€â”€â”€ [ä¿ç•™å†…å®¹å…è®¸é‡è¯•]
```

### 9.2 æŸ¥çœ‹å›å¤æµç¨‹

```
[æ”¶åˆ°æ¨é€é€šçŸ¥ï¼š"æ‚¨çš„åé¦ˆå·²å›å¤"]
         â”‚
         â–¼
[ç‚¹å‡»é€šçŸ¥]
         â”‚
         â–¼
[æ‰“å¼€ App å¹¶è·³è½¬åˆ°å¯¹åº”ä¼šè¯]
         â”‚
         â–¼
[æŸ¥çœ‹å®˜æ–¹å›å¤]
         â”‚
         â–¼
[å¯é€‰ï¼šç»§ç»­å›å¤æˆ–è¯„ä»·]
         â”‚
         â”œâ”€â”€â”€ ç»§ç»­å›å¤ â”€â”€â”€ [å‘é€æ–°æ¶ˆæ¯åˆ°ä¼šè¯]
         â”‚
         â””â”€â”€â”€ è¯„ä»·å›å¤ â”€â”€â”€ [é€‰æ‹©æœ‰å¸®åŠ©/æ— å¸®åŠ©]
                              â”‚
                              â–¼
                      [æ˜¾ç¤ºæ„Ÿè°¢æç¤º]
```

## 10. æµ‹è¯•ç”¨ä¾‹

### 10.1 åŠŸèƒ½æµ‹è¯•

| æµ‹è¯•é¡¹ | æ­¥éª¤ | é¢„æœŸç»“æœ |
|--------|------|----------|
| å‘é€æ¶ˆæ¯ | å¡«å†™å†…å®¹ç‚¹å‡»å‘é€ | æ¶ˆæ¯å‘é€æˆåŠŸï¼Œè·³è½¬è¯¦æƒ… |
| é™„ä»¶ä¸Šä¼  | æ·»åŠ å›¾ç‰‡é™„ä»¶ | å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼Œæ˜¾ç¤ºç¼©ç•¥å›¾ |
| æŸ¥çœ‹å†å² | è¿›å…¥æ¶ˆæ¯åˆ—è¡¨ | æ˜¾ç¤ºæ‰€æœ‰å†å²æ¶ˆæ¯ |
| æœªè¯»æ ‡è®° | æ”¶åˆ°æ–°å›å¤ | æ˜¾ç¤ºæœªè¯»è§’æ ‡ |
| æ¶ˆæ¯æœç´¢ | æœç´¢å…³é”®è¯ | æ˜¾ç¤ºåŒ¹é…ç»“æœ |
| æ»¡æ„åº¦è¯„ä»· | ç‚¹å‡»è¯„ä»·æŒ‰é’® | è¯„ä»·æäº¤æˆåŠŸ |

### 10.2 è¾¹ç•Œæµ‹è¯•

| æµ‹è¯•é¡¹ | åœºæ™¯ | é¢„æœŸç»“æœ |
|--------|------|----------|
| è¶…é•¿å†…å®¹ | è¾“å…¥è¶…è¿‡2000å­— | æ˜¾ç¤ºå­—æ•°é™åˆ¶æç¤º |
| å¤§å›¾ç‰‡ | ä¸Šä¼ 10MBå›¾ç‰‡ | è‡ªåŠ¨å‹ç¼©æˆ–æç¤ºè¿‡å¤§ |
| å¤šé™„ä»¶ | æ·»åŠ è¶…è¿‡5å¼ å›¾ | æç¤ºæœ€å¤š5å¼  |
| ç½‘ç»œé”™è¯¯ | æ–­ç½‘å‘é€æ¶ˆæ¯ | æ˜¾ç¤ºç½‘ç»œé”™è¯¯ï¼Œä¿ç•™å†…å®¹ |
| æœªç™»å½• | æœªç™»å½•è®¿é—®æ¶ˆæ¯ | è·³è½¬ç™»å½•é¡µé¢ |

## 11. æ•°æ®åˆ†æåŸ‹ç‚¹

| äº‹ä»¶ | æè¿° | å‚æ•° |
|------|------|------|
| `messaging_list_viewed` | æŸ¥çœ‹æ¶ˆæ¯åˆ—è¡¨ | - |
| `messaging_new_opened` | æ‰“å¼€æ–°æ¶ˆæ¯é¡µ | source |
| `messaging_type_selected` | é€‰æ‹©æ¶ˆæ¯ç±»å‹ | type |
| `messaging_sent` | å‘é€æ¶ˆæ¯ | type, hasAttachment, contentLength |
| `messaging_reply_sent` | å‘é€å›å¤ | threadId |
| `messaging_attachment_added` | æ·»åŠ é™„ä»¶ | count |
| `messaging_rating_submitted` | æäº¤è¯„ä»· | rating |
| `messaging_thread_opened` | æ‰“å¼€ä¼šè¯è¯¦æƒ… | threadId, status |

## 12. å®‰å…¨è€ƒè™‘

### 12.1 æƒé™æ§åˆ¶

- ç”¨æˆ·åªèƒ½æŸ¥çœ‹å’Œæ“ä½œè‡ªå·±çš„æ¶ˆæ¯
- é™„ä»¶ä¸Šä¼ éœ€è¦è¿›è¡Œç±»å‹å’Œå¤§å°æ ¡éªŒ
- API è¯·æ±‚éœ€è¦æºå¸¦æœ‰æ•ˆçš„ç”¨æˆ· Token

### 12.2 å†…å®¹å®‰å…¨

- ç”¨æˆ·å‘é€çš„å†…å®¹éœ€è¦è¿›è¡Œæ•æ„Ÿè¯è¿‡æ»¤
- å›¾ç‰‡é™„ä»¶éœ€è¦è¿›è¡Œè¿è§„å†…å®¹æ£€æµ‹
- åå°å›å¤å†…å®¹éœ€è¦å®¡æ ¸æœºåˆ¶

### 12.3 æ•°æ®éšç§

- è®¾å¤‡ä¿¡æ¯ä»…åœ¨ç”¨æˆ·åŒæ„æ—¶é™„å¸¦
- æ¶ˆæ¯å†…å®¹åŠ å¯†å­˜å‚¨
- ç”¨æˆ·å¯ä»¥è¯·æ±‚åˆ é™¤æ¶ˆæ¯å†å²

---

## é™„å½•

### A. å‚è€ƒæ–‡æ¡£

- [å…³äºæ¨¡å—è®¾è®¡](./about-module-design.md)
- [iOS Client Spec](./client-spec.md)
- [API è®¾è®¡è§„èŒƒ](../api/tech-architecture.md)

### B. ç›¸å…³ API Endpoint

| Endpoint | Method | æè¿° |
|----------|--------|------|
| `/api/v1/messages/threads` | GET | è·å–æ¶ˆæ¯åˆ—è¡¨ |
| `/api/v1/messages/threads` | POST | åˆ›å»ºæ–°ä¼šè¯ |
| `/api/v1/messages/threads/{id}` | GET | è·å–ä¼šè¯è¯¦æƒ… |
| `/api/v1/messages/threads/{id}/messages` | POST | å‘é€å›å¤ |
| `/api/v1/messages/threads/{id}/close` | POST | å…³é—­ä¼šè¯ |
| `/api/v1/messages/threads/{id}/read` | POST | æ ‡è®°å·²è¯» |
| `/api/v1/messages/threads/{id}/rating` | POST | æäº¤è¯„ä»· |
| `/api/v1/messages/attachments` | POST | ä¸Šä¼ é™„ä»¶ |
| `/api/v1/messages/unread-count` | GET | è·å–æœªè¯»æ•° |

# iOS å®¢æˆ·ç«¯æ—¥å¿—ä¸°å¯Œåº¦å¢å¼ºè®¾è®¡æ–¹æ¡ˆ

## 1. ç°çŠ¶åˆ†æ

### 1.1 ç°æœ‰æ—¥å¿—ç³»ç»Ÿ

å½“å‰é¡¹ç›®å·²æœ‰ `LoggingService` æ—¥å¿—æœåŠ¡ï¼Œå…·å¤‡ï¼š
- **åŒå±‚æ—¥å¿—æ¶æ„**ï¼šLegacyæ—¥å¿— + RuntimeLogEntry
- **æ—¥å¿—çº§åˆ«**ï¼šDEBUG, INFO, WARNING, ERROR, FATAL
- **æ—¥å¿—åˆ†ç±»**ï¼š14ä¸ªç±»åˆ« (Auth, Books, Reading, AI, Vocabulary ç­‰)
- **è¾“å‡ºæ¸ é“**ï¼šOSLog (Xcode Console) + æœåŠ¡å™¨æ‰¹é‡ä¸Šä¼ 

### 1.2 ç°æœ‰é—®é¢˜

| é—®é¢˜ | æè¿° |
|------|------|
| é¡µé¢è¿½è¸ªç¼ºå¤± | æ²¡æœ‰ç»Ÿä¸€çš„é¡µé¢è¿›å…¥/é€€å‡ºæ—¥å¿— |
| ç”Ÿå‘½å‘¨æœŸç›²åŒº | è§†å›¾çš„ onAppear/onDisappear æ²¡æœ‰è‡ªåŠ¨è®°å½• |
| æ€§èƒ½æ•°æ®ç¼ºå¤± | æ— é¡µé¢åŠ è½½è€—æ—¶ã€æ¸²æŸ“è€—æ—¶ç­‰æŒ‡æ ‡ |
| å¯¼èˆªé“¾è·¯ä¸æ¸…æ™° | æ— æ³•è¿½è¸ªç”¨æˆ·çš„é¡µé¢è·³è½¬è·¯å¾„ |
| æ—¥å¿—æ ¼å¼ä¸ç»Ÿä¸€ | å„æ¨¡å—æ—¥å¿—æ ¼å¼ä¸ä¸€è‡´ï¼Œéš¾ä»¥æ£€ç´¢ |

---

## 2. è®¾è®¡ç›®æ ‡

1. **é¡µé¢çº§è‡ªåŠ¨æ—¥å¿—**ï¼šæ¯ä¸ªé¡µé¢è¿›å…¥/é€€å‡ºæ—¶è‡ªåŠ¨è¾“å‡ºè¯¦ç»†æ—¥å¿—
2. **æ€§èƒ½è¿½è¸ª**ï¼šè®°å½•é¡µé¢åŠ è½½è€—æ—¶ã€é¦–å±æ¸²æŸ“æ—¶é—´
3. **å¯¼èˆªé“¾è·¯è¿½è¸ª**ï¼šå®Œæ•´çš„ç”¨æˆ·é¡µé¢è·³è½¬è·¯å¾„
4. **ç»Ÿä¸€æ—¥å¿—æ ¼å¼**ï¼šç»“æ„åŒ–ã€å¯æ£€ç´¢çš„æ—¥å¿—è¾“å‡º
5. **é›¶ä¾µå…¥å¼**ï¼šé€šè¿‡ ViewModifier å®ç°ï¼Œä¸éœ€è¦å¤§é‡ä¿®æ”¹ç°æœ‰ä»£ç 
6. **å¼€å‘ç¯å¢ƒä¼˜åŒ–**ï¼šDEBUG æ¨¡å¼è¾“å‡ºæ›´è¯¦ç»†ï¼ŒXcode Console æ˜“è¯»

---

## 3. æ¶æ„è®¾è®¡

### 3.1 æ•´ä½“æ¶æ„

```mermaid
graph TD
    subgraph AppLayer["Application Layer - ViewModifiers"]
        PageTracking["PageTracking<br>Modifier"]
        PerfModifier["Performance<br>Modifier"]
        InteractionTracking["InteractionTracking<br>Modifier"]
    end

    subgraph NavTracking["Navigation & State Tracking"]
        NavigationTracker["NavigationTracker<br>pageStack / breadcrumb / sessionFlowId"]
    end

    subgraph LogService["Enhanced Logging Service"]
        LoggingService["LoggingService (Enhanced)<br>pageEnter / pageExit<br>performance / userAction"]
    end

    subgraph Output["Output Formatters"]
        ConsoleLog["ConsoleLog<br>(Debug)"]
        OSLog["OSLog"]
        ServerBatch["ServerBatch"]
    end

    PageTracking --> NavigationTracker
    PerfModifier --> NavigationTracker
    InteractionTracking --> NavigationTracker
    NavigationTracker --> LoggingService
    LoggingService --> ConsoleLog
    LoggingService --> OSLog
    LoggingService --> ServerBatch
```

### 3.2 æ–°å¢æ—¥å¿—åˆ†ç±»

åœ¨ç°æœ‰ `LogCategory` åŸºç¡€ä¸Šæ–°å¢ï¼š

---

## 4. æ ¸å¿ƒç»„ä»¶è®¾è®¡

### 4.1 NavigationTracker - å¯¼èˆªè¿½è¸ªå™¨

**èŒè´£**ï¼šç»´æŠ¤é¡µé¢æ ˆï¼Œè¿½è¸ªå¯¼èˆªè·¯å¾„

**æ—¥å¿—è¾“å‡ºç¤ºä¾‹**ï¼š
```
[Navigation] ğŸ“ Page Stack: Library â†’ BookDetail â†’ ReaderView
[Navigation] Session Flow: abc-123-def
```

### 4.2 PageTrackingModifier - é¡µé¢è¿½è¸ªä¿®é¥°ç¬¦

**èŒè´£**ï¼šè‡ªåŠ¨åœ¨é¡µé¢ onAppear/onDisappear æ—¶è¾“å‡ºæ—¥å¿—

**æ—¥å¿—è¾“å‡ºç¤ºä¾‹**ï¼š
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Lifecycle] â–¶ï¸ PAGE ENTER: BookDetailView
â”œâ”€ Timestamp: 2025-01-15 14:32:05.123
â”œâ”€ Source: LibraryView
â”œâ”€ Session: abc-123-def
â”œâ”€ Breadcrumb: Library â†’ BookDetail
â”œâ”€ Metadata:
â”‚   â””â”€ bookId: "978-0-14-028329-7"
â”‚   â””â”€ bookTitle: "1984"
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Lifecycle] â¹ï¸ PAGE EXIT: BookDetailView
â”œâ”€ Duration: 12.34s
â”œâ”€ Next: ReaderView
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 4.3 PerformanceTrackingModifier - æ€§èƒ½è¿½è¸ªä¿®é¥°ç¬¦

**èŒè´£**ï¼šè¿½è¸ªé¡µé¢åŠ è½½å’Œæ¸²æŸ“æ€§èƒ½

**æ—¥å¿—è¾“å‡ºç¤ºä¾‹**ï¼š
```
[Performance] â±ï¸ RENDER METRICS: ReaderView
â”œâ”€ Init â†’ FirstRender: 0.234s
â”œâ”€ Memory: 45.2 MB
â”œâ”€ Thread: main
```

### 4.4 LoggingService æ‰©å±•

åœ¨ç°æœ‰ LoggingService åŸºç¡€ä¸Šæ‰©å±•ï¼š

### 4.5 Debug Console æ ¼å¼åŒ–è¾“å‡º

ä¸º DEBUG æ¨¡å¼è®¾è®¡çš„æ ¼å¼åŒ–è¾“å‡ºï¼š

---

## 5. ç½‘ç»œè¯·æ±‚æ—¥å¿—å¢å¼º

### 5.1 ç°æœ‰ç½‘ç»œæ—¥å¿—é—®é¢˜

å½“å‰ `APIClient` çš„æ—¥å¿—ï¼š
- ä»…è¾“å‡ºç®€å•æ–‡æœ¬ï¼š`Request started: GET /endpoint`
- ç¼ºå°‘è¯·æ±‚/å“åº”è¯¦æƒ…ï¼ˆBodyã€Headersï¼‰
- æ²¡æœ‰ç»“æ„åŒ–æ ¼å¼ï¼Œéš¾ä»¥æ‰«æ
- é”™è¯¯ä¿¡æ¯ä¸å¤Ÿè¯¦ç»†

### 5.3 APIClient é›†æˆæ”¹åŠ¨

ä¿®æ”¹ `APIClient.swift` ä¸­çš„ `request` æ–¹æ³•ï¼š

### 5.4 ç½‘ç»œæ—¥å¿—è¾“å‡ºç¤ºä¾‹

#### æˆåŠŸè¯·æ±‚

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Network] ğŸ“¤ REQUEST
â”œâ”€ GET /books/978-0-14-028329-7
â”œâ”€ CorrelationId: a1b2c3d4...
â”œâ”€ Timestamp: 14:32:05.123
â”œâ”€ Headers:
â”‚   â””â”€ Accept-Language: zh-Hans
â”‚   â””â”€ X-Platform: ios
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Network] ğŸ“¥ RESPONSE âœ…
â”œâ”€ GET /books/978-0-14-028329-7
â”œâ”€ Status: 200 OK
â”œâ”€ Duration: 234ms
â”œâ”€ Size: 4.2 KB
â”œâ”€ CorrelationId: a1b2c3d4...
â”œâ”€ Body (preview):
â”‚   {
â”‚     "id": "978-0-14-028329-7",
â”‚     "title": "1984",
â”‚     "author": "George Orwell",
â”‚     "coverUrl": "https://...",
â”‚     ...
â”‚   }
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

#### POST è¯·æ±‚

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Network] ğŸ“¤ REQUEST
â”œâ”€ POST /reading/progress
â”œâ”€ CorrelationId: e5f6g7h8...
â”œâ”€ Timestamp: 14:35:12.456
â”œâ”€ Headers:
â”‚   â””â”€ Content-Type: application/json
â”‚   â””â”€ Accept-Language: zh-Hans
â”œâ”€ Body:
â”‚   {
â”‚     "bookId": "978-0-14-028329-7",
â”‚     "chapterIndex": 5,
â”‚     "progress": 0.45,
â”‚     "timestamp": "2025-01-15T14:35:12Z"
â”‚   }
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Network] ğŸ“¥ RESPONSE âœ…
â”œâ”€ POST /reading/progress
â”œâ”€ Status: 200 OK
â”œâ”€ Duration: 156ms
â”œâ”€ Size: 128 B
â”œâ”€ CorrelationId: e5f6g7h8...
â”œâ”€ Body (preview):
â”‚   {
â”‚     "success": true,
â”‚     "syncedAt": "2025-01-15T14:35:12Z"
â”‚   }
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

#### é”™è¯¯è¯·æ±‚

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Network] âŒ ERROR
â”œâ”€ GET /books/invalid-id
â”œâ”€ Status: 404
â”œâ”€ Duration: 89ms
â”œâ”€ Error Type: APIError
â”œâ”€ Message: Book not found
â”œâ”€ CorrelationId: i9j0k1l2...
â”œâ”€ Response Body:
â”‚   {
â”‚     "error": "Not Found",
â”‚     "message": "Book with ID 'invalid-id' does not exist",
â”‚     "statusCode": 404
â”‚   }
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### ç½‘ç»œè¶…æ—¶

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Network] âŒ ERROR
â”œâ”€ GET /ai/generate-summary
â”œâ”€ Status: N/A
â”œâ”€ Duration: 30.00s
â”œâ”€ Error Type: URLError
â”œâ”€ Message: The request timed out.
â”œâ”€ CorrelationId: m3n4o5p6...
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 5.6 å®ç°æ–‡ä»¶

| æ–‡ä»¶ | ç±»å‹ | æè¿° |
|------|------|------|
| `Core/Network/NetworkLogger.swift` | æ–°å¢ | ç½‘ç»œæ—¥å¿—å·¥å…·ç±» |
| `Core/Network/APIClient.swift` | ä¿®æ”¹ | é›†æˆ NetworkLogger |

---

## 6. ä½¿ç”¨æ–¹å¼

### 6.2 å…¨å±€åº”ç”¨ï¼ˆæ‰¹é‡ä¿®æ”¹ï¼‰

åœ¨å…³é”®é¡µé¢å…¥å£ç»Ÿä¸€æ·»åŠ ï¼š

---

## 7. æ—¥å¿—è¾“å‡ºç¤ºä¾‹

### 7.1 å®Œæ•´çš„é¡µé¢åˆ‡æ¢æ—¥å¿—

å½“ç”¨æˆ·ä» Library è¿›å…¥ BookDetail å†è¿›å…¥ Reader æ—¶çš„ Xcode Console è¾“å‡ºï¼š

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Lifecycle] â–¶ï¸ PAGE ENTER: LibraryView
â”œâ”€ Timestamp: 2025-01-15T14:30:00Z
â”œâ”€ Source: App Launch
â”œâ”€ Session: abc12345...
â”œâ”€ Breadcrumb: Library
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Performance] â±ï¸ LibraryView
â”œâ”€ Initâ†’Render: 0.156s
â”œâ”€ Memory: 42.3 MB

[Network] ğŸ“¡ GET /api/v1/books/library â†’ 200 (234ms)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Lifecycle] â¹ï¸ PAGE EXIT: LibraryView
â”œâ”€ Duration: 8.45s
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Lifecycle] â–¶ï¸ PAGE ENTER: BookDetailView
â”œâ”€ Timestamp: 2025-01-15T14:30:08Z
â”œâ”€ Source: LibraryView
â”œâ”€ Session: abc12345...
â”œâ”€ Breadcrumb: Library â†’ BookDetail
â”œâ”€ Metadata:
â”‚   â””â”€ bookId: "978-0-14-028329-7"
â”‚   â””â”€ bookTitle: "1984"
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Performance] â±ï¸ BookDetailView
â”œâ”€ Initâ†’Render: 0.089s
â”œâ”€ Memory: 44.1 MB

[Interaction] ğŸ‘† tap â†’ StartReadingButton @ BookDetailView

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Lifecycle] â¹ï¸ PAGE EXIT: BookDetailView
â”œâ”€ Duration: 3.21s
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Lifecycle] â–¶ï¸ PAGE ENTER: ReaderView
â”œâ”€ Timestamp: 2025-01-15T14:30:11Z
â”œâ”€ Source: BookDetailView
â”œâ”€ Session: abc12345...
â”œâ”€ Breadcrumb: Library â†’ BookDetail â†’ Reader
â”œâ”€ Metadata:
â”‚   â””â”€ bookId: "978-0-14-028329-7"
â”‚   â””â”€ chapter: "1"
â”‚   â””â”€ readingMode: "enhanced"
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Performance] â±ï¸ ReaderView
â”œâ”€ Initâ†’Render: 0.312s
â”œâ”€ Memory: 52.7 MB
```

### 7.2 App å¯åŠ¨æ—¥å¿—

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[App] ğŸš€ APPLICATION LAUNCH
â”œâ”€ Version: 1.2.3 (456)
â”œâ”€ Environment: debugging
â”œâ”€ Device: iPhone 15 Pro (iOS 18.0)
â”œâ”€ Session: abc12345-def6-7890-ghij-klmnopqrstuv
â”œâ”€ Timestamp: 2025-01-15T14:30:00Z
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[Cache] Image cache configured: 50MB memory, 200MB disk, 7-day TTL
[Auth] Checking authentication status...
[Auth] User authenticated: user@example.com
[Network] ğŸ“¡ GET /api/v1/config â†’ 200 (89ms)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Lifecycle] â–¶ï¸ PAGE ENTER: MainTabView
â”œâ”€ Timestamp: 2025-01-15T14:30:00Z
â”œâ”€ Source: App Launch
â”œâ”€ Session: abc12345...
â”œâ”€ Breadcrumb: MainTab
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## 8. å®ç°æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | ç±»å‹ | æè¿° |
|------|------|------|
| `Core/Services/NavigationTracker.swift` | æ–°å¢ | å¯¼èˆªè¿½è¸ªå™¨ |
| `Core/UI/Modifiers/PageTrackingModifier.swift` | æ–°å¢ | é¡µé¢è¿½è¸ªä¿®é¥°ç¬¦ |
| `Core/UI/Modifiers/PerformanceTrackingModifier.swift` | æ–°å¢ | æ€§èƒ½è¿½è¸ªä¿®é¥°ç¬¦ |
| `Core/Services/LoggingService+PageLifecycle.swift` | æ–°å¢ | æ—¥å¿—æœåŠ¡æ‰©å±• |
| `Core/Services/LoggingService+DebugFormatter.swift` | æ–°å¢ | Debugæ ¼å¼åŒ–è¾“å‡º |
| `Core/Network/NetworkLogger.swift` | æ–°å¢ | ç½‘ç»œè¯·æ±‚æ—¥å¿—å·¥å…· |
| `Core/Network/APIClient.swift` | ä¿®æ”¹ | é›†æˆ NetworkLogger |
| `Core/Models/Log.swift` | ä¿®æ”¹ | æ–°å¢ LogCategory |

---

## 9. é…ç½®é€‰é¡¹

---

## 10. å®æ–½æ­¥éª¤

### Phase 1ï¼šåŸºç¡€è®¾æ–½ï¼ˆæ ¸å¿ƒï¼‰
1. åˆ›å»º `NavigationTracker`
2. æ‰©å±• `LogCategory`
3. å®ç° `LoggingService` é¡µé¢ç”Ÿå‘½å‘¨æœŸæ‰©å±•
4. å®ç° Debug æ ¼å¼åŒ–è¾“å‡º

### Phase 2ï¼šViewModifier
1. å®ç° `PageTrackingModifier`
2. å®ç° `PerformanceTrackingModifier`
3. æ·»åŠ  View extension ä¾¿æ·æ–¹æ³•

### Phase 3ï¼šé›†æˆåˆ°ç°æœ‰é¡µé¢
1. åœ¨ `MainTabView` æ·»åŠ è¿½è¸ª
2. åœ¨æ ¸å¿ƒåŠŸèƒ½é¡µé¢æ·»åŠ è¿½è¸ªï¼ˆReaderã€BookDetailã€Auth ç­‰ï¼‰
3. åœ¨äºŒçº§é¡µé¢é€æ­¥æ·»åŠ 

### Phase 4ï¼šå¢å¼ºåŠŸèƒ½
1. ç”¨æˆ·äº¤äº’è¿½è¸ª
2. ç½‘ç»œè¯·æ±‚æ—¥å¿—å¢å¼º
3. é”™è¯¯è¿½è¸ªå¢å¼º

---

## 11. æ³¨æ„äº‹é¡¹

1. **æ€§èƒ½å½±å“**ï¼šæ—¥å¿—æ“ä½œåº”å°½é‡è½»é‡ï¼Œé¿å…åœ¨ä¸»çº¿ç¨‹é˜»å¡
2. **éšç§åˆè§„**ï¼šé¿å…è®°å½•æ•æ„Ÿç”¨æˆ·æ•°æ®ï¼ˆå¦‚å¯†ç ã€tokenï¼‰
3. **æ—¥å¿—æ¸…ç†**ï¼šDEBUG æ—¥å¿—ä¸åº”å‘é€åˆ°æœåŠ¡å™¨
4. **å†…å­˜æ§åˆ¶**ï¼šNavigationTracker çš„ pageStack åº”æœ‰ä¸Šé™ï¼ˆå»ºè®® 50ï¼‰

---

## 12. é¢„æœŸæ•ˆæœ

å®æ–½åçš„æ”¹è¿›ï¼š

| æŒ‡æ ‡ | æ”¹è¿›å‰ | æ”¹è¿›å |
|------|--------|--------|
| é¡µé¢è¿›å…¥æ—¥å¿— | æ—  | æ¯ä¸ªé¡µé¢è‡ªåŠ¨è®°å½• |
| é¡µé¢åœç•™æ—¶é—´ | æ—  | è‡ªåŠ¨è®¡ç®—å¹¶è®°å½• |
| å¯¼èˆªè·¯å¾„ | æ—  | å®Œæ•´ Breadcrumb |
| æ€§èƒ½æŒ‡æ ‡ | æ—  | Initâ†’Render è€—æ—¶ |
| æ—¥å¿—å¯è¯»æ€§ | ä¸€èˆ¬ | ç»“æ„åŒ–æ ¼å¼ï¼Œæ˜“äºæ‰«æ |
| é—®é¢˜å®šä½æ•ˆç‡ | ä½ | å¯å¿«é€Ÿå®šä½ç”¨æˆ·æ“ä½œè·¯å¾„ |

---

è¯· Review è¿™ä»½è®¾è®¡æ–‡æ¡£ï¼Œå¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦è°ƒæ•´çš„åœ°æ–¹ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚ç¡®è®¤åæˆ‘å°†å¼€å§‹å®ç°ã€‚

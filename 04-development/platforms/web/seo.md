# Web SEO 优化

> Next.js 元数据 + 结构化数据 + 性能优化

---

## 1. SEO 策略概览

```
┌─────────────────────────────────────────────────────────────────┐
│                      SEO 优化策略                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  技术 SEO                                                       │
│  ├── Next.js Metadata API                                       │
│  ├── 动态 sitemap.xml                                           │
│  ├── robots.txt 配置                                            │
│  └── 规范化 URL (canonical)                                     │
│                                                                  │
│  内容 SEO                                                       │
│  ├── 结构化数据 (JSON-LD)                                       │
│  ├── Open Graph 标签                                            │
│  ├── Twitter Cards                                              │
│  └── 语义化 HTML                                                │
│                                                                  │
│  性能 SEO                                                       │
│  ├── Core Web Vitals                                            │
│  ├── 移动端友好                                                  │
│  └── 页面加载速度                                                │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 2. Metadata 配置

### 2.1 全局 Metadata

| 字段 | 值 |
|------|-----|
| title.template | %s | ReadMigo |
| title.default | ReadMigo - 智能英文阅读助手 |
| description | AI 驱动的英文原版书阅读应用... |
| keywords | 英文阅读, 原版书, AI 翻译, 词汇学习 |
| authors | ReadMigo Team |
| creator | ReadMigo |
| publisher | ReadMigo |

### 2.2 页面级 Metadata

| 页面 | Title | Description |
|------|-------|-------------|
| 首页 | ReadMigo - 智能英文阅读助手 | AI 驱动的英文原版书阅读... |
| 书籍详情 | {书名} - ReadMigo | {书籍简介前 150 字} |
| 作者页 | {作者名} 的作品 - ReadMigo | {作者简介} |
| 书架 | 我的书架 - ReadMigo | 管理您的阅读书籍... |
| 词汇 | 词汇学习 - ReadMigo | 通过阅读积累词汇... |

---

## 3. Open Graph 配置

### 3.1 基础配置

```
┌─────────────────────────────────────────────────────────────────┐
│                    Open Graph 标签                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  通用标签                                                        │
│  ├── og:site_name: ReadMigo                                     │
│  ├── og:type: website (首页) / book (书籍页)                    │
│  ├── og:locale: zh_CN                                           │
│  └── og:url: 当前页面 URL                                        │
│                                                                  │
│  内容标签                                                        │
│  ├── og:title: 页面标题                                          │
│  ├── og:description: 页面描述                                    │
│  └── og:image: 分享图片 (1200x630)                              │
│                                                                  │
│  书籍页特有                                                      │
│  ├── og:type: book                                              │
│  ├── book:author: 作者名                                         │
│  ├── book:isbn: ISBN                                            │
│  └── book:release_date: 出版日期                                 │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 3.2 分享图片规范

| 场景 | 尺寸 | 格式 |
|------|------|------|
| 默认分享图 | 1200x630 | PNG/JPG |
| 书籍分享图 | 1200x630 | 动态生成 |
| Twitter 卡片 | 1200x600 | PNG/JPG |

---

## 4. 结构化数据

### 4.1 JSON-LD Schema

```
┌─────────────────────────────────────────────────────────────────┐
│                    结构化数据类型                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  Organization (网站级)                                          │
│  ├── name: ReadMigo                                             │
│  ├── url: https://readmigo.app                                  │
│  ├── logo: 品牌 Logo URL                                        │
│  └── sameAs: [社交媒体链接]                                      │
│                                                                  │
│  WebSite (网站级)                                               │
│  ├── name: ReadMigo                                             │
│  ├── url: https://readmigo.app                                  │
│  └── potentialAction: SearchAction                              │
│                                                                  │
│  Book (书籍页)                                                  │
│  ├── @type: Book                                                │
│  ├── name: 书名                                                  │
│  ├── author: { @type: Person, name: 作者名 }                   │
│  ├── isbn: ISBN 号                                              │
│  ├── numberOfPages: 页数                                         │
│  └── aggregateRating: 评分信息                                   │
│                                                                  │
│  Person (作者页)                                                │
│  ├── @type: Person                                              │
│  ├── name: 作者名                                                │
│  └── description: 作者简介                                       │
│                                                                  │
│  BreadcrumbList (面包屑)                                        │
│  └── 页面路径导航                                                │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 4.2 面包屑导航

| 页面 | 路径 |
|------|------|
| 书籍详情 | 首页 > 探索 > 书籍名 |
| 作者页 | 首页 > 探索 > 作者名 |
| 分类页 | 首页 > 探索 > 分类名 |

---

## 5. Sitemap 与 Robots

### 5.1 动态 Sitemap

```
┌─────────────────────────────────────────────────────────────────┐
│                    Sitemap 结构                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  sitemap.xml (索引)                                             │
│  ├── sitemap-static.xml                                         │
│  │   ├── / (首页)                                               │
│  │   ├── /explore                                               │
│  │   └── /help                                                  │
│  ├── sitemap-books.xml                                          │
│  │   └── /book/[id] (所有公开书籍)                               │
│  └── sitemap-authors.xml                                        │
│      └── /author/[id] (所有作者页)                               │
│                                                                  │
│  更新频率                                                        │
│  ├── 首页: daily                                                │
│  ├── 探索页: daily                                              │
│  ├── 书籍页: weekly                                             │
│  └── 作者页: monthly                                            │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 5.2 Robots.txt

| 路径 | 策略 | 说明 |
|------|------|------|
| / | Allow | 允许爬取 |
| /api/* | Disallow | 禁止 API |
| /read/* | Disallow | 禁止阅读器 |
| /library | Disallow | 禁止个人书架 |
| /settings | Disallow | 禁止设置页 |

---

## 6. URL 规范化

### 6.1 URL 结构

| 类型 | 格式 | 示例 |
|------|------|------|
| 书籍详情 | /book/{slug} | /book/pride-and-prejudice |
| 作者页 | /author/{slug} | /author/jane-austen |
| 分类页 | /explore?category={cat} | /explore?category=fiction |
| 搜索页 | /explore?q={query} | /explore?q=austen |

### 6.2 Canonical URL

```
┌─────────────────────────────────────────────────────────────────┐
│                    Canonical URL 规则                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  规则                                                            │
│  ├── 始终使用 https                                              │
│  ├── 不含 www                                                   │
│  ├── 移除无关查询参数                                            │
│  └── 使用规范的路径格式                                          │
│                                                                  │
│  示例                                                            │
│  ├── 正确: https://readmigo.app/book/pride-and-prejudice       │
│  ├── 错误: http://www.readmigo.app/book/123                    │
│  └── 错误: https://readmigo.app/book/pride-and-prejudice?ref=x │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 7. 国际化 SEO

### 7.1 Hreflang 配置

| 语言 | hreflang | URL |
|------|----------|-----|
| 简体中文 | zh-CN | readmigo.app |
| 英文 | en | en.readmigo.app |
| 默认 | x-default | readmigo.app |

### 7.2 多语言 Metadata

```
┌─────────────────────────────────────────────────────────────────┐
│                    多语言 SEO 配置                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  中文站点                                                        │
│  ├── og:locale: zh_CN                                           │
│  ├── title: ReadMigo - 智能英文阅读助手                          │
│  └── description: AI 驱动的英文原版书阅读...                     │
│                                                                  │
│  英文站点                                                        │
│  ├── og:locale: en_US                                           │
│  ├── title: ReadMigo - Smart English Reading                    │
│  └── description: AI-powered English book reading...            │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 8. 性能与 SEO

### 8.1 Core Web Vitals 影响

| 指标 | SEO 影响 | 目标 |
|------|----------|------|
| LCP | 排名因素 | < 2.5s |
| INP | 排名因素 | < 200ms |
| CLS | 排名因素 | < 0.1 |

### 8.2 移动端优化

```
┌─────────────────────────────────────────────────────────────────┐
│                    移动端 SEO 优化                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  视口配置                                                        │
│  └── viewport: width=device-width, initial-scale=1             │
│                                                                  │
│  响应式设计                                                      │
│  ├── 移动优先 CSS                                               │
│  ├── 触摸友好的交互元素                                          │
│  └── 适配各种屏幕尺寸                                            │
│                                                                  │
│  性能优化                                                        │
│  ├── 图片懒加载                                                  │
│  ├── 关键 CSS 内联                                              │
│  └── JS 延迟加载                                                │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 9. 监控与验证

### 9.1 Search Console 监控

| 指标 | 关注点 |
|------|--------|
| 索引覆盖率 | 已索引页面数 |
| 移动端可用性 | 移动端问题 |
| Core Web Vitals | 性能报告 |
| 搜索分析 | 排名与点击 |

### 9.2 SEO 检查清单

```
┌─────────────────────────────────────────────────────────────────┐
│                    SEO 检查清单                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ✅ 技术检查                                                     │
│  ├── 所有页面有唯一 title                                        │
│  ├── 所有页面有 meta description                                │
│  ├── 所有图片有 alt 属性                                         │
│  ├── 正确的 canonical URL                                       │
│  └── 有效的结构化数据                                            │
│                                                                  │
│  ✅ 内容检查                                                     │
│  ├── H1 标签唯一且有意义                                         │
│  ├── 内部链接结构合理                                            │
│  ├── 404 页面友好                                               │
│  └── 关键词自然融入内容                                          │
│                                                                  │
│  ✅ 性能检查                                                     │
│  ├── LCP < 2.5s                                                 │
│  ├── INP < 200ms                                                │
│  ├── CLS < 0.1                                                  │
│  └── 移动端测试通过                                              │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 10. 相关文档

| 文档 | 说明 |
|------|------|
| [performance.md](./performance.md) | 性能优化 |
| [../infrastructure/cdn.md](../infrastructure/cdn.md) | CDN 配置 |

---

*最后更新: 2025-12-31*

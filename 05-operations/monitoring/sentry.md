# Sentry 监控服务

> 错误追踪与性能监控

---

## 1. 服务概览

| 项目 | 值 |
|------|-----|
| 服务类型 | 错误追踪 & 性能监控平台 |
| 官网 | https://sentry.io |
| 定价模式 | 免费套餐 + 按事件量计费 |

核心功能:

| 功能 | 说明 |
|------|------|
| 错误追踪 | 实时错误捕获与聚合 |
| 性能监控 | 事务追踪与分析 |
| 会话回放 | 前端用户操作回放 |
| Release 管理 | 版本追踪与回归检测 |

---

## 2. 项目配置

| 项目 | 平台 | 用途 |
|------|------|------|
| readmigo-api | NestJS (Node.js) | 后端 API 监控 |
| readmigo-ios | iOS (Swift) | iOS 客户端监控 |

---

## 3. 采样率配置

| 环境 | 错误采样率 | 性能采样率 |
|------|-----------|-----------|
| Production | 100% | 10% |
| Local | 0% (禁用) | 0% |

---

## 4. 告警规则

| 告警 | 条件 | 操作 |
|------|------|------|
| 新错误 | 首次出现 | 通知 |
| 错误率飙升 | 5分钟内增长 > 200% | 立即通知 |
| 性能退化 | P95 > 3s 持续 10 分钟 | 告警 |

---

## 5. 环境变量

| 变量 | 说明 |
|------|------|
| SENTRY_DSN | 项目 DSN (Data Source Name) |
| SENTRY_AUTH_TOKEN | Release 管理用 API Token |
| SENTRY_ORG | 组织 slug |
| SENTRY_PROJECT | 项目 slug |

---

## 6. 相关文档

| 文档 | 说明 |
|------|------|
| [monitoring.md](./monitoring.md) | 监控总览 |
| [backend-logging.md](./backend-logging.md) | 后端日志系统 |

---

*最后更新: 2026-02-07*

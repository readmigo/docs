### 1.1 目标
创建独立的古籍影印阅读模块，以高清图片形式展示古籍原貌，保留原书的版式、字体、批注等历史价值。

### 1.2 与现有文本阅读的区别

| 特性 | 文本阅读 | 古籍影印 |
|------|----------|----------|
| 内容形式 | 纯文字 | 高清图片 |
| 交互方式 | 选词查词、标注 | 缩放、翻页 |
| 适用场景 | 语言学习 | 鉴赏、研究 |
| 数据来源 | 维基文库、Gutenberg | 书格、国图、哈佛燕京 |
| 存储需求 | 文本 (~1MB/书) | 图片 (~100-500MB/书) |

---

### 3.1 推荐来源：书格 (shuge.org)

书格是优质的古籍影印资源站，特点：
- 高清扫描（300+ DPI）
- 公有领域，无版权问题
- 分类清晰，元数据完整
- 支持批量下载

### 3.2 首批 10 本示例书籍

| 序号 | 书名 | 朝代 | 分类 | 页数 | 来源 |
|------|------|------|------|------|------|
| 1 | 芥子园画传 | 清 | 艺术 | ~200 | 书格 |
| 2 | 三才图会 | 明 | 类书 | ~300 | 书格 |
| 3 | 本草纲目 | 明 | 医学 | ~400 | 书格 |
| 4 | 天工开物 | 明 | 工艺 | ~150 | 书格 |
| 5 | 永乐大典残卷 | 明 | 类书 | ~100 | 书格 |
| 6 | 十竹斋书画谱 | 明 | 艺术 | ~180 | 书格 |
| 7 | 海错图 | 清 | 博物 | ~60 | 书格 |
| 8 | 山海经图说 | 清 | 神话 | ~80 | 书格 |
| 9 | 点石斋画报 | 清 | 画报 | ~200 | 书格 |
| 10 | 营造法式 | 宋 | 建筑 | ~150 | 书格 |

---

### 5.2 图片优化

| 类型 | 尺寸 | 格式 | 用途 |
|------|------|------|------|
| 原图 | 原始尺寸 | JPEG 90% | 放大查看 |
| 阅读图 | 1200px 宽 | JPEG 80% | 正常阅读 |
| 缩略图 | 300px 宽 | JPEG 60% | 页面导航 |
| 封面 | 400px 宽 | JPEG 80% | 书籍列表 |

### 5.3 性能优化

1. **懒加载**: 只加载可视区域 ±2 页
2. **预加载**: 用户翻页时预加载下一页
3. **缓存**: 使用 Kingfisher 缓存已查看页面
4. **渐进加载**: 先显示缩略图，再加载高清图

---

### Phase 1: 数据层 (1天)
- [ ] 创建 Prisma schema
- [ ] 数据库迁移
- [ ] 创建书格爬虫脚本
- [ ] 导入 10 本示例书籍

### Phase 2: 后端 API (1天)
- [ ] 实现书籍列表 API
- [ ] 实现书籍详情 API
- [ ] 实现页面图片 API
- [ ] 添加筛选和分页

### Phase 3: iOS 客户端 (2-3天)
- [ ] 创建古籍浏览页面
- [ ] 实现图片阅读器
- [ ] 添加手势操作
- [ ] 实现页面导航
- [ ] 性能优化

---

### 8.1 是否需要 OCR？
- **选项 A**: 不需要，纯图片浏览
- **选项 B**: 可选，用于全文搜索
- **建议**: Phase 1 不需要，后续可添加

### 8.2 离线阅读？
- **选项 A**: 仅在线
- **选项 B**: 支持下载整本
- **建议**: Phase 1 在线，后续添加下载

### 8.3 与文本阅读模块的关系？
- **选项 A**: 完全独立的 Tab/入口
- **选项 B**: 同一书籍提供两种阅读模式
- **建议**: 独立入口，作为"古籍鉴赏"功能

---

## 9. 决策检查清单

请确认以下决策：

- [ ] **数据模型**: ScanBook/ScanPage 设计是否合适？
- [ ] **示例书籍**: 10 本书的选择是否合适？
- [ ] **UI 设计**: 浏览页和阅读器布局是否满足需求？
- [ ] **图片策略**: 多分辨率策略是否合理？
- [ ] **入口位置**: 独立 Tab 还是子功能？

---

*文档版本: v1.0*
*创建日期: 2025-12-20*

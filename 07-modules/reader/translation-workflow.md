# 书籍翻译工作流程

## 概述

本文档说明如何使用翻译工具批量翻译书籍章节。

## 翻译方案对比

| 方案 | 成本 | 质量 | 速度 | 适用场景 |
|------|------|------|------|----------|
| **DeepL API** | $20/百万字符 | ⭐⭐⭐⭐⭐ | 快 | 推荐用于文学作品 |
| **OpenAI GPT-4** | $30/百万token | ⭐⭐⭐⭐ | 中 | 可自定义翻译风格 |
| **Google Translate** | $20/百万字符 | ⭐⭐⭐ | 最快 | 大批量快速翻译 |
| **手动翻译** | 免费 | ⭐⭐⭐⭐⭐ | 最慢 | 小规模/高质量需求 |

## 费用估算

《The Jungle》翻译成本：
- 总词数：~150,000词 (~750,000字符)
- DeepL成本：~$15
- OpenAI成本：~$22-30
- 预计时间：2-3小时（API限速）

## 工作流程

### 1. 准备工作

获取翻译API密钥：

**DeepL (推荐)**

**OpenAI**

### 2. 批量翻译章节

### 3. 审查翻译质量

翻译结果保存在 `temp-translations/{bookId}/` 目录：

**质量检查清单：**
- [ ] 段落数量正确
- [ ] 翻译完整（无截断）
- [ ] 专有名词保持一致
- [ ] 语句通顺流畅
- [ ] 保留原文风格

### 4. 上传翻译到R2

### 5. 验证API

## 批量上传脚本

创建自动化上传脚本：

## 故障排除

### API限速

如果遇到限速错误，增加请求间隔：

### 翻译质量问题

对于特定章节，可以使用更高质量的模型：

### 内存不足

处理超长章节时可能遇到内存限制：

## 高级用法

### 自定义翻译提示词

编辑 `batch-translate-chapters.ts` 中的系统提示：

### 并行处理

## 进度跟踪

查看已翻译章节：

## 下一步

完成翻译后：
1. 通知iOS团队API已就绪
2. 提供测试章节ID和API文档
3. 协助集成段落长按翻译功能

# Readmigo v2.0.0 Release Notes

> **发布日期**: 2025 Q2 (计划)
> **平台**: iOS + Android
> **代号**: Audio

---

## 版本亮点 | Highlights

100% Standard Ebooks 高质量内容 + 有声书模块 + Android 客户端。

The 2.0 release features 100% Standard Ebooks quality content, audiobook module, and Android client.

---

## 核心变更 | Major Changes

### 内容来源升级

```
┌─────────────────────────────────────────────────────────────────┐
│                    V2.0 内容策略变更                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│   V1.0 (混合来源)              V2.0 (100% SE)                    │
│   ─────────────────            ─────────────────                 │
│   300 本电子书                 1000+ 本电子书                     │
│   混合数据源                   仅 Standard Ebooks                 │
│   质量参差                     统一高质量                         │
│                                                                   │
│   变更原因：                                                      │
│   • SE 内容质量更高（专业排版）                                   │
│   • 数据结构规范统一                                              │
│   • 封面风格一致                                                  │
│   • 无版权风险（CC0 许可）                                        │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

### 数据迁移

| 操作 | 说明 |
|------|------|
| 数据库清洗 | 删除所有非 SE 来源书籍 |
| R2 清洗 | 删除所有非 SE 来源文件 |
| 重新导入 | 导入全部 SE 书籍（1000+本） |

---

## 功能清单 | Feature List

### 新增功能 | New Features

#### 有声书模块 (Audiobook)

| 功能 | 说明 |
|------|------|
| 有声书列表 | 浏览和搜索有声书 |
| 播放器界面 | 播放/暂停、进度条 |
| 变速播放 | 0.5x - 2.0x 播放速度 |
| 章节切换 | 快速跳转章节 |
| 睡眠定时 | 自动停止播放 |
| 后台播放 | 锁屏/切换App继续播放 |
| 离线下载 | 下载有声书供离线收听 |
| 书电关联 | 有声书与电子书关联 |

#### Android 客户端

| 功能 | 说明 |
|------|------|
| 功能对等 | 与 iOS 功能完全对等 |
| 技术栈 | Kotlin + Jetpack Compose |
| 设计语言 | Material Design 3 |
| 发布渠道 | Google Play |

### 继承功能 | Inherited from V1

| 模块 | 功能 |
|------|------|
| **书架与发现** | 书籍展示、分类浏览、搜索、榜单 |
| **阅读器** | EPUB 渲染、翻页手势、AI 交互、TTS |
| **城邦** | 金句信息流、点赞、分享 |
| **订阅** | 付费墙、应用内购买、订阅管理 |
| **其他** | 登录、游客模式、生词本、数据同步 |

---

## 内容规模 | Content Scale

| 维度 | V1.0 | V2.0 | 变化 |
|------|------|------|------|
| 电子书 | 300 本 | 1000+ 本 | +700 |
| 作者 | 100 位 | ~300 位 | +200 |
| 有声书 | 0 | 150 本 | +150 |
| 数据来源 | 混合 | 100% SE | 统一 |

---

## 技术栈 | Tech Stack

```
┌─────────────────────────────────────────────────────────────────┐
│                      V2.0 技术栈                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│   iOS                         Android                            │
│   ┌─────────────────┐         ┌─────────────────┐               │
│   │ React Native    │         │ Kotlin          │               │
│   │ Expo            │         │ Jetpack Compose │               │
│   │ Swift (部分)    │         │ Material 3      │               │
│   └─────────────────┘         └─────────────────┘               │
│                                                                   │
│   Backend                      Infrastructure                    │
│   ┌─────────────────┐         ┌─────────────────┐               │
│   │ NestJS          │         │ PostgreSQL      │               │
│   │ Node.js ≥20     │         │ Cloudflare R2   │               │
│   │ TypeScript      │         │ Fly.io          │               │
│   └─────────────────┘         └─────────────────┘               │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 平台支持 | Platform Support

| 平台 | V1.0 | V2.0 |
|------|:----:|:----:|
| iOS | ✅ | ✅ |
| Android | ❌ | ✅ |
| Web | ❌ | ❌ |
| Dashboard | ✅ | ✅ |

---

## API 变更 | API Changes

### 新增端点

| 模块 | 端点 | 方法 | 说明 |
|------|------|------|------|
| 有声书 | /audiobooks | GET | 有声书列表 |
| | /audiobooks/:id | GET | 有声书详情 |
| | /audiobooks/:id/chapters | GET | 章节列表 |
| | /audiobooks/:id/progress | GET/PATCH | 播放进度 |
| | /audiobooks/:id/download | GET | 下载链接 |

---

## R2 存储结构 | R2 Storage

```
readmigo/
├── manifests/
│   ├── v1.0.0.json              # V1 清单（保留）
│   └── v2.0.0.json              # V2 清单（新增）
│
├── epubs/                        # 100% SE 电子书
│   └── {book-id}.epub           # 1000+ 文件
│
├── covers/
│   ├── books/                    # 书籍封面
│   └── audiobooks/               # 有声书封面（新增）
│
├── authors/                      # 作者资源
│
└── audiobooks/                   # 音频文件（新增）
    └── {audiobook-id}/
        ├── chapter-01.mp3
        └── ...
```

---

## 迁移注意事项 | Migration Notes

### 用户影响

| 影响项 | 说明 | 处理方式 |
|--------|------|----------|
| 阅读进度 | 非 SE 书籍进度丢失 | 提前通知用户 |
| 生词本 | 关联非 SE 书籍的生词 | 保留生词，解除书籍关联 |
| 书架 | 非 SE 书籍从书架移除 | 自动移除，不可恢复 |

### 版本兼容

| 场景 | 处理 |
|------|------|
| V1 客户端访问 V2 数据 | 通过 manifest 控制，V1 客户端看不到有声书 |
| V2 客户端访问 V1 数据 | 兼容，电子书功能正常 |

---

## 本版本不包含 | Not Included in V2

| 功能 | 计划版本 |
|------|----------|
| Web App | V3 |
| 智能阅读增强 | V3 |
| 用户内容导入 | V4 |
| 社区创作 | V5 |

---

## 相关文档 | Related Documents

| 文档 | 描述 |
|------|------|
| [V2 全栈发布计划](../roadmap/v2-fullstack-release-plan.md) | 发布执行计划 |
| [数据清洗执行记录](../../10-pipeline/execution-logs/P006-v2-data-cleanup.md) | 数据迁移记录 |
| [SE Content Pipeline](../../plans/2026-01-26-se-content-pipeline-design.md) | SE 导入流程设计 |
| [完整版本路线图](../roadmap/complete-version-roadmap.md) | V1-V5 版本规划 |

---

## 版本历史 | Version History

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.0.0 | 2025 Q1 | 首次发布 |
| v2.0.0 | 2025 Q2 | 100% SE + 有声书 + Android |

---

*文档创建日期: 2026-01-26*

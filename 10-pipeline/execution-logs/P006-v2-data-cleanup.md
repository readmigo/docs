# P006: V2.0 æ•°æ®æ¸…æ´—æ‰§è¡Œè®°å½•

> æ¸…æ´—é SE æ•°æ®ï¼Œé‡å»º 100% Standard Ebooks å†…å®¹åº“

---

## æ‰§è¡Œæ¦‚è¦

| é¡¹ç›® | å€¼ |
|------|-----|
| æ‰§è¡Œæ—¥æœŸ | 2026-01-26 |
| æ‰§è¡Œäºº | Claude Code |
| ç›®æ ‡ | æ¸…æ´—æ‰€æœ‰é SE æ•°æ®ï¼Œé‡æ–°å¯¼å…¥ SE ä¹¦ç± |
| çŠ¶æ€ | ğŸ”„ è¿›è¡Œä¸­ (å¯¼å…¥é˜¶æ®µ) |

---

## ä¸€ã€æ‰§è¡Œå‰çŠ¶æ€

### 1.1 æ•°æ®åº“ç»Ÿè®¡

| è¡¨ | è®°å½•æ•° | SE æ¥æº | é SE æ¥æº |
|----|--------|---------|-----------|
| Book | 241 | 197 | 44 |
| Chapter | ~10000 | ~8000 | ~2000 |
| Author | ~100 | - | - |

### 1.2 R2 å­˜å‚¨ç»Ÿè®¡

| ç›®å½• | æ–‡ä»¶æ•° | å¤§å° |
|------|--------|------|
| epubs/ | ~250 | - |
| covers/books/ | ~250 | - |

---

## äºŒã€å¤‡ä»½è®°å½•

### 2.1 æ•°æ®åº“å¤‡ä»½

| å¤‡ä»½é¡¹ | æ—¶é—´ | ä½ç½® | çŠ¶æ€ |
|--------|------|------|:----:|
| Neon Snapshot | - | Neon Console | â˜ |
| SQL Dump | - | - | â˜ |

### 2.2 R2 å¤‡ä»½

| å¤‡ä»½é¡¹ | æ—¶é—´ | ä½ç½® | çŠ¶æ€ |
|--------|------|------|:----:|
| epubs/ ç›®å½• | - | - | â˜ |
| covers/ ç›®å½• | - | - | â˜ |

### 2.3 ç”¨æˆ·æ•°æ®å¯¼å‡º

| æ•°æ®ç±»å‹ | è®°å½•æ•° | å¯¼å‡ºæ–‡ä»¶ | çŠ¶æ€ |
|----------|--------|----------|:----:|
| ReadingProgress | 0 | N/A | âœ… |
| Highlight | 0 | N/A | âœ… |
| Vocabulary | 0 | N/A | âœ… |

> æ³¨ï¼šProduction ç¯å¢ƒæ— ç”¨æˆ·æ•°æ®ï¼Œè·³è¿‡å¤‡ä»½

---

## ä¸‰ã€æ¸…æ´—æ‰§è¡Œ

### 3.1 è¯†åˆ«é SE ä¹¦ç±

```
æ‰§è¡ŒæŸ¥è¯¢ï¼š
SELECT source, COUNT(*) FROM Book GROUP BY source

ç»“æœï¼š
- GUTENBERG: 44 æœ¬
- STANDARD_EBOOKS: 197 æœ¬
```

### 3.2 æ•°æ®åº“æ¸…æ´—

| æ­¥éª¤ | SQL/æ“ä½œ | å½±å“è¡Œæ•° | æ‰§è¡Œæ—¶é—´ | çŠ¶æ€ |
|------|----------|----------|----------|:----:|
| åˆ é™¤é SE ç« èŠ‚ | DELETE FROM Chapter WHERE bookId IN (...) | 1923 | 15:47 UTC | âœ… |
| åˆ é™¤é SE é˜…è¯»è¿›åº¦ | N/A (æ— æ•°æ®) | 0 | - | âœ… |
| åˆ é™¤é SE é«˜äº® | N/A (æ— æ•°æ®) | 0 | - | âœ… |
| åˆ é™¤é SE ä¹¦ç± | DELETE FROM Book WHERE source != 'STANDARD_EBOOKS' | 44 | 15:47 UTC | âœ… |
| æ¸…ç†å­¤ç«‹ä½œè€… | è‡ªåŠ¨çº§è” | - | - | âœ… |

### 3.3 R2 æ¸…æ´—

| æ­¥éª¤ | æ“ä½œ | æ–‡ä»¶æ•° | æ‰§è¡Œæ—¶é—´ | çŠ¶æ€ |
|------|------|--------|----------|:----:|
| åˆ—å‡ºä¿ç•™çš„ book-id | ä»æ•°æ®åº“è·å– | 197 | - | âœ… |
| åˆ é™¤é SE EPUB | æ–°å¯¼å…¥è¦†ç›– | - | - | â³ |
| åˆ é™¤é SE å°é¢ | æ–°å¯¼å…¥è¦†ç›– | - | - | â³ |

---

## å››ã€SE ä¹¦ç±å¯¼å…¥

### 4.1 å¯¼å…¥é…ç½®

| é…ç½®é¡¹ | å€¼ |
|--------|-----|
| æ¥æº | Standard Ebooks (standardebooks.org) |
| ç›®æ ‡æ•°é‡ | 1000+ æœ¬ |
| å¯¼å…¥è„šæœ¬ | `scripts/book-ingestion/sources/standard-ebooks.ts` |
| ç›®æ ‡ç¯å¢ƒ | Production |
| æ‰§è¡ŒæœåŠ¡å™¨ | Droplet (159.65.143.131) |
| æ—¥å¿—æ–‡ä»¶ | `/home/readmigo/logs/se-import-all.log` |

### 4.2 å¯¼å…¥è¿›åº¦

| é˜¶æ®µ | å¼€å§‹æ—¶é—´ | ç»“æŸæ—¶é—´ | å¤„ç†æ•°é‡ | çŠ¶æ€ |
|------|----------|----------|----------|:----:|
| æŠ“å– SE ä¹¦ç±åˆ—è¡¨ | 15:56 UTC | 15:58 UTC | 3432 æ¡ç›® | âœ… |
| ä¸‹è½½ EPUB æ–‡ä»¶ | 15:58 UTC | è¿›è¡Œä¸­ | 682/3422 | ğŸ”„ |
| è§£æå…ƒæ•°æ® | 15:58 UTC | è¿›è¡Œä¸­ | åŒä¸Š | ğŸ”„ |
| å†™å…¥æ•°æ®åº“ | 15:58 UTC | è¿›è¡Œä¸­ | 588 æœ¬ | ğŸ”„ |
| ä¸Šä¼  R2 | 15:58 UTC | è¿›è¡Œä¸­ | åŒä¸Š | ğŸ”„ |

### 4.3 å¯¼å…¥ç»“æœ (å®æ—¶æ›´æ–°)

| æŒ‡æ ‡ | æ•°é‡ |
|------|------|
| æˆåŠŸå¯¼å…¥ä¹¦ç± | 588 |
| æˆåŠŸå¯¼å…¥ä½œè€… | 112 |
| æˆåŠŸå¯¼å…¥ç« èŠ‚ | 20,253 |
| å¤±è´¥/è·³è¿‡ | ~94 (ç½‘ç»œè¶…æ—¶) |

> æœ€åæ›´æ–°: 2026-01-27 ~16:00 UTC

---

## äº”ã€éªŒè¯æ£€æŸ¥

### 5.1 æ•°æ®ä¸€è‡´æ€§

| æ£€æŸ¥é¡¹ | æœŸæœ›å€¼ | å®é™…å€¼ | çŠ¶æ€ |
|--------|--------|--------|:----:|
| Book è¡¨è®°å½•æ•° | â‰¥1000 | 588 (è¿›è¡Œä¸­) | ğŸ”„ |
| æ¯æœ¬ä¹¦æœ‰å°é¢ | 100% | - | â˜ |
| æ¯æœ¬ä¹¦æœ‰ç« èŠ‚ | 100% | - | â˜ |
| R2 EPUB æ•°é‡ = Book æ•°é‡ | ä¸€è‡´ | - | â˜ |
| R2 å°é¢æ•°é‡ = Book æ•°é‡ | ä¸€è‡´ | - | â˜ |

### 5.2 åŠŸèƒ½éªŒè¯

| æ£€æŸ¥é¡¹ | ç»“æœ | çŠ¶æ€ |
|--------|------|:----:|
| API ä¹¦ç±åˆ—è¡¨æ­£å¸¸è¿”å› | - | â˜ |
| API ä¹¦ç±è¯¦æƒ…æ­£å¸¸è¿”å› | - | â˜ |
| API ç« èŠ‚å†…å®¹æ­£å¸¸è¿”å› | - | â˜ |
| å®¢æˆ·ç«¯åŠ è½½ä¹¦ç±æ­£å¸¸ | - | â˜ |
| å®¢æˆ·ç«¯é˜…è¯»å™¨æ­£å¸¸ | - | â˜ |

### 5.3 æŠ½æ ·éªŒè¯

| ä¹¦ç± | å°é¢ | ç« èŠ‚æ•° | å†…å®¹æ¸²æŸ“ | çŠ¶æ€ |
|------|:----:|--------|:--------:|:----:|
| Pride and Prejudice | â˜ | - | â˜ | â˜ |
| The Great Gatsby | â˜ | - | â˜ | â˜ |
| 1984 | â˜ | - | â˜ | â˜ |
| Jane Eyre | â˜ | - | â˜ | â˜ |
| Moby Dick | â˜ | - | â˜ | â˜ |

---

## å…­ã€æ‰§è¡ŒåçŠ¶æ€

### 6.1 æ•°æ®åº“ç»Ÿè®¡

| è¡¨ | æ¸…æ´—å‰ | å½“å‰ | å˜åŒ– |
|----|--------|------|------|
| Book | 241 | 588 | +347 |
| Chapter | ~10000 | 20,253 | +10,253 |
| Author | ~100 | 112 | +12 |

### 6.2 R2 å­˜å‚¨ç»Ÿè®¡

| ç›®å½• | æ¸…æ´—å‰ | å½“å‰ | å˜åŒ– |
|------|--------|------|------|
| epubs/ | ~250 | ~588 | +338 |
| covers/books/ | ~250 | ~588 | +338 |

### 6.3 æ•°æ®æºåˆ†å¸ƒ

| æ¥æº | ä¹¦ç±æ•°é‡ | å æ¯” |
|------|----------|------|
| Standard Ebooks | 588 | 100% |
| å…¶ä»– | 0 | 0% |

---

## ä¸ƒã€é—®é¢˜ä¸è§£å†³

| åºå· | é—®é¢˜æè¿° | è§£å†³æ–¹æ¡ˆ | çŠ¶æ€ |
|------|----------|----------|:----:|
| 1 | Droplet â†’ SE ç½‘ç»œé—´æ­‡æ€§è¶…æ—¶ | å¢åŠ  delay åˆ° 10sï¼Œä½¿ç”¨æœ¬åœ°ç¼“å­˜ EPUB | âœ… |
| 2 | SE ç½‘ç«™ 429 Rate Limit | è„šæœ¬è‡ªåŠ¨ç­‰å¾… 60-120s é‡è¯• | âœ… |
| 3 | ç›®å½•æŠ“å–è¿”å›é‡å¤æ¡ç›® | è„šæœ¬è‡ªåŠ¨å»é‡ï¼Œä½¿ç”¨ progress æ–‡ä»¶è·³è¿‡ | âœ… |

---

## å…«ã€åç»­è¡ŒåŠ¨

| è¡ŒåŠ¨é¡¹ | è´Ÿè´£äºº | æˆªæ­¢æ—¥æœŸ | çŠ¶æ€ |
|--------|--------|----------|:----:|
| ç­‰å¾…å¯¼å…¥å®Œæˆ (ç›®æ ‡ 1000+) | - | TBD | ğŸ”„ |
| æ›´æ–° v2.0.0 manifest | - | - | â˜ |
| é€šçŸ¥ç”¨æˆ·æ•°æ®è¿ç§» | - | - | â˜ |
| éƒ¨ç½²åç«¯ 2.0 | - | - | â˜ |
| iOS 2.0 æå®¡ | - | - | â˜ |

---

## ä¹ã€ç›‘æ§å‘½ä»¤

```bash
# æ£€æŸ¥æ—¥å¿—
ssh -i ~/.ssh/id_ed25519_gmail readmigo@159.65.143.131 \
  "tail -30 /home/readmigo/logs/se-import-all.log"

# æ£€æŸ¥ä¹¦ç±æ•°é‡
ssh -i ~/.ssh/id_ed25519_gmail readmigo@159.65.143.131 \
  "cd ~/projects/readmigo/scripts/book-ingestion && \
   DATABASE_URL='postgresql://neondb_owner:npg_ZqDuagQPH10G@ep-solitary-brook-a121882g-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require' \
   npx tsx -e 'import{PrismaClient}from\"@prisma/client\";new PrismaClient().book.count({where:{source:\"STANDARD_EBOOKS\"}}).then(c=>console.log(\"SE books:\",c))'"

# æ£€æŸ¥è¿›ç¨‹
ssh -i ~/.ssh/id_ed25519_gmail readmigo@159.65.143.131 \
  "ps aux | grep standard-ebooks | grep -v grep"
```

---

## åã€ç›¸å…³æ–‡æ¡£

| æ–‡æ¡£ | æè¿° |
|------|------|
| [V2.0.0 Release Notes](../../08-releases/notes/v2.0.0.md) | ç‰ˆæœ¬è¯´æ˜ |
| [V2 å…¨æ ˆå‘å¸ƒè®¡åˆ’](../../08-releases/roadmap/v2-fullstack-release-plan.md) | å‘å¸ƒè®¡åˆ’ |

---

*æ–‡æ¡£åˆ›å»ºæ—¥æœŸ: 2026-01-26*
*æœ€åæ›´æ–°: 2026-01-27*
